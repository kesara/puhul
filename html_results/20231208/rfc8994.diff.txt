16c16
< <meta content="xml2rfc 3.8.0" name="generator">
---
> <meta content="xml2rfc 3.18.2" name="generator">
49,66c49,62
<   xml2rfc 3.8.0
<     Python 3.6.10
<     appdirs 1.4.4
<     ConfigArgParse 1.2.3
<     google-i18n-address 2.3.5
<     html5lib 1.0.1
<     intervaltree 3.0.2
<     Jinja2 2.11.2
<     kitchen 1.2.6
<     lxml 4.4.2
<     pycairo 1.19.0
<     pycountry 19.8.18
<     pyflakes 2.1.1
<     PyYAML 5.3.1
<     requests 2.22.0
<     setuptools 40.6.2
<     six 1.14.0
<     WeasyPrint 51
---
>   xml2rfc 3.18.2
>     Python 3.11.7
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.2
>     lxml 4.9.3
>     platformdirs 4.1.0
>     pycountry 23.12.7
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.12
68c64
< <link href="rfc8994.xml" rel="alternate" type="application/rfc+xml">
---
> <link href="rfc/rfc8994.xml" rel="alternate" type="application/rfc+xml">
78c74
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
87a84,89
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
90d91
<   width: extend-to-zoom;
105c106
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
107a109
>   overflow-wrap: break-word;
193a196,204
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
208,211d218
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
212a220
>   border: none;
235a244,246
> ul.ulBare, li.ulBare {
>   margin-left: 0em !important;
> }
277c288,289
< a[href].selfRef {
---
> a[href].selfRef,
> .iref + a[href].internal {
287c299
< tt, code, pre, code {
---
> tt, code, pre {
289c301
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
328a341,343
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
418a434,439
> /* Fix PDF info block run off issue */
> @media print {
>   #identifiers dd {
>     float: none;
>   }
> }
520c541
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
660d680
< 
682a703,705
>   .breakable pre {
>     break-inside: auto;
>   }
750c773
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
850c873
< tt, code, pre, code {
---
> tt, code, pre {
855c878
< pre.sourcecode,
---
> .sourcecode pre,
891c914
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
1072a1096
>   .artwork > pre,
1087c1111
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1093a1118,1120
> tr {
>   break-inside: avoid;
> }
1113c1140
<   break-before: avoid-page;
---
>   break-before: auto;
1144c1171
< /* Text in compact lists should not get extra bottim margin space,
---
> /* Text in compact lists should not get extra bottom margin space,
1169c1196
< /* Tweak the comact list text */
---
> /* Tweak the compact list text */
1187c1214
< dd > div:first-child > pre.sourcecode,
---
> dd > div.sourcecode:first-child,
1201c1228
< li > p:last-of-type {
---
> li > p:last-of-type:only-child {
1205a1233
> <link href="https://datatracker.ietf.org/doc/draft-ietf-anima-autonomic-control-plane-30" rel="prev">
1208c1236
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-anima-autonomic-control-plane-30" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1210,1211c1238,1239
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1309,1314c1337,1342
< <nav class="toc"><ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.1">
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-informative" class="xref">Introduction (Informative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.1.2.1">
<                 <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-applicability-and-scope" class="xref">Applicability and Scope</a></p>
---
> <nav class="toc"><ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction-informative" class="internal xref">Introduction (Informative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
>                 <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-applicability-and-scope" class="internal xref">Applicability and Scope</a></p>
1318,1319c1346,1347
<           <li class="compact toc ulEmpty" id="section-toc.1-1.2">
<             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-acronyms-and-terminology-in" class="xref">Acronyms and Terminology (Informative)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
>             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-acronyms-and-terminology-in" class="internal xref">Acronyms and Terminology (Informative)</a></p>
1321,1325c1349,1353
<           <li class="compact toc ulEmpty" id="section-toc.1-1.3">
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-use-cases-for-an-autonomic-" class="xref">Use Cases for an Autonomic Control Plane (Informative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.1">
<                 <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-an-infrastructure-for-auton" class="xref">An Infrastructure for Autonomic Functions</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
>             <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-use-cases-for-an-autonomic-" class="internal xref">Use Cases for an Autonomic Control Plane (Informative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
>                 <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-an-infrastructure-for-auton" class="internal xref">An Infrastructure for Autonomic Functions</a></p>
1327,1328c1355,1356
<               <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2">
<                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-secure-bootstrap-over-an-un" class="xref">Secure Bootstrap over an Unconfigured Network</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
>                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-secure-bootstrap-over-an-un" class="internal xref">Secure Bootstrap over an Unconfigured Network</a></p>
1330,1331c1358,1359
<               <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.3">
<                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-permanent-reachability-inde" class="xref">Permanent Reachability Independent of the Data Plane</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
>                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-permanent-reachability-inde" class="internal xref">Permanent Reachability Independent of the Data Plane</a></p>
1335,1336c1363,1364
<           <li class="compact toc ulEmpty" id="section-toc.1-1.4">
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-requirements-informative" class="xref">Requirements (Informative)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-requirements-informative" class="internal xref">Requirements (Informative)</a></p>
1338,1339c1366,1367
<           <li class="compact toc ulEmpty" id="section-toc.1-1.5">
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-overview-informative" class="xref">Overview (Informative)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-overview-informative" class="internal xref">Overview (Informative)</a></p>
1341,1345c1369,1373
<           <li class="compact toc ulEmpty" id="section-toc.1-1.6">
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-self-creation-of-an-autonom" class="xref">Self-Creation of an Autonomic Control Plane (ACP) (Normative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1">
<                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-requirements-for-the-use-of" class="xref">Requirements for the Use of Transport Layer Security (TLS)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-self-creation-of-an-autonom" class="internal xref">Self-Creation of an Autonomic Control Plane (ACP) (Normative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
>                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-requirements-for-the-use-of" class="internal xref">Requirements for the Use of Transport Layer Security (TLS)</a></p>
1347,1351c1375,1379
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2">
<                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-acp-domain-certificate-and-" class="xref">ACP Domain, Certificate, and Network</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.1">
<                     <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-acp-certificates" class="xref">ACP Certificates</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
>                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-acp-domain-certificate-and-" class="internal xref">ACP Domain, Certificate, and Network</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
>                     <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-acp-certificates" class="internal xref">ACP Certificates</a></p>
1353,1357c1381,1385
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.2">
<                     <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-acp-certificate-acpnodename" class="xref">ACP Certificate AcpNodeName</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.2.2.1">
<                         <p id="section-toc.1-1.6.2.2.2.2.2.1.1"><a href="#section-6.2.2.1" class="xref">6.2.2.1</a>.  <a href="#name-acpnodename-asn1-module" class="xref">AcpNodeName ASN.1 Module</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
>                     <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-acp-certificate-acpnodename" class="internal xref">ACP Certificate AcpNodeName</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2.2.1">
>                         <p id="section-toc.1-1.6.2.2.2.2.2.1.1"><a href="#section-6.2.2.1" class="auto internal xref">6.2.2.1</a>.  <a href="#name-acpnodename-asn1-module" class="internal xref">AcpNodeName ASN.1 Module</a></p>
1361,1365c1389,1393
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.3">
<                     <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-acp-domain-membership-check" class="xref">ACP Domain Membership Check</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.3.2.1">
<                         <p id="section-toc.1-1.6.2.2.2.3.2.1.1"><a href="#section-6.2.3.1" class="xref">6.2.3.1</a>.  <a href="#name-realtime-clock-and-time-val" class="xref">Realtime Clock and Time Validation</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
>                     <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="auto internal xref">6.2.3</a>.  <a href="#name-acp-domain-membership-check" class="internal xref">ACP Domain Membership Check</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3.2.1">
>                         <p id="section-toc.1-1.6.2.2.2.3.2.1.1"><a href="#section-6.2.3.1" class="auto internal xref">6.2.3.1</a>.  <a href="#name-realtime-clock-and-time-val" class="internal xref">Realtime Clock and Time Validation</a></p>
1369,1370c1397,1398
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.4">
<                     <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-trust-anchors-ta" class="xref">Trust Anchors (TA)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
>                     <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="auto internal xref">6.2.4</a>.  <a href="#name-trust-anchors-ta" class="internal xref">Trust Anchors (TA)</a></p>
1372,1376c1400,1404
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5">
<                     <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="xref">6.2.5</a>.  <a href="#name-certificate-and-trust-ancho" class="xref">Certificate and Trust Anchor Maintenance</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.1">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.1.1"><a href="#section-6.2.5.1" class="xref">6.2.5.1</a>.  <a href="#name-grasp-objective-for-est-ser" class="xref">GRASP Objective for EST Server</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5">
>                     <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="auto internal xref">6.2.5</a>.  <a href="#name-certificate-and-trust-ancho" class="internal xref">Certificate and Trust Anchor Maintenance</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.1">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.1.1"><a href="#section-6.2.5.1" class="auto internal xref">6.2.5.1</a>.  <a href="#name-grasp-objective-for-est-ser" class="internal xref">GRASP Objective for EST Server</a></p>
1378,1379c1406,1407
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.2">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.2.1"><a href="#section-6.2.5.2" class="xref">6.2.5.2</a>.  <a href="#name-renewal" class="xref">Renewal</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.2">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.2.1"><a href="#section-6.2.5.2" class="auto internal xref">6.2.5.2</a>.  <a href="#name-renewal" class="internal xref">Renewal</a></p>
1381,1382c1409,1410
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.3">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.3.1"><a href="#section-6.2.5.3" class="xref">6.2.5.3</a>.  <a href="#name-certificate-revocation-list" class="xref">Certificate Revocation Lists (CRLs)</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.3">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.3.1"><a href="#section-6.2.5.3" class="auto internal xref">6.2.5.3</a>.  <a href="#name-certificate-revocation-list" class="internal xref">Certificate Revocation Lists (CRLs)</a></p>
1384,1385c1412,1413
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.4">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.4.1"><a href="#section-6.2.5.4" class="xref">6.2.5.4</a>.  <a href="#name-lifetimes" class="xref">Lifetimes</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.4">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.4.1"><a href="#section-6.2.5.4" class="auto internal xref">6.2.5.4</a>.  <a href="#name-lifetimes" class="internal xref">Lifetimes</a></p>
1387,1388c1415,1416
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.5">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.5.1"><a href="#section-6.2.5.5" class="xref">6.2.5.5</a>.  <a href="#name-reenrollment" class="xref">Reenrollment</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.5">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.5.1"><a href="#section-6.2.5.5" class="auto internal xref">6.2.5.5</a>.  <a href="#name-reenrollment" class="internal xref">Reenrollment</a></p>
1390,1391c1418,1419
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.6">
<                         <p id="section-toc.1-1.6.2.2.2.5.2.6.1"><a href="#section-6.2.5.6" class="xref">6.2.5.6</a>.  <a href="#name-failing-certificates" class="xref">Failing Certificates</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5.2.6">
>                         <p id="section-toc.1-1.6.2.2.2.5.2.6.1"><a href="#section-6.2.5.6" class="auto internal xref">6.2.5.6</a>.  <a href="#name-failing-certificates" class="internal xref">Failing Certificates</a></p>
1397,1398c1425,1426
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.3">
<                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-acp-adjacency-table" class="xref">ACP Adjacency Table</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
>                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-acp-adjacency-table" class="internal xref">ACP Adjacency Table</a></p>
1400,1401c1428,1429
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.4">
<                 <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-neighbor-discovery-with-dul" class="xref">Neighbor Discovery with DULL GRASP</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
>                 <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-neighbor-discovery-with-dul" class="internal xref">Neighbor Discovery with DULL GRASP</a></p>
1403,1404c1431,1432
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.5">
<                 <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-candidate-acp-neighbor-sele" class="xref">Candidate ACP Neighbor Selection</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
>                 <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-candidate-acp-neighbor-sele" class="internal xref">Candidate ACP Neighbor Selection</a></p>
1406,1407c1434,1435
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.6">
<                 <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="xref">6.6</a>.  <a href="#name-channel-selection" class="xref">Channel Selection</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
>                 <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-channel-selection" class="internal xref">Channel Selection</a></p>
1409,1410c1437,1438
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.7">
<                 <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="xref">6.7</a>.  <a href="#name-candidate-acp-neighbor-veri" class="xref">Candidate ACP Neighbor Verification</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
>                 <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-candidate-acp-neighbor-veri" class="internal xref">Candidate ACP Neighbor Verification</a></p>
1412,1416c1440,1444
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8">
<                 <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="xref">6.8</a>.  <a href="#name-security-association-secure" class="xref">Security Association (Secure Channel) Protocols</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.1">
<                     <p id="section-toc.1-1.6.2.8.2.1.1"><a href="#section-6.8.1" class="xref">6.8.1</a>.  <a href="#name-general-considerations" class="xref">General Considerations</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
>                 <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-security-association-secure" class="internal xref">Security Association (Secure Channel) Protocols</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.1">
>                     <p id="section-toc.1-1.6.2.8.2.1.1"><a href="#section-6.8.1" class="auto internal xref">6.8.1</a>.  <a href="#name-general-considerations" class="internal xref">General Considerations</a></p>
1418,1419c1446,1447
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.2">
<                     <p id="section-toc.1-1.6.2.8.2.2.1"><a href="#section-6.8.2" class="xref">6.8.2</a>.  <a href="#name-common-requirements" class="xref">Common Requirements</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.2">
>                     <p id="section-toc.1-1.6.2.8.2.2.1"><a href="#section-6.8.2" class="auto internal xref">6.8.2</a>.  <a href="#name-common-requirements" class="internal xref">Common Requirements</a></p>
1421,1428c1449,1456
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.3">
<                     <p id="section-toc.1-1.6.2.8.2.3.1"><a href="#section-6.8.3" class="xref">6.8.3</a>.  <a href="#name-acp-via-ipsec" class="xref">ACP via IPsec</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1">
<                         <p id="section-toc.1-1.6.2.8.2.3.2.1.1"><a href="#section-6.8.3.1" class="xref">6.8.3.1</a>.  <a href="#name-native-ipsec" class="xref">Native IPsec</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1.2.1">
<                             <p id="section-toc.1-1.6.2.8.2.3.2.1.2.1.1"><a href="#section-6.8.3.1.1" class="xref">6.8.3.1.1</a>.  <a href="#name-rfc-8221-ipsec-esp" class="xref">RFC 8221 (IPsec/ESP)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.3">
>                     <p id="section-toc.1-1.6.2.8.2.3.1"><a href="#section-6.8.3" class="auto internal xref">6.8.3</a>.  <a href="#name-acp-via-ipsec" class="internal xref">ACP via IPsec</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1">
>                         <p id="section-toc.1-1.6.2.8.2.3.2.1.1"><a href="#section-6.8.3.1" class="auto internal xref">6.8.3.1</a>.  <a href="#name-native-ipsec" class="internal xref">Native IPsec</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1.2.1">
>                             <p id="section-toc.1-1.6.2.8.2.3.2.1.2.1.1"><a href="#section-6.8.3.1.1" class="auto internal xref">6.8.3.1.1</a>.  <a href="#name-rfc-8221-ipsec-esp" class="internal xref">RFC 8221 (IPsec/ESP)</a></p>
1430,1431c1458,1459
<                           <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1.2.2">
<                             <p id="section-toc.1-1.6.2.8.2.3.2.1.2.2.1"><a href="#section-6.8.3.1.2" class="xref">6.8.3.1.2</a>.  <a href="#name-rfc-8247-ikev2" class="xref">RFC 8247 (IKEv2)</a></p>
---
>                           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.1.2.2">
>                             <p id="section-toc.1-1.6.2.8.2.3.2.1.2.2.1"><a href="#section-6.8.3.1.2" class="auto internal xref">6.8.3.1.2</a>.  <a href="#name-rfc-8247-ikev2" class="internal xref">RFC 8247 (IKEv2)</a></p>
1435,1436c1463,1464
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.2">
<                         <p id="section-toc.1-1.6.2.8.2.3.2.2.1"><a href="#section-6.8.3.2" class="xref">6.8.3.2</a>.  <a href="#name-ipsec-with-gre-encapsulatio" class="xref">IPsec with GRE Encapsulation</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.3.2.2">
>                         <p id="section-toc.1-1.6.2.8.2.3.2.2.1"><a href="#section-6.8.3.2" class="auto internal xref">6.8.3.2</a>.  <a href="#name-ipsec-with-gre-encapsulatio" class="internal xref">IPsec with GRE Encapsulation</a></p>
1440,1441c1468,1469
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.4">
<                     <p id="section-toc.1-1.6.2.8.2.4.1"><a href="#section-6.8.4" class="xref">6.8.4</a>.  <a href="#name-acp-via-dtls" class="xref">ACP via DTLS</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.4">
>                     <p id="section-toc.1-1.6.2.8.2.4.1"><a href="#section-6.8.4" class="auto internal xref">6.8.4</a>.  <a href="#name-acp-via-dtls" class="internal xref">ACP via DTLS</a></p>
1443,1444c1471,1472
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.8.2.5">
<                     <p id="section-toc.1-1.6.2.8.2.5.1"><a href="#section-6.8.5" class="xref">6.8.5</a>.  <a href="#name-acp-secure-channel-profiles" class="xref">ACP Secure Channel Profiles</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.5">
>                     <p id="section-toc.1-1.6.2.8.2.5.1"><a href="#section-6.8.5" class="auto internal xref">6.8.5</a>.  <a href="#name-acp-secure-channel-profiles" class="internal xref">ACP Secure Channel Profiles</a></p>
1448,1452c1476,1480
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.9">
<                 <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="xref">6.9</a>.  <a href="#name-grasp-in-the-acp" class="xref">GRASP in the ACP</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.9.2.1">
<                     <p id="section-toc.1-1.6.2.9.2.1.1"><a href="#section-6.9.1" class="xref">6.9.1</a>.  <a href="#name-grasp-as-a-core-service-of-" class="xref">GRASP as a Core Service of the ACP</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
>                 <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="auto internal xref">6.9</a>.  <a href="#name-grasp-in-the-acp" class="internal xref">GRASP in the ACP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9.2.1">
>                     <p id="section-toc.1-1.6.2.9.2.1.1"><a href="#section-6.9.1" class="auto internal xref">6.9.1</a>.  <a href="#name-grasp-as-a-core-service-of-" class="internal xref">GRASP as a Core Service of the ACP</a></p>
1454,1458c1482,1486
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.9.2.2">
<                     <p id="section-toc.1-1.6.2.9.2.2.1"><a href="#section-6.9.2" class="xref">6.9.2</a>.  <a href="#name-acp-as-the-security-and-tra" class="xref">ACP as the Security and Transport Substrate for GRASP</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.9.2.2.2.1">
<                         <p id="section-toc.1-1.6.2.9.2.2.2.1.1"><a href="#section-6.9.2.1" class="xref">6.9.2.1</a>.  <a href="#name-discussion" class="xref">Discussion</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9.2.2">
>                     <p id="section-toc.1-1.6.2.9.2.2.1"><a href="#section-6.9.2" class="auto internal xref">6.9.2</a>.  <a href="#name-acp-as-the-security-and-tra" class="internal xref">ACP as the Security and Transport Substrate for GRASP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9.2.2.2.1">
>                         <p id="section-toc.1-1.6.2.9.2.2.2.1.1"><a href="#section-6.9.2.1" class="auto internal xref">6.9.2.1</a>.  <a href="#name-discussion" class="internal xref">Discussion</a></p>
1464,1465c1492,1493
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.10">
<                 <p id="section-toc.1-1.6.2.10.1"><a href="#section-6.10" class="xref">6.10</a>. <a href="#name-context-separation" class="xref">Context Separation</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.10">
>                 <p id="section-toc.1-1.6.2.10.1"><a href="#section-6.10" class="auto internal xref">6.10</a>. <a href="#name-context-separation" class="internal xref">Context Separation</a></p>
1467,1471c1495,1499
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11">
<                 <p id="section-toc.1-1.6.2.11.1"><a href="#section-6.11" class="xref">6.11</a>. <a href="#name-addressing-inside-the-acp" class="xref">Addressing inside the ACP</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.1">
<                     <p id="section-toc.1-1.6.2.11.2.1.1"><a href="#section-6.11.1" class="xref">6.11.1</a>.  <a href="#name-fundamental-concepts-of-aut" class="xref">Fundamental Concepts of Autonomic Addressing</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11">
>                 <p id="section-toc.1-1.6.2.11.1"><a href="#section-6.11" class="auto internal xref">6.11</a>. <a href="#name-addressing-inside-the-acp" class="internal xref">Addressing inside the ACP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.1">
>                     <p id="section-toc.1-1.6.2.11.2.1.1"><a href="#section-6.11.1" class="auto internal xref">6.11.1</a>.  <a href="#name-fundamental-concepts-of-aut" class="internal xref">Fundamental Concepts of Autonomic Addressing</a></p>
1473,1474c1501,1502
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.2">
<                     <p id="section-toc.1-1.6.2.11.2.2.1"><a href="#section-6.11.2" class="xref">6.11.2</a>.  <a href="#name-the-acp-addressing-base-sch" class="xref">The ACP Addressing Base Scheme</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.2">
>                     <p id="section-toc.1-1.6.2.11.2.2.1"><a href="#section-6.11.2" class="auto internal xref">6.11.2</a>.  <a href="#name-the-acp-addressing-base-sch" class="internal xref">The ACP Addressing Base Scheme</a></p>
1476,1477c1504,1505
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.3">
<                     <p id="section-toc.1-1.6.2.11.2.3.1"><a href="#section-6.11.3" class="xref">6.11.3</a>.  <a href="#name-acp-zone-addressing-sub-sch" class="xref">ACP Zone Addressing Sub-Scheme (ACP-Zone)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.3">
>                     <p id="section-toc.1-1.6.2.11.2.3.1"><a href="#section-6.11.3" class="auto internal xref">6.11.3</a>.  <a href="#name-acp-zone-addressing-sub-sch" class="internal xref">ACP Zone Addressing Sub-Scheme (ACP-Zone)</a></p>
1479,1480c1507,1508
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.4">
<                     <p id="section-toc.1-1.6.2.11.2.4.1"><a href="#section-6.11.4" class="xref">6.11.4</a>.  <a href="#name-acp-manual-addressing-sub-s" class="xref">ACP Manual Addressing Sub-Scheme (ACP-Manual)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.4">
>                     <p id="section-toc.1-1.6.2.11.2.4.1"><a href="#section-6.11.4" class="auto internal xref">6.11.4</a>.  <a href="#name-acp-manual-addressing-sub-s" class="internal xref">ACP Manual Addressing Sub-Scheme (ACP-Manual)</a></p>
1482,1483c1510,1511
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.5">
<                     <p id="section-toc.1-1.6.2.11.2.5.1"><a href="#section-6.11.5" class="xref">6.11.5</a>.  <a href="#name-acp-vlong-addressing-sub-sc" class="xref">ACP Vlong Addressing Sub-Scheme (ACP-Vlong-8/ACP-Vlong-16)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.5">
>                     <p id="section-toc.1-1.6.2.11.2.5.1"><a href="#section-6.11.5" class="auto internal xref">6.11.5</a>.  <a href="#name-acp-vlong-addressing-sub-sc" class="internal xref">ACP Vlong Addressing Sub-Scheme (ACP-Vlong-8/ACP-Vlong-16)</a></p>
1485,1486c1513,1514
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.6">
<                     <p id="section-toc.1-1.6.2.11.2.6.1"><a href="#section-6.11.6" class="xref">6.11.6</a>.  <a href="#name-other-acp-addressing-sub-sc" class="xref">Other ACP Addressing Sub-Schemes</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.6">
>                     <p id="section-toc.1-1.6.2.11.2.6.1"><a href="#section-6.11.6" class="auto internal xref">6.11.6</a>.  <a href="#name-other-acp-addressing-sub-sc" class="internal xref">Other ACP Addressing Sub-Schemes</a></p>
1488,1492c1516,1520
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7">
<                     <p id="section-toc.1-1.6.2.11.2.7.1"><a href="#section-6.11.7" class="xref">6.11.7</a>.  <a href="#name-acp-registrars" class="xref">ACP Registrars</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.1">
<                         <p id="section-toc.1-1.6.2.11.2.7.2.1.1"><a href="#section-6.11.7.1" class="xref">6.11.7.1</a>.  <a href="#name-use-of-brski-or-other-mecha" class="xref">Use of BRSKI or Other Mechanisms or Protocols</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7">
>                     <p id="section-toc.1-1.6.2.11.2.7.1"><a href="#section-6.11.7" class="auto internal xref">6.11.7</a>.  <a href="#name-acp-registrars" class="internal xref">ACP Registrars</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.1">
>                         <p id="section-toc.1-1.6.2.11.2.7.2.1.1"><a href="#section-6.11.7.1" class="auto internal xref">6.11.7.1</a>.  <a href="#name-use-of-brski-or-other-mecha" class="internal xref">Use of BRSKI or Other Mechanisms or Protocols</a></p>
1494,1495c1522,1523
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.2">
<                         <p id="section-toc.1-1.6.2.11.2.7.2.2.1"><a href="#section-6.11.7.2" class="xref">6.11.7.2</a>.  <a href="#name-unique-address-prefix-alloc" class="xref">Unique Address/Prefix Allocation</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.2">
>                         <p id="section-toc.1-1.6.2.11.2.7.2.2.1"><a href="#section-6.11.7.2" class="auto internal xref">6.11.7.2</a>.  <a href="#name-unique-address-prefix-alloc" class="internal xref">Unique Address/Prefix Allocation</a></p>
1497,1498c1525,1526
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.3">
<                         <p id="section-toc.1-1.6.2.11.2.7.2.3.1"><a href="#section-6.11.7.3" class="xref">6.11.7.3</a>.  <a href="#name-addressing-sub-scheme-polic" class="xref">Addressing Sub-Scheme Policies</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.3">
>                         <p id="section-toc.1-1.6.2.11.2.7.2.3.1"><a href="#section-6.11.7.3" class="auto internal xref">6.11.7.3</a>.  <a href="#name-addressing-sub-scheme-polic" class="internal xref">Addressing Sub-Scheme Policies</a></p>
1500,1501c1528,1529
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.4">
<                         <p id="section-toc.1-1.6.2.11.2.7.2.4.1"><a href="#section-6.11.7.4" class="xref">6.11.7.4</a>.  <a href="#name-address-prefix-persistence" class="xref">Address/Prefix Persistence</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.4">
>                         <p id="section-toc.1-1.6.2.11.2.7.2.4.1"><a href="#section-6.11.7.4" class="auto internal xref">6.11.7.4</a>.  <a href="#name-address-prefix-persistence" class="internal xref">Address/Prefix Persistence</a></p>
1503,1504c1531,1532
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.5">
<                         <p id="section-toc.1-1.6.2.11.2.7.2.5.1"><a href="#section-6.11.7.5" class="xref">6.11.7.5</a>.  <a href="#name-further-details" class="xref">Further Details</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.7.2.5">
>                         <p id="section-toc.1-1.6.2.11.2.7.2.5.1"><a href="#section-6.11.7.5" class="auto internal xref">6.11.7.5</a>.  <a href="#name-further-details" class="internal xref">Further Details</a></p>
1510,1520c1538,1548
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12">
<                 <p id="section-toc.1-1.6.2.12.1"><a href="#section-6.12" class="xref">6.12</a>. <a href="#name-routing-in-the-acp" class="xref">Routing in the ACP</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1">
<                     <p id="section-toc.1-1.6.2.12.2.1.1"><a href="#section-6.12.1" class="xref">6.12.1</a>.  <a href="#name-acp-rpl-profile" class="xref">ACP RPL Profile</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.1.1"><a href="#section-6.12.1.1" class="xref">6.12.1.1</a>.  <a href="#name-overview" class="xref">Overview</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1.2.1">
<                             <p id="section-toc.1-1.6.2.12.2.1.2.1.2.1.1"><a href="#section-6.12.1.1.1" class="xref">6.12.1.1.1</a>.  <a href="#name-single-instance" class="xref">Single Instance</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12">
>                 <p id="section-toc.1-1.6.2.12.1"><a href="#section-6.12" class="auto internal xref">6.12</a>. <a href="#name-routing-in-the-acp" class="internal xref">Routing in the ACP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1">
>                     <p id="section-toc.1-1.6.2.12.2.1.1"><a href="#section-6.12.1" class="auto internal xref">6.12.1</a>.  <a href="#name-acp-rpl-profile" class="internal xref">ACP RPL Profile</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.1.1"><a href="#section-6.12.1.1" class="auto internal xref">6.12.1.1</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1.2.1">
>                             <p id="section-toc.1-1.6.2.12.2.1.2.1.2.1.1"><a href="#section-6.12.1.1.1" class="auto internal xref">6.12.1.1.1</a>.  <a href="#name-single-instance" class="internal xref">Single Instance</a></p>
1522,1523c1550,1551
<                           <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1.2.2">
<                             <p id="section-toc.1-1.6.2.12.2.1.2.1.2.2.1"><a href="#section-6.12.1.1.2" class="xref">6.12.1.1.2</a>.  <a href="#name-reconvergence" class="xref">Reconvergence</a></p>
---
>                           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.1.2.2">
>                             <p id="section-toc.1-1.6.2.12.2.1.2.1.2.2.1"><a href="#section-6.12.1.1.2" class="auto internal xref">6.12.1.1.2</a>.  <a href="#name-reconvergence" class="internal xref">Reconvergence</a></p>
1527,1528c1555,1556
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.2">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.2.1"><a href="#section-6.12.1.2" class="xref">6.12.1.2</a>.  <a href="#name-rpl-instances" class="xref">RPL Instances</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.2">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.2.1"><a href="#section-6.12.1.2" class="auto internal xref">6.12.1.2</a>.  <a href="#name-rpl-instances" class="internal xref">RPL Instances</a></p>
1530,1531c1558,1559
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.3">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.3.1"><a href="#section-6.12.1.3" class="xref">6.12.1.3</a>.  <a href="#name-storing-vs-non-storing-mode" class="xref">Storing vs. Non-Storing Mode</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.3">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.3.1"><a href="#section-6.12.1.3" class="auto internal xref">6.12.1.3</a>.  <a href="#name-storing-vs-non-storing-mode" class="internal xref">Storing vs. Non-Storing Mode</a></p>
1533,1534c1561,1562
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.4">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.4.1"><a href="#section-6.12.1.4" class="xref">6.12.1.4</a>.  <a href="#name-dao-policy" class="xref">DAO Policy</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.4">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.4.1"><a href="#section-6.12.1.4" class="auto internal xref">6.12.1.4</a>.  <a href="#name-dao-policy" class="internal xref">DAO Policy</a></p>
1536,1537c1564,1565
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.5">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.5.1"><a href="#section-6.12.1.5" class="xref">6.12.1.5</a>.  <a href="#name-path-metrics" class="xref">Path Metrics</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.5">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.5.1"><a href="#section-6.12.1.5" class="auto internal xref">6.12.1.5</a>.  <a href="#name-path-metrics" class="internal xref">Path Metrics</a></p>
1539,1540c1567,1568
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.6">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.6.1"><a href="#section-6.12.1.6" class="xref">6.12.1.6</a>.  <a href="#name-objective-function" class="xref">Objective Function</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.6">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.6.1"><a href="#section-6.12.1.6" class="auto internal xref">6.12.1.6</a>.  <a href="#name-objective-function" class="internal xref">Objective Function</a></p>
1542,1543c1570,1571
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.7">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.7.1"><a href="#section-6.12.1.7" class="xref">6.12.1.7</a>.  <a href="#name-dodag-repair" class="xref">DODAG Repair</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.7">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.7.1"><a href="#section-6.12.1.7" class="auto internal xref">6.12.1.7</a>.  <a href="#name-dodag-repair" class="internal xref">DODAG Repair</a></p>
1545,1546c1573,1574
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.8">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.8.1"><a href="#section-6.12.1.8" class="xref">6.12.1.8</a>.  <a href="#name-multicast" class="xref">Multicast</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.8">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.8.1"><a href="#section-6.12.1.8" class="auto internal xref">6.12.1.8</a>.  <a href="#name-multicast" class="internal xref">Multicast</a></p>
1548,1549c1576,1577
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.9">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.9.1"><a href="#section-6.12.1.9" class="xref">6.12.1.9</a>.  <a href="#name-security" class="xref">Security</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.9">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.9.1"><a href="#section-6.12.1.9" class="auto internal xref">6.12.1.9</a>.  <a href="#name-security" class="internal xref">Security</a></p>
1551,1552c1579,1580
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.10">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.10.1"><a href="#section-6.12.1.10" class="xref">6.12.1.10</a>. <a href="#name-p2p-communications" class="xref">P2P Communications</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.10">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.10.1"><a href="#section-6.12.1.10" class="auto internal xref">6.12.1.10</a>. <a href="#name-p2p-communications" class="internal xref">P2P Communications</a></p>
1554,1555c1582,1583
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.11">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.11.1"><a href="#section-6.12.1.11" class="xref">6.12.1.11</a>. <a href="#name-ipv6-address-configuration" class="xref">IPv6 Address Configuration</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.11">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.11.1"><a href="#section-6.12.1.11" class="auto internal xref">6.12.1.11</a>. <a href="#name-ipv6-address-configuration" class="internal xref">IPv6 Address Configuration</a></p>
1557,1558c1585,1586
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.12">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.12.1"><a href="#section-6.12.1.12" class="xref">6.12.1.12</a>. <a href="#name-administrative-parameters" class="xref">Administrative Parameters</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.12">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.12.1"><a href="#section-6.12.1.12" class="auto internal xref">6.12.1.12</a>. <a href="#name-administrative-parameters" class="internal xref">Administrative Parameters</a></p>
1560,1561c1588,1589
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.13">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.13.1"><a href="#section-6.12.1.13" class="xref">6.12.1.13</a>. <a href="#name-rpl-packet-information" class="xref">RPL Packet Information</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.13">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.13.1"><a href="#section-6.12.1.13" class="auto internal xref">6.12.1.13</a>. <a href="#name-rpl-packet-information" class="internal xref">RPL Packet Information</a></p>
1563,1564c1591,1592
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.14">
<                         <p id="section-toc.1-1.6.2.12.2.1.2.14.1"><a href="#section-6.12.1.14" class="xref">6.12.1.14</a>. <a href="#name-unknown-destinations" class="xref">Unknown Destinations</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12.2.1.2.14">
>                         <p id="section-toc.1-1.6.2.12.2.1.2.14.1"><a href="#section-6.12.1.14" class="auto internal xref">6.12.1.14</a>. <a href="#name-unknown-destinations" class="internal xref">Unknown Destinations</a></p>
1570,1574c1598,1602
<               <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13">
<                 <p id="section-toc.1-1.6.2.13.1"><a href="#section-6.13" class="xref">6.13</a>. <a href="#name-general-acp-considerations" class="xref">General ACP Considerations</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.1">
<                     <p id="section-toc.1-1.6.2.13.2.1.1"><a href="#section-6.13.1" class="xref">6.13.1</a>.  <a href="#name-performance" class="xref">Performance</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13">
>                 <p id="section-toc.1-1.6.2.13.1"><a href="#section-6.13" class="auto internal xref">6.13</a>. <a href="#name-general-acp-considerations" class="internal xref">General ACP Considerations</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.1">
>                     <p id="section-toc.1-1.6.2.13.2.1.1"><a href="#section-6.13.1" class="auto internal xref">6.13.1</a>.  <a href="#name-performance" class="internal xref">Performance</a></p>
1576,1577c1604,1605
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.2">
<                     <p id="section-toc.1-1.6.2.13.2.2.1"><a href="#section-6.13.2" class="xref">6.13.2</a>.  <a href="#name-addressing-of-secure-channe" class="xref">Addressing of Secure Channels</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.2">
>                     <p id="section-toc.1-1.6.2.13.2.2.1"><a href="#section-6.13.2" class="auto internal xref">6.13.2</a>.  <a href="#name-addressing-of-secure-channe" class="internal xref">Addressing of Secure Channels</a></p>
1579,1580c1607,1608
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.3">
<                     <p id="section-toc.1-1.6.2.13.2.3.1"><a href="#section-6.13.3" class="xref">6.13.3</a>.  <a href="#name-mtu" class="xref">MTU</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.3">
>                     <p id="section-toc.1-1.6.2.13.2.3.1"><a href="#section-6.13.3" class="auto internal xref">6.13.3</a>.  <a href="#name-mtu" class="internal xref">MTU</a></p>
1582,1583c1610,1611
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.4">
<                     <p id="section-toc.1-1.6.2.13.2.4.1"><a href="#section-6.13.4" class="xref">6.13.4</a>.  <a href="#name-multiple-links-between-node" class="xref">Multiple Links between Nodes</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.4">
>                     <p id="section-toc.1-1.6.2.13.2.4.1"><a href="#section-6.13.4" class="auto internal xref">6.13.4</a>.  <a href="#name-multiple-links-between-node" class="internal xref">Multiple Links between Nodes</a></p>
1585,1589c1613,1617
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.5">
<                     <p id="section-toc.1-1.6.2.13.2.5.1"><a href="#section-6.13.5" class="xref">6.13.5</a>.  <a href="#name-acp-interfaces" class="xref">ACP Interfaces</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.1">
<                         <p id="section-toc.1-1.6.2.13.2.5.2.1.1"><a href="#section-6.13.5.1" class="xref">6.13.5.1</a>.  <a href="#name-acp-loopback-interfaces" class="xref">ACP Loopback Interfaces</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.5">
>                     <p id="section-toc.1-1.6.2.13.2.5.1"><a href="#section-6.13.5" class="auto internal xref">6.13.5</a>.  <a href="#name-acp-interfaces" class="internal xref">ACP Interfaces</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.1">
>                         <p id="section-toc.1-1.6.2.13.2.5.2.1.1"><a href="#section-6.13.5.1" class="auto internal xref">6.13.5.1</a>.  <a href="#name-acp-loopback-interfaces" class="internal xref">ACP Loopback Interfaces</a></p>
1591,1595c1619,1623
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2">
<                         <p id="section-toc.1-1.6.2.13.2.5.2.2.1"><a href="#section-6.13.5.2" class="xref">6.13.5.2</a>.  <a href="#name-acp-virtual-interfaces" class="xref">ACP Virtual Interfaces</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2.2.1">
<                             <p id="section-toc.1-1.6.2.13.2.5.2.2.2.1.1"><a href="#section-6.13.5.2.1" class="xref">6.13.5.2.1</a>.  <a href="#name-acp-point-to-point-virtual-" class="xref">ACP Point-to-Point Virtual Interfaces</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2">
>                         <p id="section-toc.1-1.6.2.13.2.5.2.2.1"><a href="#section-6.13.5.2" class="auto internal xref">6.13.5.2</a>.  <a href="#name-acp-virtual-interfaces" class="internal xref">ACP Virtual Interfaces</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2.2.1">
>                             <p id="section-toc.1-1.6.2.13.2.5.2.2.2.1.1"><a href="#section-6.13.5.2.1" class="auto internal xref">6.13.5.2.1</a>.  <a href="#name-acp-point-to-point-virtual-" class="internal xref">ACP Point-to-Point Virtual Interfaces</a></p>
1597,1598c1625,1626
<                           <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2.2.2">
<                             <p id="section-toc.1-1.6.2.13.2.5.2.2.2.2.1"><a href="#section-6.13.5.2.2" class="xref">6.13.5.2.2</a>.  <a href="#name-acp-multi-access-virtual-in" class="xref">ACP Multi-Access Virtual Interfaces</a></p>
---
>                           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13.2.5.2.2.2.2">
>                             <p id="section-toc.1-1.6.2.13.2.5.2.2.2.2.1"><a href="#section-6.13.5.2.2" class="auto internal xref">6.13.5.2.2</a>.  <a href="#name-acp-multi-access-virtual-in" class="internal xref">ACP Multi-Access Virtual Interfaces</a></p>
1608,1612c1636,1640
<           <li class="compact toc ulEmpty" id="section-toc.1-1.7">
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-acp-support-on-l2-switches-" class="xref">ACP Support on L2 Switches/Ports (Normative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1">
<                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-why-benefits-of-acp-on-l2-s" class="xref">Why (Benefits of ACP on L2 Switches)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-acp-support-on-l2-switches-" class="internal xref">ACP Support on L2 Switches/Ports (Normative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
>                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-why-benefits-of-acp-on-l2-s" class="internal xref">Why (Benefits of ACP on L2 Switches)</a></p>
1614,1615c1642,1643
<               <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2">
<                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-how-per-l2-port-dull-grasp" class="xref">How (per L2 Port DULL GRASP)</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
>                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-how-per-l2-port-dull-grasp" class="internal xref">How (per L2 Port DULL GRASP)</a></p>
1619,1626c1647,1654
<           <li class="compact toc ulEmpty" id="section-toc.1-1.8">
<             <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-support-for-non-acp-compone" class="xref">Support for Non-ACP Components (Normative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1">
<                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-acp-connect" class="xref">ACP Connect</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1.2.1">
<                     <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="xref">8.1.1</a>.  <a href="#name-non-acp-controller-and-or-n" class="xref">Non-ACP Controller and/or Network Management System (NMS)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
>             <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-support-for-non-acp-compone" class="internal xref">Support for Non-ACP Components (Normative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
>                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-acp-connect" class="internal xref">ACP Connect</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
>                     <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="auto internal xref">8.1.1</a>.  <a href="#name-non-acp-controller-and-or-n" class="internal xref">Non-ACP Controller and/or Network Management System (NMS)</a></p>
1628,1629c1656,1657
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1.2.2">
<                     <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="xref">8.1.2</a>.  <a href="#name-software-components" class="xref">Software Components</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
>                     <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="auto internal xref">8.1.2</a>.  <a href="#name-software-components" class="internal xref">Software Components</a></p>
1631,1632c1659,1660
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1.2.3">
<                     <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="xref">8.1.3</a>.  <a href="#name-autoconfiguration" class="xref">Autoconfiguration</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
>                     <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="auto internal xref">8.1.3</a>.  <a href="#name-autoconfiguration" class="internal xref">Autoconfiguration</a></p>
1634,1635c1662,1663
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1.2.4">
<                     <p id="section-toc.1-1.8.2.1.2.4.1"><a href="#section-8.1.4" class="xref">8.1.4</a>.  <a href="#name-combined-acp-and-data-plane" class="xref">Combined ACP and Data Plane Interface (VRF Select)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.4">
>                     <p id="section-toc.1-1.8.2.1.2.4.1"><a href="#section-8.1.4" class="auto internal xref">8.1.4</a>.  <a href="#name-combined-acp-and-data-plane" class="internal xref">Combined ACP and Data Plane Interface (VRF Select)</a></p>
1637,1638c1665,1666
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1.2.5">
<                     <p id="section-toc.1-1.8.2.1.2.5.1"><a href="#section-8.1.5" class="xref">8.1.5</a>.  <a href="#name-use-of-grasp" class="xref">Use of GRASP</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.5">
>                     <p id="section-toc.1-1.8.2.1.2.5.1"><a href="#section-8.1.5" class="auto internal xref">8.1.5</a>.  <a href="#name-use-of-grasp" class="internal xref">Use of GRASP</a></p>
1642,1646c1670,1674
<               <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.2">
<                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-connecting-acp-islands-over" class="xref">Connecting ACP Islands over Non-ACP L3 Networks (Remote ACP Neighbors)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.2.2.1">
<                     <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="xref">8.2.1</a>.  <a href="#name-configured-remote-acp-neigh" class="xref">Configured Remote ACP Neighbor</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
>                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-connecting-acp-islands-over" class="internal xref">Connecting ACP Islands over Non-ACP L3 Networks (Remote ACP Neighbors)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
>                     <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="auto internal xref">8.2.1</a>.  <a href="#name-configured-remote-acp-neigh" class="internal xref">Configured Remote ACP Neighbor</a></p>
1648,1649c1676,1677
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.2.2.2">
<                     <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="xref">8.2.2</a>.  <a href="#name-tunneled-remote-acp-neighbo" class="xref">Tunneled Remote ACP Neighbor</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
>                     <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="auto internal xref">8.2.2</a>.  <a href="#name-tunneled-remote-acp-neighbo" class="internal xref">Tunneled Remote ACP Neighbor</a></p>
1651,1652c1679,1680
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.2.2.3">
<                     <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="xref">8.2.3</a>.  <a href="#name-summary" class="xref">Summary</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.3">
>                     <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="auto internal xref">8.2.3</a>.  <a href="#name-summary" class="internal xref">Summary</a></p>
1658,1665c1686,1693
<           <li class="compact toc ulEmpty" id="section-toc.1-1.9">
<             <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-acp-operations-informative" class="xref">ACP Operations (Informative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.1">
<                 <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-acp-and-brski-diagnostics" class="xref">ACP (and BRSKI) Diagnostics</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.1.2.1">
<                     <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="xref">9.1.1</a>.  <a href="#name-secure-channel-peer-diagnos" class="xref">Secure Channel Peer Diagnostics</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
>             <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-acp-operations-informative" class="internal xref">ACP Operations (Informative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
>                 <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-acp-and-brski-diagnostics" class="internal xref">ACP (and BRSKI) Diagnostics</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.1">
>                     <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="auto internal xref">9.1.1</a>.  <a href="#name-secure-channel-peer-diagnos" class="internal xref">Secure Channel Peer Diagnostics</a></p>
1669,1673c1697,1701
<               <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2">
<                 <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-acp-registrars-2" class="xref">ACP Registrars</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2.2.1">
<                     <p id="section-toc.1-1.9.2.2.2.1.1"><a href="#section-9.2.1" class="xref">9.2.1</a>.  <a href="#name-registrar-interactions" class="xref">Registrar Interactions</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
>                 <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-acp-registrars-2" class="internal xref">ACP Registrars</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.1">
>                     <p id="section-toc.1-1.9.2.2.2.1.1"><a href="#section-9.2.1" class="auto internal xref">9.2.1</a>.  <a href="#name-registrar-interactions" class="internal xref">Registrar Interactions</a></p>
1675,1676c1703,1704
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2.2.2">
<                     <p id="section-toc.1-1.9.2.2.2.2.1"><a href="#section-9.2.2" class="xref">9.2.2</a>.  <a href="#name-registrar-parameters" class="xref">Registrar Parameters</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.2">
>                     <p id="section-toc.1-1.9.2.2.2.2.1"><a href="#section-9.2.2" class="auto internal xref">9.2.2</a>.  <a href="#name-registrar-parameters" class="internal xref">Registrar Parameters</a></p>
1678,1679c1706,1707
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2.2.3">
<                     <p id="section-toc.1-1.9.2.2.2.3.1"><a href="#section-9.2.3" class="xref">9.2.3</a>.  <a href="#name-certificate-renewal-and-lim" class="xref">Certificate Renewal and Limitations</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.3">
>                     <p id="section-toc.1-1.9.2.2.2.3.1"><a href="#section-9.2.3" class="auto internal xref">9.2.3</a>.  <a href="#name-certificate-renewal-and-lim" class="internal xref">Certificate Renewal and Limitations</a></p>
1681,1682c1709,1710
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2.2.4">
<                     <p id="section-toc.1-1.9.2.2.2.4.1"><a href="#section-9.2.4" class="xref">9.2.4</a>.  <a href="#name-acp-registrars-with-sub-ca" class="xref">ACP Registrars with Sub-CA</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.4">
>                     <p id="section-toc.1-1.9.2.2.2.4.1"><a href="#section-9.2.4" class="auto internal xref">9.2.4</a>.  <a href="#name-acp-registrars-with-sub-ca" class="internal xref">ACP Registrars with Sub-CA</a></p>
1684,1685c1712,1713
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2.2.5">
<                     <p id="section-toc.1-1.9.2.2.2.5.1"><a href="#section-9.2.5" class="xref">9.2.5</a>.  <a href="#name-centralized-policy-control" class="xref">Centralized Policy Control</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.5">
>                     <p id="section-toc.1-1.9.2.2.2.5.1"><a href="#section-9.2.5" class="auto internal xref">9.2.5</a>.  <a href="#name-centralized-policy-control" class="internal xref">Centralized Policy Control</a></p>
1689,1693c1717,1721
<               <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3">
<                 <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-enabling-and-disabling-the-" class="xref">Enabling and Disabling the ACP and/or the ANI</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.1">
<                     <p id="section-toc.1-1.9.2.3.2.1.1"><a href="#section-9.3.1" class="xref">9.3.1</a>.  <a href="#name-filtering-for-non-acp-ani-p" class="xref">Filtering for Non-ACP/ANI Packets</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
>                 <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-enabling-and-disabling-the-" class="internal xref">Enabling and Disabling the ACP and/or the ANI</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.1">
>                     <p id="section-toc.1-1.9.2.3.2.1.1"><a href="#section-9.3.1" class="auto internal xref">9.3.1</a>.  <a href="#name-filtering-for-non-acp-ani-p" class="internal xref">Filtering for Non-ACP/ANI Packets</a></p>
1695,1699c1723,1727
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.2">
<                     <p id="section-toc.1-1.9.2.3.2.2.1"><a href="#section-9.3.2" class="xref">9.3.2</a>.  <a href="#name-admin-down-state" class="xref">"admin down" State</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.1">
<                         <p id="section-toc.1-1.9.2.3.2.2.2.1.1"><a href="#section-9.3.2.1" class="xref">9.3.2.1</a>.  <a href="#name-security-2" class="xref">Security</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2">
>                     <p id="section-toc.1-1.9.2.3.2.2.1"><a href="#section-9.3.2" class="auto internal xref">9.3.2</a>.  <a href="#name-admin-down-state" class="internal xref">"admin down" State</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.1">
>                         <p id="section-toc.1-1.9.2.3.2.2.2.1.1"><a href="#section-9.3.2.1" class="auto internal xref">9.3.2.1</a>.  <a href="#name-security-2" class="internal xref">Security</a></p>
1701,1702c1729,1730
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.2">
<                         <p id="section-toc.1-1.9.2.3.2.2.2.2.1"><a href="#section-9.3.2.2" class="xref">9.3.2.2</a>.  <a href="#name-fast-state-propagation-and-" class="xref">Fast State Propagation and Diagnostics</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.2">
>                         <p id="section-toc.1-1.9.2.3.2.2.2.2.1"><a href="#section-9.3.2.2" class="auto internal xref">9.3.2.2</a>.  <a href="#name-fast-state-propagation-and-" class="internal xref">Fast State Propagation and Diagnostics</a></p>
1704,1705c1732,1733
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.3">
<                         <p id="section-toc.1-1.9.2.3.2.2.2.3.1"><a href="#section-9.3.2.3" class="xref">9.3.2.3</a>.  <a href="#name-low-level-link-diagnostics" class="xref">Low-Level Link Diagnostics</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.3">
>                         <p id="section-toc.1-1.9.2.3.2.2.2.3.1"><a href="#section-9.3.2.3" class="auto internal xref">9.3.2.3</a>.  <a href="#name-low-level-link-diagnostics" class="internal xref">Low-Level Link Diagnostics</a></p>
1707,1708c1735,1736
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.4">
<                         <p id="section-toc.1-1.9.2.3.2.2.2.4.1"><a href="#section-9.3.2.4" class="xref">9.3.2.4</a>.  <a href="#name-power-consumption-issues" class="xref">Power Consumption Issues</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2.2.4">
>                         <p id="section-toc.1-1.9.2.3.2.2.2.4.1"><a href="#section-9.3.2.4" class="auto internal xref">9.3.2.4</a>.  <a href="#name-power-consumption-issues" class="internal xref">Power Consumption Issues</a></p>
1712,1713c1740,1741
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.3">
<                     <p id="section-toc.1-1.9.2.3.2.3.1"><a href="#section-9.3.3" class="xref">9.3.3</a>.  <a href="#name-enabling-interface-level-ac" class="xref">Enabling Interface-Level ACP and ANI</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.3">
>                     <p id="section-toc.1-1.9.2.3.2.3.1"><a href="#section-9.3.3" class="auto internal xref">9.3.3</a>.  <a href="#name-enabling-interface-level-ac" class="internal xref">Enabling Interface-Level ACP and ANI</a></p>
1715,1716c1743,1744
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.4">
<                     <p id="section-toc.1-1.9.2.3.2.4.1"><a href="#section-9.3.4" class="xref">9.3.4</a>.  <a href="#name-which-interfaces-to-auto-en" class="xref">Which Interfaces to Auto-Enable?</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.4">
>                     <p id="section-toc.1-1.9.2.3.2.4.1"><a href="#section-9.3.4" class="auto internal xref">9.3.4</a>.  <a href="#name-which-interfaces-to-auto-en" class="internal xref">Which Interfaces to Auto-Enable?</a></p>
1718,1722c1746,1750
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.5">
<                     <p id="section-toc.1-1.9.2.3.2.5.1"><a href="#section-9.3.5" class="xref">9.3.5</a>.  <a href="#name-enabling-node-level-acp-and" class="xref">Enabling Node-Level ACP and ANI</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.5.2.1">
<                         <p id="section-toc.1-1.9.2.3.2.5.2.1.1"><a href="#section-9.3.5.1" class="xref">9.3.5.1</a>.  <a href="#name-brownfield-nodes" class="xref">Brownfield Nodes</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.5">
>                     <p id="section-toc.1-1.9.2.3.2.5.1"><a href="#section-9.3.5" class="auto internal xref">9.3.5</a>.  <a href="#name-enabling-node-level-acp-and" class="internal xref">Enabling Node-Level ACP and ANI</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.5.2.1">
>                         <p id="section-toc.1-1.9.2.3.2.5.2.1.1"><a href="#section-9.3.5.1" class="auto internal xref">9.3.5.1</a>.  <a href="#name-brownfield-nodes" class="internal xref">Brownfield Nodes</a></p>
1724,1725c1752,1753
<                       <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.5.2.2">
<                         <p id="section-toc.1-1.9.2.3.2.5.2.2.1"><a href="#section-9.3.5.2" class="xref">9.3.5.2</a>.  <a href="#name-greenfield-nodes" class="xref">Greenfield Nodes</a></p>
---
>                       <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.5.2.2">
>                         <p id="section-toc.1-1.9.2.3.2.5.2.2.1"><a href="#section-9.3.5.2" class="auto internal xref">9.3.5.2</a>.  <a href="#name-greenfield-nodes" class="internal xref">Greenfield Nodes</a></p>
1729,1730c1757,1758
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.6">
<                     <p id="section-toc.1-1.9.2.3.2.6.1"><a href="#section-9.3.6" class="xref">9.3.6</a>.  <a href="#name-undoing-ani-acp-enable" class="xref">Undoing "ANI/ACP enable"</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.6">
>                     <p id="section-toc.1-1.9.2.3.2.6.1"><a href="#section-9.3.6" class="auto internal xref">9.3.6</a>.  <a href="#name-undoing-ani-acp-enable" class="internal xref">Undoing "ANI/ACP enable"</a></p>
1732,1733c1760,1761
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3.2.7">
<                     <p id="section-toc.1-1.9.2.3.2.7.1"><a href="#section-9.3.7" class="xref">9.3.7</a>.  <a href="#name-summary-2" class="xref">Summary</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.7">
>                     <p id="section-toc.1-1.9.2.3.2.7.1"><a href="#section-9.3.7" class="auto internal xref">9.3.7</a>.  <a href="#name-summary-2" class="internal xref">Summary</a></p>
1737,1738c1765,1766
<               <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4">
<                 <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="xref">9.4</a>.  <a href="#name-partial-or-incremental-adop" class="xref">Partial or Incremental Adoption</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
>                 <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="auto internal xref">9.4</a>.  <a href="#name-partial-or-incremental-adop" class="internal xref">Partial or Incremental Adoption</a></p>
1740,1741c1768,1769
<               <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.5">
<                 <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="xref">9.5</a>.  <a href="#name-configuration-and-the-acp-s" class="xref">Configuration and the ACP (Summary)</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.5">
>                 <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="auto internal xref">9.5</a>.  <a href="#name-configuration-and-the-acp-s" class="internal xref">Configuration and the ACP (Summary)</a></p>
1745,1749c1773,1777
<           <li class="compact toc ulEmpty" id="section-toc.1-1.10">
<             <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-summary-benefits-informativ" class="xref">Summary: Benefits (Informative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.1">
<                 <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-self-healing-properties" class="xref">Self-Healing Properties</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
>             <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-summary-benefits-informativ" class="internal xref">Summary: Benefits (Informative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
>                 <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-self-healing-properties" class="internal xref">Self-Healing Properties</a></p>
1751,1755c1779,1783
<               <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.2">
<                 <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-self-protection-properties" class="xref">Self-Protection Properties</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.2.2.1">
<                     <p id="section-toc.1-1.10.2.2.2.1.1"><a href="#section-10.2.1" class="xref">10.2.1</a>.  <a href="#name-from-the-outside" class="xref">From the Outside</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
>                 <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-self-protection-properties" class="internal xref">Self-Protection Properties</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2.2.1">
>                     <p id="section-toc.1-1.10.2.2.2.1.1"><a href="#section-10.2.1" class="auto internal xref">10.2.1</a>.  <a href="#name-from-the-outside" class="internal xref">From the Outside</a></p>
1757,1758c1785,1786
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.2.2.2">
<                     <p id="section-toc.1-1.10.2.2.2.2.1"><a href="#section-10.2.2" class="xref">10.2.2</a>.  <a href="#name-from-the-inside" class="xref">From the Inside</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2.2.2">
>                     <p id="section-toc.1-1.10.2.2.2.2.1"><a href="#section-10.2.2" class="auto internal xref">10.2.2</a>.  <a href="#name-from-the-inside" class="internal xref">From the Inside</a></p>
1762,1763c1790,1791
<               <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.3">
<                 <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-the-administrator-view" class="xref">The Administrator View</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
>                 <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-the-administrator-view" class="internal xref">The Administrator View</a></p>
1767,1768c1795,1796
<           <li class="compact toc ulEmpty" id="section-toc.1-1.11">
<             <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
>             <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1770,1771c1798,1799
<           <li class="compact toc ulEmpty" id="section-toc.1-1.12">
<             <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
>             <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1773,1777c1801,1805
<           <li class="compact toc ulEmpty" id="section-toc.1-1.13">
<             <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-references" class="xref">References</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.1">
<                 <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
>             <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
>                 <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1779,1780c1807,1808
<               <li class="compact toc ulEmpty" id="section-toc.1-1.13.2.2">
<                 <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
>                 <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1784,1788c1812,1816
<           <li class="compact toc ulEmpty" id="section-toc.1-1.14">
<             <p id="section-toc.1-1.14.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-background-and-future-infor" class="xref">Background and Future (Informative)</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.1">
<                 <p id="section-toc.1-1.14.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-acp-address-space-schemes" class="xref">ACP Address Space Schemes</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
>             <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-background-and-future-infor" class="internal xref">Background and Future (Informative)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
>                 <p id="section-toc.1-1.14.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-acp-address-space-schemes" class="internal xref">ACP Address Space Schemes</a></p>
1790,1791c1818,1819
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.2">
<                 <p id="section-toc.1-1.14.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-brski-bootstrap-ani" class="xref">BRSKI Bootstrap (ANI)</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
>                 <p id="section-toc.1-1.14.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-brski-bootstrap-ani" class="internal xref">BRSKI Bootstrap (ANI)</a></p>
1793,1797c1821,1825
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.3">
<                 <p id="section-toc.1-1.14.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-acp-neighbor-discovery-prot" class="xref">ACP Neighbor Discovery Protocol Selection</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.3.2.1">
<                     <p id="section-toc.1-1.14.2.3.2.1.1"><a href="#section-a.3.1" class="xref">A.3.1</a>.  <a href="#name-lldp" class="xref">LLDP</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
>                 <p id="section-toc.1-1.14.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-acp-neighbor-discovery-prot" class="internal xref">ACP Neighbor Discovery Protocol Selection</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.1">
>                     <p id="section-toc.1-1.14.2.3.2.1.1"><a href="#appendix-A.3.1" class="auto internal xref">A.3.1</a>.  <a href="#name-lldp" class="internal xref">LLDP</a></p>
1799,1800c1827,1828
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.3.2.2">
<                     <p id="section-toc.1-1.14.2.3.2.2.1"><a href="#section-a.3.2" class="xref">A.3.2</a>.  <a href="#name-mdns-and-l2-support" class="xref">mDNS and L2 Support</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.2">
>                     <p id="section-toc.1-1.14.2.3.2.2.1"><a href="#appendix-A.3.2" class="auto internal xref">A.3.2</a>.  <a href="#name-mdns-and-l2-support" class="internal xref">mDNS and L2 Support</a></p>
1802,1803c1830,1831
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.3.2.3">
<                     <p id="section-toc.1-1.14.2.3.2.3.1"><a href="#section-a.3.3" class="xref">A.3.3</a>.  <a href="#name-why-dull-grasp" class="xref">Why DULL GRASP?</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.3">
>                     <p id="section-toc.1-1.14.2.3.2.3.1"><a href="#appendix-A.3.3" class="auto internal xref">A.3.3</a>.  <a href="#name-why-dull-grasp" class="internal xref">Why DULL GRASP?</a></p>
1807,1808c1835,1836
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.4">
<                 <p id="section-toc.1-1.14.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-choice-of-routing-protocol-" class="xref">Choice of Routing Protocol (RPL)</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.4">
>                 <p id="section-toc.1-1.14.2.4.1"><a href="#appendix-A.4" class="auto internal xref">A.4</a>.  <a href="#name-choice-of-routing-protocol-" class="internal xref">Choice of Routing Protocol (RPL)</a></p>
1810,1811c1838,1839
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.5">
<                 <p id="section-toc.1-1.14.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-acp-information-distributio" class="xref">ACP Information Distribution and Multicast</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.5">
>                 <p id="section-toc.1-1.14.2.5.1"><a href="#appendix-A.5" class="auto internal xref">A.5</a>.  <a href="#name-acp-information-distributio" class="internal xref">ACP Information Distribution and Multicast</a></p>
1813,1814c1841,1842
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.6">
<                 <p id="section-toc.1-1.14.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-cas-domains-and-routing-sub" class="xref">CAs, Domains, and Routing Subdomains</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.6">
>                 <p id="section-toc.1-1.14.2.6.1"><a href="#appendix-A.6" class="auto internal xref">A.6</a>.  <a href="#name-cas-domains-and-routing-sub" class="internal xref">CAs, Domains, and Routing Subdomains</a></p>
1816,1817c1844,1845
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.7">
<                 <p id="section-toc.1-1.14.2.7.1"><a href="#section-a.7" class="xref">A.7</a>.  <a href="#name-intent-for-the-acp" class="xref">Intent for the ACP</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.7">
>                 <p id="section-toc.1-1.14.2.7.1"><a href="#appendix-A.7" class="auto internal xref">A.7</a>.  <a href="#name-intent-for-the-acp" class="internal xref">Intent for the ACP</a></p>
1819,1820c1847,1848
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.8">
<                 <p id="section-toc.1-1.14.2.8.1"><a href="#section-a.8" class="xref">A.8</a>.  <a href="#name-adopting-acp-concepts-for-o" class="xref">Adopting ACP Concepts for Other Environments</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.8">
>                 <p id="section-toc.1-1.14.2.8.1"><a href="#appendix-A.8" class="auto internal xref">A.8</a>.  <a href="#name-adopting-acp-concepts-for-o" class="internal xref">Adopting ACP Concepts for Other Environments</a></p>
1822,1826c1850,1854
<               <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9">
<                 <p id="section-toc.1-1.14.2.9.1"><a href="#section-a.9" class="xref">A.9</a>.  <a href="#name-further-future-options" class="xref">Further (Future) Options</a></p>
< <ul class="compact toc ulEmpty">
< <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.1">
<                     <p id="section-toc.1-1.14.2.9.2.1.1"><a href="#section-a.9.1" class="xref">A.9.1</a>.  <a href="#name-auto-aggregation-of-routes" class="xref">Auto-Aggregation of Routes</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9">
>                 <p id="section-toc.1-1.14.2.9.1"><a href="#appendix-A.9" class="auto internal xref">A.9</a>.  <a href="#name-further-future-options" class="internal xref">Further (Future) Options</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.1">
>                     <p id="section-toc.1-1.14.2.9.2.1.1"><a href="#appendix-A.9.1" class="auto internal xref">A.9.1</a>.  <a href="#name-auto-aggregation-of-routes" class="internal xref">Auto-Aggregation of Routes</a></p>
1828,1829c1856,1857
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.2">
<                     <p id="section-toc.1-1.14.2.9.2.2.1"><a href="#section-a.9.2" class="xref">A.9.2</a>.  <a href="#name-more-options-for-avoiding-i" class="xref">More Options for Avoiding IPv6 Data Plane Dependencies</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.2">
>                     <p id="section-toc.1-1.14.2.9.2.2.1"><a href="#appendix-A.9.2" class="auto internal xref">A.9.2</a>.  <a href="#name-more-options-for-avoiding-i" class="internal xref">More Options for Avoiding IPv6 Data Plane Dependencies</a></p>
1831,1832c1859,1860
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.3">
<                     <p id="section-toc.1-1.14.2.9.2.3.1"><a href="#section-a.9.3" class="xref">A.9.3</a>.  <a href="#name-acp-apis-and-operational-mo" class="xref">ACP APIs and Operational Models (YANG)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.3">
>                     <p id="section-toc.1-1.14.2.9.2.3.1"><a href="#appendix-A.9.3" class="auto internal xref">A.9.3</a>.  <a href="#name-acp-apis-and-operational-mo" class="internal xref">ACP APIs and Operational Models (YANG)</a></p>
1834,1835c1862,1863
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.4">
<                     <p id="section-toc.1-1.14.2.9.2.4.1"><a href="#section-a.9.4" class="xref">A.9.4</a>.  <a href="#name-rpl-enhancements" class="xref">RPL Enhancements</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.4">
>                     <p id="section-toc.1-1.14.2.9.2.4.1"><a href="#appendix-A.9.4" class="auto internal xref">A.9.4</a>.  <a href="#name-rpl-enhancements" class="internal xref">RPL Enhancements</a></p>
1837,1838c1865,1866
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.5">
<                     <p id="section-toc.1-1.14.2.9.2.5.1"><a href="#section-a.9.5" class="xref">A.9.5</a>.  <a href="#name-role-assignments" class="xref">Role Assignments</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.5">
>                     <p id="section-toc.1-1.14.2.9.2.5.1"><a href="#appendix-A.9.5" class="auto internal xref">A.9.5</a>.  <a href="#name-role-assignments" class="internal xref">Role Assignments</a></p>
1840,1841c1868,1869
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.6">
<                     <p id="section-toc.1-1.14.2.9.2.6.1"><a href="#section-a.9.6" class="xref">A.9.6</a>.  <a href="#name-autonomic-l3-transit" class="xref">Autonomic L3 Transit</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.6">
>                     <p id="section-toc.1-1.14.2.9.2.6.1"><a href="#appendix-A.9.6" class="auto internal xref">A.9.6</a>.  <a href="#name-autonomic-l3-transit" class="internal xref">Autonomic L3 Transit</a></p>
1843,1844c1871,1872
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.7">
<                     <p id="section-toc.1-1.14.2.9.2.7.1"><a href="#section-a.9.7" class="xref">A.9.7</a>.  <a href="#name-diagnostics" class="xref">Diagnostics</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.7">
>                     <p id="section-toc.1-1.14.2.9.2.7.1"><a href="#appendix-A.9.7" class="auto internal xref">A.9.7</a>.  <a href="#name-diagnostics" class="internal xref">Diagnostics</a></p>
1846,1847c1874,1875
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.8">
<                     <p id="section-toc.1-1.14.2.9.2.8.1"><a href="#section-a.9.8" class="xref">A.9.8</a>.  <a href="#name-avoiding-and-dealing-with-c" class="xref">Avoiding and Dealing with Compromised ACP Nodes</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.8">
>                     <p id="section-toc.1-1.14.2.9.2.8.1"><a href="#appendix-A.9.8" class="auto internal xref">A.9.8</a>.  <a href="#name-avoiding-and-dealing-with-c" class="internal xref">Avoiding and Dealing with Compromised ACP Nodes</a></p>
1849,1850c1877,1878
<                   <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.9.2.9">
<                     <p id="section-toc.1-1.14.2.9.2.9.1"><a href="#section-a.9.9" class="xref">A.9.9</a>.  <a href="#name-detecting-acp-secure-channe" class="xref">Detecting ACP Secure Channel Downgrade Attacks</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.9.2.9">
>                     <p id="section-toc.1-1.14.2.9.2.9.1"><a href="#appendix-A.9.9" class="auto internal xref">A.9.9</a>.  <a href="#name-detecting-acp-secure-channe" class="internal xref">Detecting ACP Secure Channel Downgrade Attacks</a></p>
1856,1857c1884,1885
<           <li class="compact toc ulEmpty" id="section-toc.1-1.15">
<             <p id="section-toc.1-1.15.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
>             <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
1859,1860c1887,1888
<           <li class="compact toc ulEmpty" id="section-toc.1-1.16">
<             <p id="section-toc.1-1.16.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
>             <p id="section-toc.1-1.16.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
1862,1863c1890,1891
<           <li class="compact toc ulEmpty" id="section-toc.1-1.17">
<             <p id="section-toc.1-1.17.1"><a href="#section-appendix.d" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
>             <p id="section-toc.1-1.17.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1874c1902
< <p id="section-1-1">Autonomic Networking is a concept of self-management: autonomic functions self-configure, and negotiate parameters and settings across the network. "<a href="#RFC7575" class="xref">Autonomic Networking: Definitions and Design Goals</a>" <span>[<a href="#RFC7575" class="xref">RFC7575</a>]</span> defines the fundamental ideas and design goals of Autonomic Networking.  A gap analysis of Autonomic Networking is given in "<a href="#RFC7576" class="xref">General Gap Analysis for Autonomic Networking</a>" <span>[<a href="#RFC7576" class="xref">RFC7576</a>]</span>.  The reference architecture for Autonomic Networking in the IETF is specified in the document "<a href="#RFC8993" class="xref">A Reference Model for Autonomic Networking</a>" <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
---
> <p id="section-1-1">Autonomic Networking is a concept of self-management: autonomic functions self-configure, and negotiate parameters and settings across the network. "<a href="#RFC7575" class="internal xref">Autonomic Networking: Definitions and Design Goals</a>" <span>[<a href="#RFC7575" class="cite xref">RFC7575</a>]</span> defines the fundamental ideas and design goals of Autonomic Networking.  A gap analysis of Autonomic Networking is given in "<a href="#RFC7576" class="internal xref">General Gap Analysis for Autonomic Networking</a>" <span>[<a href="#RFC7576" class="cite xref">RFC7576</a>]</span>.  The reference architecture for Autonomic Networking in the IETF is specified in the document "<a href="#RFC8993" class="internal xref">A Reference Model for Autonomic Networking</a>" <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
1877c1905
<       reusable by all autonomic functions.  <span><a href="https://www.rfc-editor.org/rfc/rfc7575#section-5" class="relref">Section 5</a> of [<a href="#RFC7575" class="xref">RFC7575</a>]</span> introduces that infrastructure and calls it the Autonomic Control Plane (ACP).  More descriptively, it could be called the "Autonomic communications infrastructure for OAM and control".  For naming consistency with that prior document, this document continues to use the name ACP.<a href="#section-1-2" class="pilcrow">¶</a></p>
---
>       reusable by all autonomic functions.  <span><a href="https://rfc-editor.org/rfc/rfc7575#section-5" class="relref">Section 5</a> of [<a href="#RFC7575" class="cite xref">RFC7575</a>]</span> introduces that infrastructure and calls it the Autonomic Control Plane (ACP).  More descriptively, it could be called the "Autonomic communications infrastructure for OAM and control".  For naming consistency with that prior document, this document continues to use the name ACP.<a href="#section-1-2" class="pilcrow">¶</a></p>
1879c1907
< <p id="section-1-4">For an example of in-band management failing in the face of operator-induced misconfiguration, see <span>[<a href="#FCC" class="xref">FCC</a>]</span>, for example, Section III.B.15 on page 8:<a href="#section-1-4" class="pilcrow">¶</a></p>
---
> <p id="section-1-4">For an example of in-band management failing in the face of operator-induced misconfiguration, see <span>[<a href="#FCC" class="cite xref">FCC</a>]</span>, for example, Section III.B.15 on page 8:<a href="#section-1-4" class="pilcrow">¶</a></p>
1885c1913
< <p id="section-1-8">This document describes a modular design for a self-forming, self-managing, and self-protecting ACP,  which is a virtual out-of-band network designed to be as independent as possible of configuration, addressing, and routing to avoid the self-dependency problems of current IP  networks while still operating in-band on the same physical network that it is controlling and managing. The ACP design is therefore intended to combine as well as possible the resilience of out-of-band management networks with the low cost of traditional IP in-band network management.  The details of how this is achieved are described in <a href="#self-creation" class="xref">Section 6</a>.<a href="#section-1-8" class="pilcrow">¶</a></p>
---
> <p id="section-1-8">This document describes a modular design for a self-forming, self-managing, and self-protecting ACP,  which is a virtual out-of-band network designed to be as independent as possible of configuration, addressing, and routing to avoid the self-dependency problems of current IP  networks while still operating in-band on the same physical network that it is controlling and managing. The ACP design is therefore intended to combine as well as possible the resilience of out-of-band management networks with the low cost of traditional IP in-band network management.  The details of how this is achieved are described in <a href="#self-creation" class="auto internal xref">Section 6</a>.<a href="#section-1-8" class="pilcrow">¶</a></p>
1889c1917
< <p id="section-1-12">Like the forwarding plane for "data" packets, the non-autonomous control and management plane functions can then be managed and/or used via the ACP. This terminology is consistent with preexisting documents such as "<a href="#RFC8368" class="xref">Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)</a>" <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span>.<a href="#section-1-12" class="pilcrow">¶</a></p>
---
> <p id="section-1-12">Like the forwarding plane for "data" packets, the non-autonomous control and management plane functions can then be managed and/or used via the ACP. This terminology is consistent with preexisting documents such as "<a href="#RFC8368" class="internal xref">Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)</a>" <span>[<a href="#RFC8368" class="cite xref">RFC8368</a>]</span>.<a href="#section-1-12" class="pilcrow">¶</a></p>
1894c1922
<         <li id="section-1-15.1">Autonomic functions communicate over the ACP.  The ACP therefore directly supports Autonomic Networking functions, as described in <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>.  For example, GRASP ("<a href="#RFC8990" class="xref">GeneRic Autonomic Signaling Protocol (GRASP)</a>" <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>) runs securely inside the ACP and depends on the ACP as its "security and transport substrate".<a href="#section-1-15.1" class="pilcrow">¶</a>
---
>         <li id="section-1-15.1">Autonomic functions communicate over the ACP.  The ACP therefore directly supports Autonomic Networking functions, as described in <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>.  For example, GRASP ("<a href="#RFC8990" class="internal xref">GeneRic Autonomic Signaling Protocol (GRASP)</a>" <span>[<a href="#RFC8990" class="cite xref">RFC8990</a>]</span>) runs securely inside the ACP and depends on the ACP as its "security and transport substrate".<a href="#section-1-15.1" class="pilcrow">¶</a>
1896c1924
<         <li id="section-1-15.2">A controller or network management system can use ACP to securely bootstrap network devices in remote locations, even if the (data plane) network in between is not yet configured; no bootstrap configuration that is dependent on the data plane is required.  An example of such a secure bootstrap process is described in "<a href="#RFC8995" class="xref">Bootstrapping Remote Secure Key Infrastructure (BRSKI)</a>" <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>.<a href="#section-1-15.2" class="pilcrow">¶</a>
---
>         <li id="section-1-15.2">A controller or network management system can use ACP to securely bootstrap network devices in remote locations, even if the (data plane) network in between is not yet configured; no bootstrap configuration that is dependent on the data plane is required.  An example of such a secure bootstrap process is described in "<a href="#RFC8995" class="internal xref">Bootstrapping Remote Secure Key Infrastructure (BRSKI)</a>" <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>.<a href="#section-1-15.2" class="pilcrow">¶</a>
1901,1903c1929,1931
< <p id="section-1-16">This document describes these purposes as use cases for the ACP in <a href="#usage" class="xref">Section 3</a>, and it defines the requirements in <a href="#requirements" class="xref">Section 4</a>. <a href="#overview" class="xref">Section 5</a> gives an overview of how the ACP is constructed.<a href="#section-1-16" class="pilcrow">¶</a></p>
< <p id="section-1-17">The normative part of this document starts with <a href="#self-creation" class="xref">Section 6</a>, where the ACP is specified. <a href="#acp-l2-switches" class="xref">Section 7</a> explains how to support ACP on Layer 2 (L2) switches (normative). <a href="#workarounds" class="xref">Section 8</a> explains how non-ACP nodes and networks can be integrated (normative).<a href="#section-1-17" class="pilcrow">¶</a></p>
< <p id="section-1-18">The remaining sections are non-normative. <a href="#benefit" class="xref">Section 10</a> reviews the benefits of the ACP (after all the details have been defined). <a href="#operational" class="xref">Section 9</a> provides operational recommendations. <a href="#further" class="xref">Appendix A</a> 
---
> <p id="section-1-16">This document describes these purposes as use cases for the ACP in <a href="#usage" class="auto internal xref">Section 3</a>, and it defines the requirements in <a href="#requirements" class="auto internal xref">Section 4</a>. <a href="#overview" class="auto internal xref">Section 5</a> gives an overview of how the ACP is constructed.<a href="#section-1-16" class="pilcrow">¶</a></p>
> <p id="section-1-17">The normative part of this document starts with <a href="#self-creation" class="auto internal xref">Section 6</a>, where the ACP is specified. <a href="#acp-l2-switches" class="auto internal xref">Section 7</a> explains how to support ACP on Layer 2 (L2) switches (normative). <a href="#workarounds" class="auto internal xref">Section 8</a> explains how non-ACP nodes and networks can be integrated (normative).<a href="#section-1-17" class="pilcrow">¶</a></p>
> <p id="section-1-18">The remaining sections are non-normative. <a href="#benefit" class="auto internal xref">Section 10</a> reviews the benefits of the ACP (after all the details have been defined). <a href="#operational" class="auto internal xref">Section 9</a> provides operational recommendations. <a href="#further" class="auto internal xref">Appendix A</a> 
1907c1935
< There are no dependencies on <a href="#further" class="xref">Appendix A</a> in order to build a complete working and interoperable
---
> There are no dependencies on <a href="#further" class="auto internal xref">Appendix A</a> in order to build a complete working and interoperable
1909,1911c1937,1939
< <p id="section-1-19">The ACP provides secure IPv6 connectivity; therefore, it can be used for secure connectivity not only for self-management as required for the ACP in <span>[<a href="#RFC7575" class="xref">RFC7575</a>]</span> but also for traditional (centralized) management. The ACP can be implemented and operated without any other components of Autonomic Networks, except for GRASP. ACP relies on per-link Discovery Unsolicited Link-Local (DULL) GRASP (see <a href="#discovery-grasp" class="xref">Section 6.4</a>) to auto-discover ACP neighbors and includes the ACP GRASP instance to provide service discovery for clients of the ACP (see <a href="#GRASP" class="xref">Section 6.9</a>), including for its own maintenance of ACP certificates.<a href="#section-1-19" class="pilcrow">¶</a></p>
< <p id="section-1-20">The document <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span> describes how the ACP can be used alone to provide secure and stable connectivity for autonomic and non-autonomic OAM applications, specifically for the case of current non-autonomic networks and/or nodes. That document also explains how existing management solutions can leverage the ACP in parallel with traditional management models, when to use the ACP, and how to integrate with potentially IPv4-only OAM backends.<a href="#section-1-20" class="pilcrow">¶</a></p>
< <p id="section-1-21">Combining ACP with Bootstrapping Remote Secure Key Infrastructure (BRSKI) (see <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>) results in the "Autonomic Network Infrastructure" (ANI) as defined in <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>, which provides autonomic connectivity (from ACP) with secure zero-touch (automated) bootstrap from BRSKI.  The ANI itself does not constitute an Autonomic Network, but it allows the building of more or less Autonomic Networks on top of it, using either centralized automation in SDN style (see "<a href="#RFC7426" class="xref">Software-Defined Networking (SDN): Layers and Architecture Terminology</a>" <span>[<a href="#RFC7426" class="xref">RFC7426</a>]</span>) or distributed automation via Autonomic Service Agents (ASA) and/or Autonomic Functions (AF), or a mixture of both.  See <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span> for more information.<a href="#section-1-21" class="pilcrow">¶</a></p>
---
> <p id="section-1-19">The ACP provides secure IPv6 connectivity; therefore, it can be used for secure connectivity not only for self-management as required for the ACP in <span>[<a href="#RFC7575" class="cite xref">RFC7575</a>]</span> but also for traditional (centralized) management. The ACP can be implemented and operated without any other components of Autonomic Networks, except for GRASP. ACP relies on per-link Discovery Unsolicited Link-Local (DULL) GRASP (see <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>) to auto-discover ACP neighbors and includes the ACP GRASP instance to provide service discovery for clients of the ACP (see <a href="#GRASP" class="auto internal xref">Section 6.9</a>), including for its own maintenance of ACP certificates.<a href="#section-1-19" class="pilcrow">¶</a></p>
> <p id="section-1-20">The document <span>[<a href="#RFC8368" class="cite xref">RFC8368</a>]</span> describes how the ACP can be used alone to provide secure and stable connectivity for autonomic and non-autonomic OAM applications, specifically for the case of current non-autonomic networks and/or nodes. That document also explains how existing management solutions can leverage the ACP in parallel with traditional management models, when to use the ACP, and how to integrate with potentially IPv4-only OAM backends.<a href="#section-1-20" class="pilcrow">¶</a></p>
> <p id="section-1-21">Combining ACP with Bootstrapping Remote Secure Key Infrastructure (BRSKI) (see <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>) results in the "Autonomic Network Infrastructure" (ANI) as defined in <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>, which provides autonomic connectivity (from ACP) with secure zero-touch (automated) bootstrap from BRSKI.  The ANI itself does not constitute an Autonomic Network, but it allows the building of more or less Autonomic Networks on top of it, using either centralized automation in SDN style (see "<a href="#RFC7426" class="internal xref">Software-Defined Networking (SDN): Layers and Architecture Terminology</a>" <span>[<a href="#RFC7426" class="cite xref">RFC7426</a>]</span>) or distributed automation via Autonomic Service Agents (ASA) and/or Autonomic Functions (AF), or a mixture of both.  See <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span> for more information.<a href="#section-1-21" class="pilcrow">¶</a></p>
1917c1945
< <p id="section-1.1-1">Please see the following Terminology section (<a href="#terminology" class="xref">Section 2</a>) for explanations of terms used in this section.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-1.1-1">Please see the following Terminology section (<a href="#terminology" class="auto internal xref">Section 2</a>) for explanations of terms used in this section.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
1922,1923c1950,1951
<  <a href="#ot" class="xref">Operational Technology</a> (OT) networks. The ACP can operate equally on Layer 3 (L3) equipment and on L2 equipment such as bridges (see <a href="#acp-l2-switches" class="xref">Section 7</a>). The hop-by-hop authentication, integrity protection, and confidentiality mechanism used by the ACP is defined to be negotiable; therefore, it can be extended  to environments with different protocol preferences. The minimum implementation requirements in this document attempt to achieve maximum interoperability by requiring support for multiple options depending on the type of device: IPsec (see "<a href="#RFC4301" class="xref">Security Architecture for the Internet Protocol</a>" <span>[<a href="#RFC4301" class="xref">RFC4301</a>]</span>) and Datagram Transport Layer Security (DTLS, see <a href="#DTLS" class="xref">Section 6.8.4</a>).<a href="#section-1.1-2" class="pilcrow">¶</a></p>
< <p id="section-1.1-3">The implementation footprint of the ACP consists of Public Key Infrastructure (PKI) code for the ACP certificate including EST (see "<a href="#RFC7030" class="xref">Enrollment over Secure Transport</a>" <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span>), GRASP, UDP, TCP, and Transport Layer Security (TLS, see <a href="#tls" class="xref">Section 6.1</a>). For more information regarding the security and reliability of GRASP and for EST, the ACP secure channel protocol used (such as IPsec or DTLS), and an instance of IPv6 packet forwarding and routing via RPL, see "<a href="#RFC6550" class="xref">RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks</a>" <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>, which is separate from routing and forwarding for the data plane (user traffic).<a href="#section-1.1-3" class="pilcrow">¶</a></p>
---
>  <a href="#ot" class="internal xref">Operational Technology</a> (OT) networks. The ACP can operate equally on Layer 3 (L3) equipment and on L2 equipment such as bridges (see <a href="#acp-l2-switches" class="auto internal xref">Section 7</a>). The hop-by-hop authentication, integrity protection, and confidentiality mechanism used by the ACP is defined to be negotiable; therefore, it can be extended  to environments with different protocol preferences. The minimum implementation requirements in this document attempt to achieve maximum interoperability by requiring support for multiple options depending on the type of device: IPsec (see "<a href="#RFC4301" class="internal xref">Security Architecture for the Internet Protocol</a>" <span>[<a href="#RFC4301" class="cite xref">RFC4301</a>]</span>) and Datagram Transport Layer Security (DTLS, see <a href="#DTLS" class="auto internal xref">Section 6.8.4</a>).<a href="#section-1.1-2" class="pilcrow">¶</a></p>
> <p id="section-1.1-3">The implementation footprint of the ACP consists of Public Key Infrastructure (PKI) code for the ACP certificate including EST (see "<a href="#RFC7030" class="internal xref">Enrollment over Secure Transport</a>" <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span>), GRASP, UDP, TCP, and Transport Layer Security (TLS, see <a href="#tls" class="auto internal xref">Section 6.1</a>). For more information regarding the security and reliability of GRASP and for EST, the ACP secure channel protocol used (such as IPsec or DTLS), and an instance of IPv6 packet forwarding and routing via RPL, see "<a href="#RFC6550" class="internal xref">RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks</a>" <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>, which is separate from routing and forwarding for the data plane (user traffic).<a href="#section-1.1-3" class="pilcrow">¶</a></p>
1929c1957
< but this document does not attempt to define the most constrained type of devices or networks to which the ACP is applicable. RPL and DTLS for ACP secure channels are two protocol choices already making ACP more applicable to constrained environments. Support for constrained devices in this specification is opportunistic, but not complete, because the reliable transport for GRASP (see <a href="#GRASP-substrate" class="xref">Section 6.9.2</a>) only specifies TCP/TLS.  See <a href="#reuse-acp" class="xref">Appendix A.8</a> for discussions about how future standards or proprietary extensions and/or variations of the ACP could better meet expectations that are different from those upon which the current design is based, including supporting constrained devices better.<a href="#section-1.1-8" class="pilcrow">¶</a></p>
---
> but this document does not attempt to define the most constrained type of devices or networks to which the ACP is applicable. RPL and DTLS for ACP secure channels are two protocol choices already making ACP more applicable to constrained environments. Support for constrained devices in this specification is opportunistic, but not complete, because the reliable transport for GRASP (see <a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a>) only specifies TCP/TLS.  See <a href="#reuse-acp" class="auto internal xref">Appendix A.8</a> for discussions about how future standards or proprietary extensions and/or variations of the ACP could better meet expectations that are different from those upon which the current design is based, including supporting constrained devices better.<a href="#section-1.1-8" class="pilcrow">¶</a></p>
1950c1978
<         <dd style="margin-left: 1.5em" id="section-2-4.2">Autonomic Control Plane.  The <a href="#af-def" class="xref">autonomic function</a> as defined in this document.
---
>         <dd style="margin-left: 1.5em" id="section-2-4.2">Autonomic Control Plane.  The <a href="#af-def" class="internal xref">autonomic function</a> as defined in this document.
1952c1980
<             The ACP is primarily meant to be used as a component of the <a href="#ani-def" class="xref">ANI</a> to enable <a href="#an-def" class="xref">Autonomic Networks</a>,
---
>             The ACP is primarily meant to be used as a component of the <a href="#ani-def" class="internal xref">ANI</a> to enable <a href="#an-def" class="internal xref">Autonomic Networks</a>,
1959c1987
<             in the <a href="#acp-node-name-def" class="xref">acp-node-name</a> of the <a href="#domcert-def" class="xref">ACP certificate</a>.<a href="#section-2-4.4" class="pilcrow">¶</a>
---
>             in the <a href="#acp-node-name-def" class="internal xref">acp-node-name</a> of the <a href="#domcert-def" class="internal xref">ACP certificate</a>.<a href="#section-2-4.4" class="pilcrow">¶</a>
1969c1997
< <dd style="margin-left: 1.5em" id="section-2-4.8">A Local Device IDentity (<a href="#ldevid" class="xref">LDevID</a>) certificate conforming to "<a href="#RFC5280" class="xref">Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>" <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span> that carries the <a href="#acp-node-name-def" class="xref">acp-node-name</a>, which is used by the ACP to learn its address in the ACP and to derive and cryptographically assert its membership in the ACP domain.  In the context of the ANI, the ACP certificate is also called the ANI certificate.
---
> <dd style="margin-left: 1.5em" id="section-2-4.8">A Local Device IDentity (<a href="#ldevid" class="internal xref">LDevID</a>) certificate conforming to "<a href="#RFC5280" class="internal xref">Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>" <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span> that carries the <a href="#acp-node-name-def" class="internal xref">acp-node-name</a>, which is used by the ACP to learn its address in the ACP and to derive and cryptographically assert its membership in the ACP domain.  In the context of the ANI, the ACP certificate is also called the ANI certificate.
1974c2002
<         <dd style="margin-left: 1.5em" id="section-2-4.10">An interface on an ACP node that provides access to the ACP for non-ACP-capable nodes without using an ACP secure channel.  See <a href="#NMS" class="xref">Section 8.1.1</a>.<a href="#section-2-4.10" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.10">An interface on an ACP node that provides access to the ACP for non-ACP-capable nodes without using an ACP secure channel.  See <a href="#NMS" class="auto internal xref">Section 8.1.1</a>.<a href="#section-2-4.10" class="pilcrow">¶</a>
1978c2006
<         <dd style="margin-left: 1.5em" id="section-2-4.12">The ACP domain is the set of nodes with <a href="#domcert-def" class="xref">ACP certificates</a> that allow them to authenticate each other as members of the ACP domain.  See also <a href="#certcheck" class="xref">Section 6.2.3</a>.<a href="#section-2-4.12" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.12">The ACP domain is the set of nodes with <a href="#domcert-def" class="internal xref">ACP certificates</a> that allow them to authenticate each other as members of the ACP domain.  See also <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.<a href="#section-2-4.12" class="pilcrow">¶</a>
1984c2012
< <dd style="margin-left: 1.5em" id="section-2-4.14">The loopback interface in the ACP <a href="#vrf-def" class="xref">VRF</a> that has the ACP address assigned to it. See <a href="#ACP-loopback" class="xref">Section 6.13.5.1</a>.<a href="#section-2-4.14" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.14">The loopback interface in the ACP <a href="#vrf-def" class="internal xref">VRF</a> that has the ACP address assigned to it. See <a href="#ACP-loopback" class="auto internal xref">Section 6.13.5.1</a>.<a href="#section-2-4.14" class="pilcrow">¶</a>
1994c2022
<         <dd style="margin-left: 1.5em" id="section-2-4.18">The /48 IPv6 address prefixes used across the ACP.  In the normal or simple case, the ACP has one <a href="#ula-def" class="xref">Unique Local Address (ULA)</a> prefix, see <a href="#addressing" class="xref">Section 6.11</a>.  The ACP routing table may include multiple ULA prefixes if the rsub option is used to create addresses from more than one ULA prefix.  See <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>.  The ACP may also include non-ULA prefixes if those are configured on ACP connect interfaces.  See <a href="#NMS" class="xref">Section 8.1.1</a>.<a href="#section-2-4.18" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.18">The /48 IPv6 address prefixes used across the ACP.  In the normal or simple case, the ACP has one <a href="#ula-def" class="internal xref">Unique Local Address (ULA)</a> prefix, see <a href="#addressing" class="auto internal xref">Section 6.11</a>.  The ACP routing table may include multiple ULA prefixes if the rsub option is used to create addresses from more than one ULA prefix.  See <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>.  The ACP may also include non-ULA prefixes if those are configured on ACP connect interfaces.  See <a href="#NMS" class="auto internal xref">Section 8.1.1</a>.<a href="#section-2-4.18" class="pilcrow">¶</a>
1998c2026
<         <dd style="margin-left: 1.5em" id="section-2-4.20">A channel authenticated via <a href="#domcert-def" class="xref">ACP certificates</a> providing integrity protection and confidentiality through encryption. These channels are established between (normally) adjacent ACP nodes to carry ACP <a href="#vrf-def" class="xref">VRF</a> traffic in-band over the same links and paths as data plane traffic but isolate it from the data plane traffic and secure it.<a href="#section-2-4.20" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.20">A channel authenticated via <a href="#domcert-def" class="internal xref">ACP certificates</a> providing integrity protection and confidentiality through encryption. These channels are established between (normally) adjacent ACP nodes to carry ACP <a href="#vrf-def" class="internal xref">VRF</a> traffic in-band over the same links and paths as data plane traffic but isolate it from the data plane traffic and secure it.<a href="#section-2-4.20" class="pilcrow">¶</a>
2007,2008c2035,2036
<         <dd style="margin-left: 1.5em" id="section-2-4.24">An interface in the ACP <a href="#vrf-def" class="xref">VRF</a> mapped to one or more
<             ACP secure channels.  See <a href="#ACP_interfaces" class="xref">Section 6.13.5</a>.<a href="#section-2-4.24" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.24">An interface in the ACP <a href="#vrf-def" class="internal xref">VRF</a> mapped to one or more
>             ACP secure channels.  See <a href="#ACP_interfaces" class="auto internal xref">Section 6.13.5</a>.<a href="#section-2-4.24" class="pilcrow">¶</a>
2014c2042
< <dd style="margin-left: 1.5em" id="section-2-4.26">An information field in the <a href="#domcert-def" class="xref">ACP certificate</a> in which the following ACP-relevant information is encoded: the ACP domain name, the ACP IPv6 address of the node, and optional additional role attributes about the node.<a href="#section-2-4.26" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.26">An information field in the <a href="#domcert-def" class="internal xref">ACP certificate</a> in which the following ACP-relevant information is encoded: the ACP domain name, the ACP IPv6 address of the node, and optional additional role attributes about the node.<a href="#section-2-4.26" class="pilcrow">¶</a>
2020,2021c2048,2049
< <dd style="margin-left: 1.5em" id="section-2-4.28">Autonomic Network. A network according to <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>.
<             Its main components are <a href="#ani-def" class="xref">ANI</a>, <a href="#af-def" class="xref">autonomic functions</a>, and <a href="#intent-def" class="xref">Intent</a>.<a href="#section-2-4.28" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.28">Autonomic Network. A network according to <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>.
>             Its main components are <a href="#ani-def" class="internal xref">ANI</a>, <a href="#af-def" class="internal xref">autonomic functions</a>, and <a href="#intent-def" class="internal xref">Intent</a>.<a href="#section-2-4.28" class="pilcrow">¶</a>
2025c2053
<         <dd style="margin-left: 1.5em" id="section-2-4.30">An FQDN (Fully Qualified Domain Name) in the acp-node-name of the domain certificate.  See <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>.<a href="#section-2-4.30" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.30">An FQDN (Fully Qualified Domain Name) in the acp-node-name of the domain certificate.  See <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>.<a href="#section-2-4.30" class="pilcrow">¶</a>
2032,2034c2060,2062
<             The ANI is the infrastructure to enable <a href="#an-def" class="xref">Autonomic Networks</a>.  It includes ACP, BRSKI, and GRASP. 
<             Every Autonomic Network includes the ANI, but not every ANI network needs to include <a href="#af-def" class="xref">autonomic functions</a> beyond the ANI (nor <a href="#intent-def" class="xref">Intent</a>).  An ANI network without further autonomic functions can, for example, support secure zero-touch (automated) bootstrap
<             and stable connectivity for SDN networks, see <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span>.<a href="#section-2-4.32" class="pilcrow">¶</a>
---
>             The ANI is the infrastructure to enable <a href="#an-def" class="internal xref">Autonomic Networks</a>.  It includes ACP, BRSKI, and GRASP. 
>             Every Autonomic Network includes the ANI, but not every ANI network needs to include <a href="#af-def" class="internal xref">autonomic functions</a> beyond the ANI (nor <a href="#intent-def" class="internal xref">Intent</a>).  An ANI network without further autonomic functions can, for example, support secure zero-touch (automated) bootstrap
>             and stable connectivity for SDN networks, see <span>[<a href="#RFC8368" class="cite xref">RFC8368</a>]</span>.<a href="#section-2-4.32" class="pilcrow">¶</a>
2044c2072
<             an <a href="#ani-def" class="xref">ANI</a> device.  The components making up the ANI (BRSKI, ACP, and GRASP) are also described as ASAs.<a href="#section-2-4.36" class="pilcrow">¶</a>
---
>             an <a href="#ani-def" class="internal xref">ANI</a> device.  The components making up the ANI (BRSKI, ACP, and GRASP) are also described as ASAs.<a href="#section-2-4.36" class="pilcrow">¶</a>
2056c2084
<             <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>.  A protocol extending <a href="#est-def" class="xref">EST</a> to
---
>             <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>.  A protocol extending <a href="#est-def" class="internal xref">EST</a> to
2071c2099
<         <dd style="margin-left: 1.5em" id="section-2-4.46">The counterpoint to the ACP <a href="#vrf-def" class="xref">VRF</a> in an ACP node: the forwarding of user traffic 
---
>         <dd style="margin-left: 1.5em" id="section-2-4.46">The counterpoint to the ACP <a href="#vrf-def" class="internal xref">VRF</a> in an ACP node: the forwarding of user traffic 
2073,2074c2101,2102
<             In a fully <a href="#an-def" class="xref">Autonomic Network</a> node, the data plane is managed autonomically via <a href="#af-def" class="xref">autonomic
<             functions</a> and <a href="#intent-def" class="xref">Intent</a>. See <a href="#intro" class="xref">Section 1</a> for more details.<a href="#section-2-4.46" class="pilcrow">¶</a>
---
>             In a fully <a href="#an-def" class="internal xref">Autonomic Network</a> node, the data plane is managed autonomically via <a href="#af-def" class="internal xref">autonomic
>             functions</a> and <a href="#intent-def" class="internal xref">Intent</a>. See <a href="#intro" class="auto internal xref">Section 1</a> for more details.<a href="#section-2-4.46" class="pilcrow">¶</a>
2085,2087c2113,2115
<             network with an initial identity, which is often called an <a href="#idevid-def" class="xref">Initial Device IDentity (IDevID)</a> certificate, and acquires from the network
<             a network-specific identity, which is often called an <a href="#ldevid" class="xref">LDevID</a> certificate, and certificates of one or more <a href="#ta-def" class="xref">trust anchor(s)</a>.
<             In the ACP, the LDevID certificate is called the <a href="#domcert-def" class="xref">ACP certificate</a>.<a href="#section-2-4.50" class="pilcrow">¶</a>
---
>             network with an initial identity, which is often called an <a href="#idevid-def" class="internal xref">Initial Device IDentity (IDevID)</a> certificate, and acquires from the network
>             a network-specific identity, which is often called an <a href="#ldevid" class="internal xref">LDevID</a> certificate, and certificates of one or more <a href="#ta-def" class="internal xref">trust anchor(s)</a>.
>             In the ACP, the LDevID certificate is called the <a href="#domcert-def" class="internal xref">ACP certificate</a>.<a href="#section-2-4.50" class="pilcrow">¶</a>
2093,2094c2121,2122
< <dd style="margin-left: 1.5em" id="section-2-4.52">Enrollment over Secure Transport <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span>.  IETF
<             Standards Track protocol for enrollment of a node with an <a href="#ldevid" class="xref">LDevID</a> certificate.  BRSKI is based on EST.<a href="#section-2-4.52" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.52">Enrollment over Secure Transport <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span>.  IETF
>             Standards Track protocol for enrollment of a node with an <a href="#ldevid" class="internal xref">LDevID</a> certificate.  BRSKI is based on EST.<a href="#section-2-4.52" class="pilcrow">¶</a>
2106c2134
<             <a href="#af-def" class="xref">autonomic functions</a>.  See <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>.<a href="#section-2-4.56" class="pilcrow">¶</a>
---
>             <a href="#af-def" class="internal xref">autonomic functions</a>.  See <span>[<a href="#RFC8990" class="cite xref">RFC8990</a>]</span>.<a href="#section-2-4.56" class="pilcrow">¶</a>
2115c2143
<             and serial number.  See <span>[<a href="#AR8021" class="xref">AR8021</a>]</span>. The IDevID certificate cannot be used as a node identifier for the
---
>             and serial number.  See <span>[<a href="#AR8021" class="cite xref">AR8021</a>]</span>. The IDevID certificate cannot be used as a node identifier for the
2127c2155
<             Compared to <a href="#out-of-band-def" class="xref">out-of-band</a>, the in-band mechanism
---
>             Compared to <a href="#out-of-band-def" class="internal xref">out-of-band</a>, the in-band mechanism
2130c2158
<             See <a href="#intro" class="xref">Section 1</a>.<a href="#section-2-4.60" class="pilcrow">¶</a>
---
>             See <a href="#intro" class="auto internal xref">Section 1</a>.<a href="#section-2-4.60" class="pilcrow">¶</a>
2136c2164
< <dd style="margin-left: 1.5em" id="section-2-4.62">The policy language of an Autonomic Network according to <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>.<a href="#section-2-4.62" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.62">The policy language of an Autonomic Network according to <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>.<a href="#section-2-4.62" class="pilcrow">¶</a>
2141c2169
<             <a href="#acp-loopback-def" class="xref">ACP loopback interface</a>.<a href="#section-2-4.64" class="pilcrow">¶</a>
---
>             <a href="#acp-loopback-def" class="internal xref">ACP loopback interface</a>.<a href="#section-2-4.64" class="pilcrow">¶</a>
2148c2176
<             <a href="#enrollment-def" class="xref">enrollment</a>.  The <a href="#domcert-def" class="xref">domain certificate</a> used by the ACP is an LDevID certificate.  See <span>[<a href="#AR8021" class="xref">AR8021</a>]</span>.<a href="#section-2-4.66" class="pilcrow">¶</a>
---
>             <a href="#enrollment-def" class="internal xref">enrollment</a>.  The <a href="#domcert-def" class="internal xref">domain certificate</a> used by the ACP is an LDevID certificate.  See <span>[<a href="#AR8021" class="cite xref">AR8021</a>]</span>.<a href="#section-2-4.66" class="pilcrow">¶</a>
2152c2180
<         <dd style="margin-left: 1.5em" id="section-2-4.68">Used in this document as another word for <a href="#OAM" class="xref">OAM</a>.<a href="#section-2-4.68" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.68">Used in this document as another word for <a href="#OAM" class="internal xref">OAM</a>.<a href="#section-2-4.68" class="pilcrow">¶</a>
2161c2189
<         <dd style="margin-left: 1.5em" id="section-2-4.72">Manufacturer Installed Certificate.  A synonym for an <a href="#idevid-def" class="xref">IDevID</a> in referenced materials. This term is not used in this document.<a href="#section-2-4.72" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.72">Manufacturer Installed Certificate.  A synonym for an <a href="#idevid-def" class="internal xref">IDevID</a> in referenced materials. This term is not used in this document.<a href="#section-2-4.72" class="pilcrow">¶</a>
2180c2208
<             The identifier of an ACP node inside that ACP. It is either the last 64 bits (see <a href="#zone-scheme" class="xref">Section 6.11.3</a>) or 78 bits (see <a href="#Vlong" class="xref">Section 6.11.5</a>) of the ACP address.<a href="#section-2-4.80" class="pilcrow">¶</a>
---
>             The identifier of an ACP node inside that ACP. It is either the last 64 bits (see <a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>) or 78 bits (see <a href="#Vlong" class="auto internal xref">Section 6.11.5</a>) of the ACP address.<a href="#section-2-4.80" class="pilcrow">¶</a>
2195c2223
<               devices such as valves, pumps, etc." <span>[<a href="#OP-TECH" class="xref">OP-TECH</a>]</span>. In most cases today, OT networks are 
---
>               devices such as valves, pumps, etc." <span>[<a href="#OP-TECH" class="cite xref">OP-TECH</a>]</span>. In most cases today, OT networks are 
2209c2237
<              network.  See <a href="#intro" class="xref">Section 1</a>.<a href="#section-2-4.86" class="pilcrow">¶</a>
---
>              network.  See <a href="#intro" class="auto internal xref">Section 1</a>.<a href="#section-2-4.86" class="pilcrow">¶</a>
2218,2220c2246,2248
<              <a href="#out-of-band-def" class="xref">out-of-band network</a>
<              even though it is physically carried <a href="#in-band-def" class="xref">in-band</a>.
<              See <a href="#intro" class="xref">Section 1</a>.<a href="#section-2-4.88" class="pilcrow">¶</a>
---
>              <a href="#out-of-band-def" class="internal xref">out-of-band network</a>
>              even though it is physically carried <a href="#in-band-def" class="internal xref">in-band</a>.
>              See <a href="#intro" class="auto internal xref">Section 1</a>.<a href="#section-2-4.88" class="pilcrow">¶</a>
2224,2225c2252,2253
<         <dd style="margin-left: 1.5em" id="section-2-4.90">root Certification Authority. A <a href="#ca-def" class="xref">CA</a> for which the root CA key update
<  procedures of <span>[<a href="#RFC7030" class="xref">RFC7030</a>], <a href="https://www.rfc-editor.org/rfc/rfc7030#section-4.4" class="relref">Section 4.4</a></span>, can be applied.<a href="#section-2-4.90" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.90">root Certification Authority. A <a href="#ca-def" class="internal xref">CA</a> for which the root CA key update
>  procedures of <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>], <a href="https://rfc-editor.org/rfc/rfc7030#section-4.4" class="relref">Section 4.4</a></span>, can be applied.<a href="#section-2-4.90" class="pilcrow">¶</a>
2229c2257
<         <dd style="margin-left: 1.5em" id="section-2-4.92">IPv6 Routing Protocol for Low-Power and Lossy Networks.  The routing protocol used in the ACP. See <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.<a href="#section-2-4.92" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.92">IPv6 Routing Protocol for Low-Power and Lossy Networks.  The routing protocol used in the ACP. See <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.<a href="#section-2-4.92" class="pilcrow">¶</a>
2235c2263
<             the <a href="#enrollment-def" class="xref">enrollment</a> of ACP nodes with the <a href="#domcert-def" class="xref">ACP certificate</a>. ANI nodes use
---
>             the <a href="#enrollment-def" class="internal xref">enrollment</a> of ACP nodes with the <a href="#domcert-def" class="internal xref">ACP certificate</a>. ANI nodes use
2237c2265
<             the registrar mechanisms are not defined in this document. See <a href="#acp-registrars" class="xref">Section 6.11.7</a>. 
---
>             the registrar mechanisms are not defined in this document. See <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a>. 
2240c2268
<             ACP certificate renewal (see <a href="#domcert-maint" class="xref">Section 6.2.5</a>). BRSKI
---
>             ACP certificate renewal (see <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>). BRSKI
2247,2248c2275,2276
<             <a href="#rpl-def" class="xref">RPL</a>.
<             Not used with RPL in the ACP. See <a href="#rpl-Data-Plane" class="xref">Section 6.12.1.13</a>.<a href="#section-2-4.96" class="pilcrow">¶</a>
---
>             <a href="#rpl-def" class="internal xref">RPL</a>.
>             Not used with RPL in the ACP. See <a href="#rpl-Data-Plane" class="auto internal xref">Section 6.12.1.13</a>.<a href="#section-2-4.96" class="pilcrow">¶</a>
2254c2282
< <dd style="margin-left: 1.5em" id="section-2-4.98">Routing Protocol for Low-Power and Lossy Networks. The routing protocol used in the ACP.  See <a href="#routing" class="xref">Section 6.12</a>.<a href="#section-2-4.98" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.98">Routing Protocol for Low-Power and Lossy Networks. The routing protocol used in the ACP.  See <a href="#routing" class="auto internal xref">Section 6.12</a>.<a href="#section-2-4.98" class="pilcrow">¶</a>
2269c2297
<  configured into the ACP node as part of <a href="#enrollment-def" class="xref">enrollment</a>. See <span>[<a href="#RFC5280" class="xref">RFC5280</a>], <a href="https://www.rfc-editor.org/rfc/rfc5280#section-6.1.1" class="relref">Section 6.1.1</a></span>.<a href="#section-2-4.102" class="pilcrow">¶</a>
---
>  configured into the ACP node as part of <a href="#enrollment-def" class="internal xref">enrollment</a>. See <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>], <a href="https://rfc-editor.org/rfc/rfc5280#section-6.1.1" class="relref">Section 6.1.1</a></span>.<a href="#section-2-4.102" class="pilcrow">¶</a>
2275c2303
<             serial number, often in a vendor-specific format.  See <a href="#sudi" class="xref">sUDI</a> and <a href="#ldevid" class="xref">LDevID</a>.<a href="#section-2-4.104" class="pilcrow">¶</a>
---
>             serial number, often in a vendor-specific format.  See <a href="#sudi" class="internal xref">sUDI</a> and <a href="#ldevid" class="internal xref">LDevID</a>.<a href="#section-2-4.104" class="pilcrow">¶</a>
2283,2284c2311,2312
<             address in the block fc00::/7, defined in "<a href="#RFC4193" class="xref">Unique Local IPv6 Unicast Addresses</a>" <span>[<a href="#RFC4193" class="xref">RFC4193</a>]</span>.  ULA is the
<             IPv6 successor of the IPv4 private address space ("<a href="#RFC1918" class="xref">Address Allocation for Private Internets</a>" <span>[<a href="#RFC1918" class="xref">RFC1918</a>]</span>).
---
>             address in the block fc00::/7, defined in "<a href="#RFC4193" class="internal xref">Unique Local IPv6 Unicast Addresses</a>" <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>]</span>.  ULA is the
>             IPv6 successor of the IPv4 private address space ("<a href="#RFC1918" class="internal xref">Address Allocation for Private Internets</a>" <span>[<a href="#RFC1918" class="cite xref">RFC1918</a>]</span>).
2288c2316
<             address <span>[<a href="#RFC4193" class="xref">RFC4193</a>], <a href="https://www.rfc-editor.org/rfc/rfc4193#section-3.2.1" class="relref">Section 3.2.1</a></span>.
---
>             address <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>], <a href="https://rfc-editor.org/rfc/rfc4193#section-3.2.1" class="relref">Section 3.2.1</a></span>.
2295c2323
< <dd style="margin-left: 1.5em" id="section-2-4.108">The ACP is modeled in this document as a Virtual Routing and Forwarding instance. This means that it is based on a "virtual router" consisting of a separate IPv6 forwarding table to which the ACP virtual interfaces are attached and an associated IPv6 routing table separate from the data plane. Unlike the VRFs on MPLS/VPN Provider Edge ("<a href="#RFC4364" class="xref">BGP/MPLS IP Virtual Private Networks (VPNs)</a>" <span>[<a href="#RFC4364" class="xref">RFC4364</a>]</span>) or LISP xTR ("<a href="#RFC6830" class="xref">The Locator/ID Separation Protocol (LISP)</a>" <span>[<a href="#RFC6830" class="xref">RFC6830</a>]</span>), the ACP VRF does not have any special "core facing" functionality or routing and/or mapping protocols shared across multiple VRFs. In vendor products, a VRF such as the ACP VRF may also be referred to as a VRF-lite.<a href="#section-2-4.108" class="pilcrow">¶</a>
---
> <dd style="margin-left: 1.5em" id="section-2-4.108">The ACP is modeled in this document as a Virtual Routing and Forwarding instance. This means that it is based on a "virtual router" consisting of a separate IPv6 forwarding table to which the ACP virtual interfaces are attached and an associated IPv6 routing table separate from the data plane. Unlike the VRFs on MPLS/VPN Provider Edge ("<a href="#RFC4364" class="internal xref">BGP/MPLS IP Virtual Private Networks (VPNs)</a>" <span>[<a href="#RFC4364" class="cite xref">RFC4364</a>]</span>) or LISP xTR ("<a href="#RFC6830" class="internal xref">The Locator/ID Separation Protocol (LISP)</a>" <span>[<a href="#RFC6830" class="cite xref">RFC6830</a>]</span>), the ACP VRF does not have any special "core facing" functionality or routing and/or mapping protocols shared across multiple VRFs. In vendor products, a VRF such as the ACP VRF may also be referred to as a VRF-lite.<a href="#section-2-4.108" class="pilcrow">¶</a>
2299c2327
<         <dd style="margin-left: 1.5em" id="section-2-4.110">An ACP zone is a set of ACP nodes using the same zone field value in their ACP address according to <a href="#zone-scheme" class="xref">Section 6.11.3</a>. Zones are a mechanism to support structured addressing of ACP addresses within the same /48 ULA prefix.<a href="#section-2-4.110" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 1.5em" id="section-2-4.110">An ACP zone is a set of ACP nodes using the same zone field value in their ACP address according to <a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>. Zones are a mechanism to support structured addressing of ACP addresses within the same /48 ULA prefix.<a href="#section-2-4.110" class="pilcrow">¶</a>
2306c2334
<     described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
---
>     described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
2315c2343
< <p id="section-3-1">This section summarizes the use cases that are intended to be supported by an ACP. To understand how these are derived from and relate to the larger set of use cases for Autonomic Networks, please refer to "<a href="#RFC8316" class="xref">Autonomic Networking Use Case for Distributed Detection of Service Level Agreement (SLA) Violations</a>" <span>[<a href="#RFC8316" class="xref">RFC8316</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
---
> <p id="section-3-1">This section summarizes the use cases that are intended to be supported by an ACP. To understand how these are derived from and relate to the larger set of use cases for Autonomic Networks, please refer to "<a href="#RFC8316" class="internal xref">Autonomic Networking Use Case for Distributed Detection of Service Level Agreement (SLA) Violations</a>" <span>[<a href="#RFC8316" class="cite xref">RFC8316</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
2329c2357
< <p id="section-3.2-1">Today, bootstrapping a new node typically requires all nodes between a controlling node such as an SDN controller (see <span>[<a href="#RFC7426" class="xref">RFC7426</a>]</span>) and the new node to be completely and correctly addressed, configured, and secured.  Bootstrapping and configuration of a network happens in rings around the controller -- configuring each ring of devices before the next one can be bootstrapped.  Without console access (for example, through an out-of-band network), it is not possible today to make devices securely reachable before having configured the entire network leading up to them.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-3.2-1">Today, bootstrapping a new node typically requires all nodes between a controlling node such as an SDN controller (see <span>[<a href="#RFC7426" class="cite xref">RFC7426</a>]</span>) and the new node to be completely and correctly addressed, configured, and secured.  Bootstrapping and configuration of a network happens in rings around the controller -- configuring each ring of devices before the next one can be bootstrapped.  Without console access (for example, through an out-of-band network), it is not possible today to make devices securely reachable before having configured the entire network leading up to them.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
2342c2370
< <p id="section-3.3-5">Assuming appropriate implementation (see <a href="#general_addressing" class="xref">Section 6.13.2</a> for more details), the ACP provides reachability that is independent of the data plane. This  allows the control plane and OAM plane to operate more robustly:<a href="#section-3.3-5" class="pilcrow">¶</a></p>
---
> <p id="section-3.3-5">Assuming appropriate implementation (see <a href="#general_addressing" class="auto internal xref">Section 6.13.2</a> for more details), the ACP provides reachability that is independent of the data plane. This  allows the control plane and OAM plane to operate more robustly:<a href="#section-3.3-5" class="pilcrow">¶</a></p>
2349c2377
< <p id="section-3.3-7">The document <span><a href="#RFC8368" class="xref">"Using Autonomic Control Plane for Stable Connectivity of Network OAM"</a> [<a href="#RFC8368" class="xref">RFC8368</a>]</span> explains this use case for the ACP in significantly more detail and explains how the ACP can be used in practical network operations.<a href="#section-3.3-7" class="pilcrow">¶</a></p>
---
> <p id="section-3.3-7">The document <span><a href="#RFC8368" class="internal xref">"Using Autonomic Control Plane for Stable Connectivity of Network OAM"</a> [<a href="#RFC8368" class="cite xref">RFC8368</a>]</span> explains this use case for the ACP in significantly more detail and explains how the ACP can be used in practical network operations.<a href="#section-3.3-7" class="pilcrow">¶</a></p>
2359c2387
< <p id="section-4-1">The following requirements were identified for the design of the ACP based on the above use cases (<a href="#usage" class="xref">Section 3</a>). These requirements are informative. The ACP as specified in the normative parts of this document is meeting or exceeding these use case requirements:<a href="#section-4-1" class="pilcrow">¶</a></p>
---
> <p id="section-4-1">The following requirements were identified for the design of the ACP based on the above use cases (<a href="#usage" class="auto internal xref">Section 3</a>). These requirements are informative. The ACP as specified in the normative parts of this document is meeting or exceeding these use case requirements:<a href="#section-4-1" class="pilcrow">¶</a></p>
2372c2400
< <dd style="margin-left: 5.0em" id="section-4-2.3">The ACP must use an autonomically managed address space.  An autonomically managed address space provides ease of bootstrap and setup ("autonomic"), and robustness (the administrator cannot break network easily).  This document uses ULA for this purpose, see <span>[<a href="#RFC4193" class="xref">RFC4193</a>]</span>.<a href="#section-4-2.3" class="pilcrow">¶</a>
---
> <dd style="margin-left: 5.0em" id="section-4-2.3">The ACP must use an autonomically managed address space.  An autonomically managed address space provides ease of bootstrap and setup ("autonomic"), and robustness (the administrator cannot break network easily).  This document uses ULA for this purpose, see <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>]</span>.<a href="#section-4-2.3" class="pilcrow">¶</a>
2386,2387c2414,2415
< <p id="section-4-3">The explanation for <a href="#acp4" class="xref">ACP4</a> is as follows: in a fully Autonomic Network (AN), all newly written ASAs could potentially communicate with each other exclusively via GRASP, and if that were the only requirement for the ACP, it would not need to provide IPv6-layer connectivity between nodes, but only GRASP connectivity. Nevertheless, because ACP also intends to support non-autonomous networks, it is crucial to support IPv6-layer connectivity across the ACP to support any transport-layer and application-layer protocols.<a href="#section-4-3" class="pilcrow">¶</a></p>
< <p id="section-4-4">The ACP operates hop-by-hop because this interaction can be built on IPv6 link-local addressing, which is autonomic, and has no dependency on configuration (requirement <a href="#acp1" class="xref">ACP1</a>).  It may be necessary to have ACP connectivity across non-ACP nodes, for example, to link ACP nodes over the general Internet.  This is possible, but it introduces a dependency on stable and/or resilient routing over the non-ACP hops (see <a href="#remote-acp-neighbors" class="xref">Section 8.2</a>).<a href="#section-4-4" class="pilcrow">¶</a></p>
---
> <p id="section-4-3">The explanation for <a href="#acp4" class="internal xref">ACP4</a> is as follows: in a fully Autonomic Network (AN), all newly written ASAs could potentially communicate with each other exclusively via GRASP, and if that were the only requirement for the ACP, it would not need to provide IPv6-layer connectivity between nodes, but only GRASP connectivity. Nevertheless, because ACP also intends to support non-autonomous networks, it is crucial to support IPv6-layer connectivity across the ACP to support any transport-layer and application-layer protocols.<a href="#section-4-3" class="pilcrow">¶</a></p>
> <p id="section-4-4">The ACP operates hop-by-hop because this interaction can be built on IPv6 link-local addressing, which is autonomic, and has no dependency on configuration (requirement <a href="#acp1" class="internal xref">ACP1</a>).  It may be necessary to have ACP connectivity across non-ACP nodes, for example, to link ACP nodes over the general Internet.  This is possible, but it introduces a dependency on stable and/or resilient routing over the non-ACP hops (see <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a>).<a href="#section-4-4" class="pilcrow">¶</a></p>
2395c2423
< <p id="section-5-1">When a node has an ACP certificate (see <a href="#acp-certificates" class="xref">Section 6.2.1</a>) and is enabled to bring up the ACP (see <a href="#node-enable" class="xref">Section 9.3.5</a>), it will create its ACP without any configuration as follows. For details, see <a href="#self-creation" class="xref">Section 6</a> and following sections:<a href="#section-5-1" class="pilcrow">¶</a></p>
---
> <p id="section-5-1">When a node has an ACP certificate (see <a href="#acp-certificates" class="auto internal xref">Section 6.2.1</a>) and is enabled to bring up the ACP (see <a href="#node-enable" class="auto internal xref">Section 9.3.5</a>), it will create its ACP without any configuration as follows. For details, see <a href="#self-creation" class="auto internal xref">Section 6</a> and following sections:<a href="#section-5-1" class="pilcrow">¶</a></p>
2399c2427
<         <li id="section-5-2.2">The node assigns its ULA IPv6 address (prefix) (see <a href="#addressing" class="xref">Section 6.11</a>), which is learned from the acp-node-name (see <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>) of its ACP certificate (see <a href="#acp-certificates" class="xref">Section 6.2.1</a>), to an ACP loopback interface (see <a href="#addressing" class="xref">Section 6.11</a>) and connects this interface to the ACP VRF.<a href="#section-5-2.2" class="pilcrow">¶</a>
---
>         <li id="section-5-2.2">The node assigns its ULA IPv6 address (prefix) (see <a href="#addressing" class="auto internal xref">Section 6.11</a>), which is learned from the acp-node-name (see <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>) of its ACP certificate (see <a href="#acp-certificates" class="auto internal xref">Section 6.2.1</a>), to an ACP loopback interface (see <a href="#addressing" class="auto internal xref">Section 6.11</a>) and connects this interface to the ACP VRF.<a href="#section-5-2.2" class="pilcrow">¶</a>
2401c2429
<         <li id="section-5-2.3">The node establishes a list of candidate peer adjacencies and candidate channel types to try for the adjacency. This is automatic for all candidate link-local adjacencies (see <a href="#discovery-grasp" class="xref">Section 6.4</a>) across all native interfaces (see <a href="#if-enable-auto" class="xref">Section 9.3.4</a>). If a candidate peer is discovered via multiple interfaces, this will result in one adjacency per interface. If the ACP node has multiple interfaces connecting to the same subnet across which it is also operating as an L2 switch in the data plane, it employs methods for ACP with L2 switching, see <a href="#acp-l2-switches" class="xref">Section 7</a>.<a href="#section-5-2.3" class="pilcrow">¶</a>
---
>         <li id="section-5-2.3">The node establishes a list of candidate peer adjacencies and candidate channel types to try for the adjacency. This is automatic for all candidate link-local adjacencies (see <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>) across all native interfaces (see <a href="#if-enable-auto" class="auto internal xref">Section 9.3.4</a>). If a candidate peer is discovered via multiple interfaces, this will result in one adjacency per interface. If the ACP node has multiple interfaces connecting to the same subnet across which it is also operating as an L2 switch in the data plane, it employs methods for ACP with L2 switching, see <a href="#acp-l2-switches" class="auto internal xref">Section 7</a>.<a href="#section-5-2.3" class="pilcrow">¶</a>
2403c2431
<         <li id="section-5-2.4">For each entry in the candidate adjacency list, the node negotiates a secure tunnel using the candidate channel types.  See <a href="#channel-selection" class="xref">Section 6.6</a>.<a href="#section-5-2.4" class="pilcrow">¶</a>
---
>         <li id="section-5-2.4">For each entry in the candidate adjacency list, the node negotiates a secure tunnel using the candidate channel types.  See <a href="#channel-selection" class="auto internal xref">Section 6.6</a>.<a href="#section-5-2.4" class="pilcrow">¶</a>
2405c2433
<         <li id="section-5-2.5">The node authenticates the peer node during secure channel setup and authorizes it to become part of the ACP according to <a href="#certcheck" class="xref">Section 6.2.3</a>.<a href="#section-5-2.5" class="pilcrow">¶</a>
---
>         <li id="section-5-2.5">The node authenticates the peer node during secure channel setup and authorizes it to become part of the ACP according to <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.<a href="#section-5-2.5" class="pilcrow">¶</a>
2407c2435
<         <li id="section-5-2.6">Unsuccessful authentication of a candidate peer results in throttled connection retries for as long as the candidate peer is discoverable. See <a href="#neighbor_verification" class="xref">Section 6.7</a>.<a href="#section-5-2.6" class="pilcrow">¶</a>
---
>         <li id="section-5-2.6">Unsuccessful authentication of a candidate peer results in throttled connection retries for as long as the candidate peer is discoverable. See <a href="#neighbor_verification" class="auto internal xref">Section 6.7</a>.<a href="#section-5-2.6" class="pilcrow">¶</a>
2409c2437
<         <li id="section-5-2.7">Each successfully established secure channel is mapped to an ACP virtual interface, which is placed into the ACP VRF.  See <a href="#ACP-virtual-interfaces" class="xref">Section 6.13.5.2</a>.<a href="#section-5-2.7" class="pilcrow">¶</a>
---
>         <li id="section-5-2.7">Each successfully established secure channel is mapped to an ACP virtual interface, which is placed into the ACP VRF.  See <a href="#ACP-virtual-interfaces" class="auto internal xref">Section 6.13.5.2</a>.<a href="#section-5-2.7" class="pilcrow">¶</a>
2411c2439
<         <li id="section-5-2.8">Each node runs a lightweight routing protocol (see <a href="#routing" class="xref">Section 6.12</a>) to announce reachability of the ACP loopback address (or prefix) across the ACP.<a href="#section-5-2.8" class="pilcrow">¶</a>
---
>         <li id="section-5-2.8">Each node runs a lightweight routing protocol (see <a href="#routing" class="auto internal xref">Section 6.12</a>) to announce reachability of the ACP loopback address (or prefix) across the ACP.<a href="#section-5-2.8" class="pilcrow">¶</a>
2424c2452
< <li class="normal" id="section-5-4.3">Additional candidate peer adjacencies for ACP connections across non-ACP Layer 3 clouds requires explicit configuration. See <a href="#remote-acp-neighbors" class="xref">Section 8.2</a>.<a href="#section-5-4.3" class="pilcrow">¶</a>
---
> <li class="normal" id="section-5-4.3">Additional candidate peer adjacencies for ACP connections across non-ACP Layer 3 clouds requires explicit configuration. See <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a>.<a href="#section-5-4.3" class="pilcrow">¶</a>
2427c2455
< <p id="section-5-5"><a href="#acp" class="xref">Figure 1</a> illustrates the ACP.<a href="#section-5-5" class="pilcrow">¶</a></p>
---
> <p id="section-5-5"><a href="#acp" class="auto internal xref">Figure 1</a> illustrates the ACP.<a href="#section-5-5" class="pilcrow">¶</a></p>
2430c2458
<         <div class="artwork art-text alignLeft" id="section-5-6.1">
---
>         <div class="alignLeft art-text artwork" id="section-5-6.1">
2462,2463c2490,2491
< <p id="section-6-3">Attacks against the network via incorrect routing or addressing information for the data plane will not impact the ACP. Even impaired ACP nodes will have a significantly reduced attack surface against malicious misconfiguration because only very limited ACP or interface up/down configuration can affect the ACP, and depending on their specific designs, these types of attacks could also be eliminated. See more in <a href="#enabling-acp" class="xref">Section 9.3</a> and <a href="#security" class="xref">Section 11</a>.<a href="#section-6-3" class="pilcrow">¶</a></p>
< <p id="section-6-4">An ACP node can be a router, switch, controller, NMS host, or any other IPv6-capable node.  Initially, it <span class="bcp14">MUST</span> have its ACP certificate, as well as an (empty) ACP adjacency table (described in <a href="#adj-table" class="xref">Section 6.3</a>).  It then can start to discover ACP neighbors and build the ACP.  This is described step by step in the following sections.<a href="#section-6-4" class="pilcrow">¶</a></p>
---
> <p id="section-6-3">Attacks against the network via incorrect routing or addressing information for the data plane will not impact the ACP. Even impaired ACP nodes will have a significantly reduced attack surface against malicious misconfiguration because only very limited ACP or interface up/down configuration can affect the ACP, and depending on their specific designs, these types of attacks could also be eliminated. See more in <a href="#enabling-acp" class="auto internal xref">Section 9.3</a> and <a href="#security" class="auto internal xref">Section 11</a>.<a href="#section-6-3" class="pilcrow">¶</a></p>
> <p id="section-6-4">An ACP node can be a router, switch, controller, NMS host, or any other IPv6-capable node.  Initially, it <span class="bcp14">MUST</span> have its ACP certificate, as well as an (empty) ACP adjacency table (described in <a href="#adj-table" class="auto internal xref">Section 6.3</a>).  It then can start to discover ACP neighbors and build the ACP.  This is described step by step in the following sections.<a href="#section-6-4" class="pilcrow">¶</a></p>
2469,2470c2497,2498
< <p id="section-6.1-1">The following requirements apply to TLS that is required or used by ACP components. Applicable ACP components include ACP certificate maintenance via EST (see <a href="#domcert-maint" class="xref">Section 6.2.5</a>), TLS connections for CRL Distribution Point (CRLDP) or Online Certificate Status Protocol (OCSP) responder (if used, see <a href="#certcheck" class="xref">Section 6.2.3</a>), and ACP GRASP (see <a href="#GRASP-substrate" class="xref">Section 6.9.2</a>). On ANI nodes, these requirements also apply to BRSKI.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
< <p id="section-6.1-2">TLS <span class="bcp14">MUST</span> comply with "<a href="#RFC7525" class="xref">Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)</a>" <span>[<a href="#RFC7525" class="xref">RFC7525</a>]</span> except that TLS 1.2 ("<a href="#RFC5246" class="xref">The Transport Layer Security (TLS) Protocol Version 1.2</a>" <span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span>) is <span class="bcp14">REQUIRED</span> and that older versions of TLS <span class="bcp14">MUST NOT</span> be used.  TLS 1.3 ("<a href="#RFC8446" class="xref">The Transport Layer Security (TLS) Protocol Version 1.3</a>" <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>) <span class="bcp14">SHOULD</span> be supported. The choice for TLS 1.2 as the lowest common denominator for the ACP is based on the currently expected and most likely availability across the wide range of candidate ACP node types, potentially with non-agile operating system TCP/IP stacks.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.1-1">The following requirements apply to TLS that is required or used by ACP components. Applicable ACP components include ACP certificate maintenance via EST (see <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>), TLS connections for CRL Distribution Point (CRLDP) or Online Certificate Status Protocol (OCSP) responder (if used, see <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>), and ACP GRASP (see <a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a>). On ANI nodes, these requirements also apply to BRSKI.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
> <p id="section-6.1-2">TLS <span class="bcp14">MUST</span> comply with "<a href="#RFC7525" class="internal xref">Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)</a>" <span>[<a href="#RFC7525" class="cite xref">RFC7525</a>]</span> except that TLS 1.2 ("<a href="#RFC5246" class="internal xref">The Transport Layer Security (TLS) Protocol Version 1.2</a>" <span>[<a href="#RFC5246" class="cite xref">RFC5246</a>]</span>) is <span class="bcp14">REQUIRED</span> and that older versions of TLS <span class="bcp14">MUST NOT</span> be used.  TLS 1.3 ("<a href="#RFC8446" class="internal xref">The Transport Layer Security (TLS) Protocol Version 1.3</a>" <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span>) <span class="bcp14">SHOULD</span> be supported. The choice for TLS 1.2 as the lowest common denominator for the ACP is based on the currently expected and most likely availability across the wide range of candidate ACP node types, potentially with non-agile operating system TCP/IP stacks.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
2472c2500
< <p id="section-6.1-4">TLS <span class="bcp14">MUST</span> also include the "Supported Elliptic Curves" extension, and it <span class="bcp14">MUST</span> support the NIST P-256 (secp256r1(22)) and P-384 (secp384r1(24)) curves "<a href="#RFC8422" class="xref">Elliptic Curve Cryptography (ECC) Cipher Suites for Transport Layer Security (TLS) Versions 1.2 and Earlier</a>" <span>[<a href="#RFC8422" class="xref">RFC8422</a>]</span>.  In addition, TLS 1.2 clients <span class="bcp14">SHOULD</span> send an ec_point_format extension with a single element, "uncompressed".<a href="#section-6.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.1-4">TLS <span class="bcp14">MUST</span> also include the "Supported Elliptic Curves" extension, and it <span class="bcp14">MUST</span> support the NIST P-256 (secp256r1(22)) and P-384 (secp384r1(24)) curves "<a href="#RFC8422" class="internal xref">Elliptic Curve Cryptography (ECC) Cipher Suites for Transport Layer Security (TLS) Versions 1.2 and Earlier</a>" <span>[<a href="#RFC8422" class="cite xref">RFC8422</a>]</span>.  In addition, TLS 1.2 clients <span class="bcp14">SHOULD</span> send an ec_point_format extension with a single element, "uncompressed".<a href="#section-6.1-4" class="pilcrow">¶</a></p>
2486c2514
< as required for the ACP domain membership check (<a href="#certcheck" class="xref">Section 6.2.3</a>).<a href="#section-6.2-1" class="pilcrow">¶</a></p>
---
> as required for the ACP domain membership check (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>).<a href="#section-6.2-1" class="pilcrow">¶</a></p>
2489,2491c2517,2519
< <p id="section-6.2-4">The ACP does not mandate specific mechanisms by which this keying material is provisioned into the ACP node. It only requires that the certificate comply with <a href="#acp-certificates" class="xref">Section 6.2.1</a>, specifically that it have the acp-node-name as specified in <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a> in its domain certificate as well as those of candidate ACP peers.  See <a href="#bootstrap" class="xref">Appendix A.2</a> for more information about enrollment or provisioning options.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
< <p id="section-6.2-5">This document uses the term ACP in many places where the Autonomic Networking reference documents <span>[<a href="#RFC7575" class="xref">RFC7575</a>]</span> and <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span> use the word autonomic.  This is done because those reference documents consider (only) fully Autonomic Networks and nodes, but the support of ACP does not require the support for other components of Autonomic Networks except for the reliance on GRASP and the providing of security and transport for GRASP.  Therefore, the word autonomic might be misleading to operators interested in only the ACP.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
< <p id="section-6.2-6"><span>[<a href="#RFC7575" class="xref">RFC7575</a>]</span> defines the term "autonomic domain" as a collection of autonomic nodes.  ACP nodes do not need to be fully autonomic, but when they are, then the ACP domain is an autonomic domain.  Likewise, <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span> defines the term "domain certificate" as the certificate used in an autonomic domain.  The ACP certificate is that domain certificate when ACP nodes are (fully) autonomic nodes.  Finally, this document uses the term ACP network to refer to the network created by active ACP nodes in an ACP domain.  The ACP network itself can extend beyond ACP nodes through the mechanisms described in <a href="#ACPconnect" class="xref">Section 8.1</a>.<a href="#section-6.2-6" class="pilcrow">¶</a></p>
---
> <p id="section-6.2-4">The ACP does not mandate specific mechanisms by which this keying material is provisioned into the ACP node. It only requires that the certificate comply with <a href="#acp-certificates" class="auto internal xref">Section 6.2.1</a>, specifically that it have the acp-node-name as specified in <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a> in its domain certificate as well as those of candidate ACP peers.  See <a href="#bootstrap" class="auto internal xref">Appendix A.2</a> for more information about enrollment or provisioning options.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
> <p id="section-6.2-5">This document uses the term ACP in many places where the Autonomic Networking reference documents <span>[<a href="#RFC7575" class="cite xref">RFC7575</a>]</span> and <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span> use the word autonomic.  This is done because those reference documents consider (only) fully Autonomic Networks and nodes, but the support of ACP does not require the support for other components of Autonomic Networks except for the reliance on GRASP and the providing of security and transport for GRASP.  Therefore, the word autonomic might be misleading to operators interested in only the ACP.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
> <p id="section-6.2-6"><span>[<a href="#RFC7575" class="cite xref">RFC7575</a>]</span> defines the term "autonomic domain" as a collection of autonomic nodes.  ACP nodes do not need to be fully autonomic, but when they are, then the ACP domain is an autonomic domain.  Likewise, <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span> defines the term "domain certificate" as the certificate used in an autonomic domain.  The ACP certificate is that domain certificate when ACP nodes are (fully) autonomic nodes.  Finally, this document uses the term ACP network to refer to the network created by active ACP nodes in an ACP domain.  The ACP network itself can extend beyond ACP nodes through the mechanisms described in <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>.<a href="#section-6.2-6" class="pilcrow">¶</a></p>
2497c2525
< <p id="section-6.2.1-1">ACP certificates <span class="bcp14">MUST</span> be <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span> compliant X.509 v3 <span>[<a href="#X.509" class="xref">X.509</a>]</span> certificates.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.1-1">ACP certificates <span class="bcp14">MUST</span> be <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span> compliant X.509 v3 <span>[<a href="#X.509" class="cite xref">X.509</a>]</span> certificates.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
2514,2515c2542,2543
< <p id="section-6.2.1-7">Any secure channel protocols used for the ACP as specified in this document or extensions of this document <span class="bcp14">MUST</span> therefore support authentication (e.g., signing), starting with these types of certificates. See <span>[<a href="#RFC8422" class="xref">RFC8422</a>]</span> for more information.<a href="#section-6.2.1-7" class="pilcrow">¶</a></p>
< <p id="section-6.2.1-8">The reason for these choices are as follows: as of 2020, RSA is still more widely used than ECC, therefore the <span class="bcp14">MUST</span>-level requirements for RSA. ECC offers equivalent security at (logarithmically) shorter key lengths (see <span>[<a href="#RFC8422" class="xref">RFC8422</a>]</span>). This can be beneficial especially in the presence of constrained bandwidth or constrained nodes in an ACP/ANI network. Some ACP functions such as GRASP peer-to-peer across the ACP require end-to-end/any-to-any authentication and authorization, therefore ECC can only reliably be used in the ACP when it <span class="bcp14">MUST</span> be supported on all ACP nodes. RSA signatures are mandatory to be supported also for ECC certificates because the CAs themselves may not support ECC yet.<a href="#section-6.2.1-8" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.1-7">Any secure channel protocols used for the ACP as specified in this document or extensions of this document <span class="bcp14">MUST</span> therefore support authentication (e.g., signing), starting with these types of certificates. See <span>[<a href="#RFC8422" class="cite xref">RFC8422</a>]</span> for more information.<a href="#section-6.2.1-7" class="pilcrow">¶</a></p>
> <p id="section-6.2.1-8">The reason for these choices are as follows: as of 2020, RSA is still more widely used than ECC, therefore the <span class="bcp14">MUST</span>-level requirements for RSA. ECC offers equivalent security at (logarithmically) shorter key lengths (see <span>[<a href="#RFC8422" class="cite xref">RFC8422</a>]</span>). This can be beneficial especially in the presence of constrained bandwidth or constrained nodes in an ACP/ANI network. Some ACP functions such as GRASP peer-to-peer across the ACP require end-to-end/any-to-any authentication and authorization, therefore ECC can only reliably be used in the ACP when it <span class="bcp14">MUST</span> be supported on all ACP nodes. RSA signatures are mandatory to be supported also for ECC certificates because the CAs themselves may not support ECC yet.<a href="#section-6.2.1-8" class="pilcrow">¶</a></p>
2518c2546
< <a href="#certcheck" class="xref">Section 6.2.3</a> defines this "ACP domain membership check".
---
> <a href="#certcheck" class="auto internal xref">Section 6.2.3</a> defines this "ACP domain membership check".
2520,2521c2548,2549
< hop-by-hop ACP secure channels (<a href="#associations" class="xref">Section 6.8</a>) and for ACP GRASP (<a href="#GRASP-substrate" class="xref">Section 6.9.2</a>) end to end via TLS.<a href="#section-6.2.1-9" class="pilcrow">¶</a></p>
< <p id="section-6.2.1-10">The ACP domain membership check requires a minimum number of elements in a certificate as described in <a href="#certcheck" class="xref">Section 6.2.3</a>. The identity of a node in the ACP is carried via the acp-node-name as defined in <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>.<a href="#section-6.2.1-10" class="pilcrow">¶</a></p>
---
> hop-by-hop ACP secure channels (<a href="#associations" class="auto internal xref">Section 6.8</a>) and for ACP GRASP (<a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a>) end to end via TLS.<a href="#section-6.2.1-9" class="pilcrow">¶</a></p>
> <p id="section-6.2.1-10">The ACP domain membership check requires a minimum number of elements in a certificate as described in <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>. The identity of a node in the ACP is carried via the acp-node-name as defined in <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>.<a href="#section-6.2.1-10" class="pilcrow">¶</a></p>
2527,2528c2555,2556
< <p id="section-6.2.1-12">Any other fields of the ACP certificate are to be populated as required by <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span>. As long as they are compliant with <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span>, any other field of an ACP certificate can be set as desired by the operator of the ACP domain through the appropriate ACP registrar and/or ACP CA procedures. For example, other fields may be required for purposes other than those that the ACP certificate is intended to be used for (such as elements of a SubjectName).<a href="#section-6.2.1-12" class="pilcrow">¶</a></p>
< <p id="section-6.2.1-13">For further certificate details, ACP certificates may follow the recommendations from <span>[<a href="#CABFORUM" class="xref">CABFORUM</a>]</span>.<a href="#section-6.2.1-13" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.1-12">Any other fields of the ACP certificate are to be populated as required by <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span>. As long as they are compliant with <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span>, any other field of an ACP certificate can be set as desired by the operator of the ACP domain through the appropriate ACP registrar and/or ACP CA procedures. For example, other fields may be required for purposes other than those that the ACP certificate is intended to be used for (such as elements of a SubjectName).<a href="#section-6.2.1-12" class="pilcrow">¶</a></p>
> <p id="section-6.2.1-13">For further certificate details, ACP certificates may follow the recommendations from <span>[<a href="#CABFORUM" class="cite xref">CABFORUM</a>]</span>.<a href="#section-6.2.1-13" class="pilcrow">¶</a></p>
2533c2561
< (<span>[<a href="#X.520" class="xref">X.520</a>]</span>, Section 6.2.9) 
---
> (<span>[<a href="#X.520" class="cite xref">X.520</a>]</span>, Section 6.2.9) 
2535,2536c2563,2564
<    that this is not the certificate serial-number.  See also <span>[<a href="#RFC8995" class="xref">RFC8995</a>], <a href="https://www.rfc-editor.org/rfc/rfc8995#section-2.3.1" class="relref">Section 2.3.1</a></span>. This can be done, for example, if it would be acceptable for the device's "serialNumber" to be signaled via the Link Layer Discovery Protocol <span>[<a href="#LLDP" class="xref">LLDP</a>]</span> because, like LLDP-signaled information, the ACP certificate information can be retrieved by neighboring nodes without further authentication and can be used either for beneficial diagnostics or for malicious attacks. Retrieval of the ACP certificate is possible via a (failing) attempt to set up an ACP secure channel, and the "serialNumber" usually contains device type information that may help to more quickly determine working exploits/attacks against the device.<a href="#section-6.2.1-14" class="pilcrow">¶</a></p>
< <p id="section-6.2.1-15">Note that there is no intention to constrain authorization within the ACP or Autonomic Networks using the ACP to just the ACP domain membership check as defined in this document. It can be extended or modified with additional requirements. Such future authorizations can use and require additional elements in certificates or policies or even additional certificates. See <a href="#domcert-maint" class="xref">Section 6.2.5</a> for the additional check against the id-kp-cmcRA extended key usage attribute ("<a href="#RFC6402" class="xref">Certificate Management over CMS (CMC) Updates</a>" <span>[<a href="#RFC6402" class="xref">RFC6402</a>]</span>), and  see <a href="#role-assignments" class="xref">Appendix A.9.5</a> for possible future extensions.<a href="#section-6.2.1-15" class="pilcrow">¶</a></p>
---
>    that this is not the certificate serial-number.  See also <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>], <a href="https://rfc-editor.org/rfc/rfc8995#section-2.3.1" class="relref">Section 2.3.1</a></span>. This can be done, for example, if it would be acceptable for the device's "serialNumber" to be signaled via the Link Layer Discovery Protocol <span>[<a href="#LLDP" class="cite xref">LLDP</a>]</span> because, like LLDP-signaled information, the ACP certificate information can be retrieved by neighboring nodes without further authentication and can be used either for beneficial diagnostics or for malicious attacks. Retrieval of the ACP certificate is possible via a (failing) attempt to set up an ACP secure channel, and the "serialNumber" usually contains device type information that may help to more quickly determine working exploits/attacks against the device.<a href="#section-6.2.1-14" class="pilcrow">¶</a></p>
> <p id="section-6.2.1-15">Note that there is no intention to constrain authorization within the ACP or Autonomic Networks using the ACP to just the ACP domain membership check as defined in this document. It can be extended or modified with additional requirements. Such future authorizations can use and require additional elements in certificates or policies or even additional certificates. See <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a> for the additional check against the id-kp-cmcRA extended key usage attribute ("<a href="#RFC6402" class="internal xref">Certificate Management over CMS (CMC) Updates</a>" <span>[<a href="#RFC6402" class="cite xref">RFC6402</a>]</span>), and  see <a href="#role-assignments" class="auto internal xref">Appendix A.9.5</a> for possible future extensions.<a href="#section-6.2.1-15" class="pilcrow">¶</a></p>
2546,2547c2574,2575
<             <div id="section-6.2.2-1.1">
< <pre class="sourcecode lang-abnf">
---
>             <div class="lang-abnf sourcecode" id="section-6.2.2-1.1">
> <pre>
2571c2599
< <div class="artwork art-text alignLeft" id="section-6.2.2-4">
---
> <div class="alignLeft art-text artwork" id="section-6.2.2-4">
2579,2581c2607,2609
< <p id="section-6.2.2-5">The acp-node-name in <a href="#acp-dominfo-abnf" class="xref">Figure 2</a> is the ABNF definition ("<a href="#RFC5234" class="xref">Augmented BNF for Syntax Specifications: ABNF</a>" <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>) of the ACP Node Name. An ACP certificate <span class="bcp14">MUST</span> carry this information. It <span class="bcp14">MUST</span> contain an otherName field in the X.509 Subject Alternative Name extension, and the otherName <span class="bcp14">MUST</span> contain an AcpNodeName as described in <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>.<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
< <p id="section-6.2.2-6">Nodes complying with this specification <span class="bcp14">MUST</span> be able to receive their ACP address through the domain certificate, in which case their own ACP certificate <span class="bcp14">MUST</span> have a 32HEXDIG acp-address field. The acp-address field is case insensitive because ABNF HEXDIG is. It is recommended to encode acp-address with lowercase letters. Nodes complying with this specification <span class="bcp14">MUST</span> also be able to authenticate nodes as ACP domain members or ACP secure channel peers when they have a zero-value acp-address field and as ACP domain members (but not as ACP secure channel peers) when the acp-address field is omitted from their AcpNodeName.  See <a href="#certcheck" class="xref">Section 6.2.3</a>.<a href="#section-6.2.2-6" class="pilcrow">¶</a></p>
< <p id="section-6.2.2-7">The acp-domain-name is used to indicate the ACP domain across which ACP nodes authenticate and authorize each other, for example, to build ACP secure channels to each other, see <a href="#certcheck" class="xref">Section 6.2.3</a>. The acp-domain-name <span class="bcp14">SHOULD</span> be the FQDN of an Internet domain owned by the network administration of the ACP and ideally reserved to only be used for the ACP. In this specification, it serves as a name for the ACP that ideally is globally unique.  When acp-domain-name is a globally unique name, collision of ACP addresses across different ACP domains can only happen due to ULA hash collisions (see <a href="#scheme" class="xref">Section 6.11.2</a>). Using different acp-domain-names, operators can distinguish multiple ACPs even when using the same TA.<a href="#section-6.2.2-7" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.2-5">The acp-node-name in <a href="#acp-dominfo-abnf" class="auto internal xref">Figure 2</a> is the ABNF definition ("<a href="#RFC5234" class="internal xref">Augmented BNF for Syntax Specifications: ABNF</a>" <span>[<a href="#RFC5234" class="cite xref">RFC5234</a>]</span>) of the ACP Node Name. An ACP certificate <span class="bcp14">MUST</span> carry this information. It <span class="bcp14">MUST</span> contain an otherName field in the X.509 Subject Alternative Name extension, and the otherName <span class="bcp14">MUST</span> contain an AcpNodeName as described in <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>.<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
> <p id="section-6.2.2-6">Nodes complying with this specification <span class="bcp14">MUST</span> be able to receive their ACP address through the domain certificate, in which case their own ACP certificate <span class="bcp14">MUST</span> have a 32HEXDIG acp-address field. The acp-address field is case insensitive because ABNF HEXDIG is. It is recommended to encode acp-address with lowercase letters. Nodes complying with this specification <span class="bcp14">MUST</span> also be able to authenticate nodes as ACP domain members or ACP secure channel peers when they have a zero-value acp-address field and as ACP domain members (but not as ACP secure channel peers) when the acp-address field is omitted from their AcpNodeName.  See <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.<a href="#section-6.2.2-6" class="pilcrow">¶</a></p>
> <p id="section-6.2.2-7">The acp-domain-name is used to indicate the ACP domain across which ACP nodes authenticate and authorize each other, for example, to build ACP secure channels to each other, see <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>. The acp-domain-name <span class="bcp14">SHOULD</span> be the FQDN of an Internet domain owned by the network administration of the ACP and ideally reserved to only be used for the ACP. In this specification, it serves as a name for the ACP that ideally is globally unique.  When acp-domain-name is a globally unique name, collision of ACP addresses across different ACP domains can only happen due to ULA hash collisions (see <a href="#scheme" class="auto internal xref">Section 6.11.2</a>). Using different acp-domain-names, operators can distinguish multiple ACPs even when using the same TA.<a href="#section-6.2.2-7" class="pilcrow">¶</a></p>
2583c2611
< <p id="section-6.2.2-9">The routing-subdomain is a string that can be constructed from the acp-node-name, and it is used in the hash creation of the ULA (see <a href="#scheme" class="xref">Section 6.11.2</a>).  The presence of the rsub component allows a single ACP domain to employ multiple /48 ULA prefixes.  See <a href="#domain-usage" class="xref">Appendix A.6</a> for example use cases.<a href="#section-6.2.2-9" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.2-9">The routing-subdomain is a string that can be constructed from the acp-node-name, and it is used in the hash creation of the ULA (see <a href="#scheme" class="auto internal xref">Section 6.11.2</a>).  The presence of the rsub component allows a single ACP domain to employ multiple /48 ULA prefixes.  See <a href="#domain-usage" class="auto internal xref">Appendix A.6</a> for example use cases.<a href="#section-6.2.2-9" class="pilcrow">¶</a></p>
2629c2657
< <dd id="section-6.2.2-12.3.2.2">The element should not require additional ASN.1 encoding and/or decoding because libraries for accessing certificate information, especially for embedded devices, may not support extended ASN.1 decoding beyond predefined, mandatory fields. subjectAltName / otherName is already used with a single string parameter for several otherNames (see "<a href="#RFC6120" class="xref">Extensible Messaging and Presence Protocol (XMPP): Core</a>" <span>[<a href="#RFC6120" class="xref">RFC6120</a>]</span>, "<a href="#RFC7585" class="xref">Dynamic Peer Discovery for RADIUS/TLS and RADIUS/DTLS Based on the Network Access Identifier (NAI)</a>" <span>[<a href="#RFC7585" class="xref">RFC7585</a>]</span>, "<a href="#RFC4985" class="xref">Internet X.509 Public Key Infrastructure Subject Alternative Name for Expression of Service Name</a>" <span>[<a href="#RFC4985" class="xref">RFC4985</a>]</span>, "<a href="#RFC8398" class="xref">Internationalized Email Addresses in X.509 Certificates</a>" <span>[<a href="#RFC8398" class="xref">RFC8398</a>]</span>).<a href="#section-6.2.2-12.3.2.2" class="pilcrow">¶</a>
---
> <dd id="section-6.2.2-12.3.2.2">The element should not require additional ASN.1 encoding and/or decoding because libraries for accessing certificate information, especially for embedded devices, may not support extended ASN.1 decoding beyond predefined, mandatory fields. subjectAltName / otherName is already used with a single string parameter for several otherNames (see "<a href="#RFC6120" class="internal xref">Extensible Messaging and Presence Protocol (XMPP): Core</a>" <span>[<a href="#RFC6120" class="cite xref">RFC6120</a>]</span>, "<a href="#RFC7585" class="internal xref">Dynamic Peer Discovery for RADIUS/TLS and RADIUS/DTLS Based on the Network Access Identifier (NAI)</a>" <span>[<a href="#RFC7585" class="cite xref">RFC7585</a>]</span>, "<a href="#RFC4985" class="internal xref">Internet X.509 Public Key Infrastructure Subject Alternative Name for Expression of Service Name</a>" <span>[<a href="#RFC4985" class="cite xref">RFC4985</a>]</span>, "<a href="#RFC8398" class="internal xref">Internationalized Email Addresses in X.509 Certificates</a>" <span>[<a href="#RFC8398" class="cite xref">RFC8398</a>]</span>).<a href="#section-6.2.2-12.3.2.2" class="pilcrow">¶</a>
2639c2667
< <p id="section-6.2.2-13">See <span><a href="https://www.rfc-editor.org/rfc/rfc5280#section-4.2.1.6" class="relref">Section 4.2.1.6</a> of [<a href="#RFC5280" class="xref">RFC5280</a>]</span> for details on the subjectAltName field.<a href="#section-6.2.2-13" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.2-13">See <span><a href="https://rfc-editor.org/rfc/rfc5280#section-4.2.1.6" class="relref">Section 4.2.1.6</a> of [<a href="#RFC5280" class="cite xref">RFC5280</a>]</span> for details on the subjectAltName field.<a href="#section-6.2.2-13" class="pilcrow">¶</a></p>
2646,2647c2674,2675
< This specification uses the ASN.1 definitions from "<a href="#RFC5912" class="xref">New ASN.1 Modules for the Public Key Infrastructure Using X.509 (PKIX)</a>" <span>[<a href="#RFC5912" class="xref">RFC5912</a>]</span>
< with the 2002 ASN.1 notation used in that document.  <span>[<a href="#RFC5912" class="xref">RFC5912</a>]</span>
---
> This specification uses the ASN.1 definitions from "<a href="#RFC5912" class="internal xref">New ASN.1 Modules for the Public Key Infrastructure Using X.509 (PKIX)</a>" <span>[<a href="#RFC5912" class="cite xref">RFC5912</a>]</span>
> with the 2002 ASN.1 notation used in that document.  <span>[<a href="#RFC5912" class="cite xref">RFC5912</a>]</span>
2650,2651c2678,2679
<               <div id="section-6.2.2.1-2.1">
< <pre class="sourcecode lang-asn.1">
---
>               <div class="lang-asn.1 sourcecode" id="section-6.2.2.1-2.1">
> <pre>
2707c2735
<      security association protocol used, for example, Section <a href="https://www.rfc-editor.org/rfc/rfc7296#section-2.15" class="relref">2.15</a> of <span><a href="#RFC7296" class="xref">"Internet Key Exchange Protocol Version 2 (IKEv2)"</a> [<a href="#RFC7296" class="xref">RFC7296</a>]</span>.<a href="#step1" class="pilcrow">¶</a>
---
>      security association protocol used, for example, Section <a href="https://rfc-editor.org/rfc/rfc7296#section-2.15" class="relref">2.15</a> of <span><a href="#RFC7296" class="internal xref">"Internet Key Exchange Protocol Version 2 (IKEv2)"</a> [<a href="#RFC7296" class="cite xref">RFC7296</a>]</span>.<a href="#step1" class="pilcrow">¶</a>
2712c2740
<      defined in <span>[<a href="#RFC5280" class="xref">RFC5280</a>], <a href="https://www.rfc-editor.org/rfc/rfc5280#section-6" class="relref">Section 6</a></span>, against one of the TAs associated with the ACP node's ACP certificate (see <a href="#trust-anchors" class="xref">Section 6.2.4</a>). This includes verification of the validity (lifetime) of the certificates in the path.<a href="#step2" class="pilcrow">¶</a>
---
>      defined in <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>], <a href="https://rfc-editor.org/rfc/rfc5280#section-6" class="relref">Section 6</a></span>, against one of the TAs associated with the ACP node's ACP certificate (see <a href="#trust-anchors" class="auto internal xref">Section 6.2.4</a>). This includes verification of the validity (lifetime) of the certificates in the path.<a href="#step2" class="pilcrow">¶</a>
2718,2719c2746,2747
<              (<span>[<a href="#RFC5280" class="xref">RFC5280</a>], <a href="https://www.rfc-editor.org/rfc/rfc5280#section-4.2.1.13" class="relref">Section 4.2.1.13</a></span>) or OCSP responder
<              (<span>[<a href="#RFC5280" class="xref">RFC5280</a>], <a href="https://www.rfc-editor.org/rfc/rfc5280#section-4.2.2.1" class="relref">Section 4.2.2.1</a></span>), then the peer's certificate <span class="bcp14">MUST</span> be valid according to those
---
>              (<span>[<a href="#RFC5280" class="cite xref">RFC5280</a>], <a href="https://rfc-editor.org/rfc/rfc5280#section-4.2.1.13" class="relref">Section 4.2.1.13</a></span>) or OCSP responder
>              (<span>[<a href="#RFC5280" class="cite xref">RFC5280</a>], <a href="https://rfc-editor.org/rfc/rfc5280#section-4.2.2.1" class="relref">Section 4.2.2.1</a></span>), then the peer's certificate <span class="bcp14">MUST</span> be valid according to those
2723c2751
< <p id="section-6.2.3-2.3.2">Retries to learn revocation via OCSP or CRL <span class="bcp14">SHOULD</span> be made using the same backoff as described in <a href="#neighbor_verification" class="xref">Section 6.7</a>. If and when the ACP node then learns that an ACP peer's certificate is invalid for which <a href="#step3" class="xref">Rule 3</a> had to be skipped during ACP secure channel establishment, then the ACP secure channel to that peer <span class="bcp14">MUST</span> be closed even if this peer is the only connectivity to access CRL/OCSP. This applies (of course) to all ACP secure channels to this peer if there are multiple.  The ACP secure channel connection <span class="bcp14">MUST</span> be retried periodically to support the case that the neighbor acquires a new, valid certificate.<a href="#section-6.2.3-2.3.2" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.3-2.3.2">Retries to learn revocation via OCSP or CRL <span class="bcp14">SHOULD</span> be made using the same backoff as described in <a href="#neighbor_verification" class="auto internal xref">Section 6.7</a>. If and when the ACP node then learns that an ACP peer's certificate is invalid for which <a href="#step3" class="internal xref">Rule 3</a> had to be skipped during ACP secure channel establishment, then the ACP secure channel to that peer <span class="bcp14">MUST</span> be closed even if this peer is the only connectivity to access CRL/OCSP. This applies (of course) to all ACP secure channels to this peer if there are multiple.  The ACP secure channel connection <span class="bcp14">MUST</span> be retried periodically to support the case that the neighbor acquires a new, valid certificate.<a href="#section-6.2.3-2.3.2" class="pilcrow">¶</a></p>
2736c2764
< <div id="step5">The acp-address field of the candidate peer certificate's AcpNodeName is not omitted but is either 32HEXDIG or 0, according to <a href="#acp-dominfo-abnf" class="xref">Figure 2</a>.<a href="#step5" class="pilcrow">¶</a>
---
> <div id="step5">The acp-address field of the candidate peer certificate's AcpNodeName is not omitted but is either 32HEXDIG or 0, according to <a href="#acp-dominfo-abnf" class="auto internal xref">Figure 2</a>.<a href="#step5" class="pilcrow">¶</a>
2741c2769
<          have an acp-address. <a href="#step5" class="xref">Rule 5</a> ensures that this is taken into account
---
>          have an acp-address. <a href="#step5" class="internal xref">Rule 5</a> ensures that this is taken into account
2746c2774
<          into the ACP via <span><a href="#ACPconnect" class="xref">ACP connect</a> (<a href="#ACPconnect" class="xref">Section 8.1</a>)</span><a href="#section-6.2.3-6" class="pilcrow">¶</a></p>
---
>          into the ACP via <span><a href="#ACPconnect" class="internal xref">ACP connect</a> (<a href="#ACPconnect" class="auto internal xref">Section 8.1</a>)</span><a href="#section-6.2.3-6" class="pilcrow">¶</a></p>
2754c2782
<           ACP nodes can build ACP secure channels to them according to <a href="#step5" class="xref">Rule 5.</a><a href="#section-6.2.3-7" class="pilcrow">¶</a></p>
---
>           ACP nodes can build ACP secure channels to them according to <a href="#step5" class="internal xref">Rule 5.</a><a href="#section-6.2.3-7" class="pilcrow">¶</a></p>
2762c2790
<               <a href="#step1" class="xref">Steps 1 through 4</a> constitute standard certificate validity verification and private key authentication as defined by <span>[<a href="#RFC5280" class="xref">RFC5280</a>]</span> and security association protocols (such as <span><a href="#RFC7296" class="xref">IKEv2</a> [<a href="#RFC7296" class="xref">RFC7296</a>]</span>) when leveraging certificates.<a href="#section-6.2.3-10.1" class="pilcrow">¶</a>
---
>               <a href="#step1" class="internal xref">Steps 1 through 4</a> constitute standard certificate validity verification and private key authentication as defined by <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span> and security association protocols (such as <span><a href="#RFC7296" class="internal xref">IKEv2</a> [<a href="#RFC7296" class="cite xref">RFC7296</a>]</span>) when leveraging certificates.<a href="#section-6.2.3-10.1" class="pilcrow">¶</a>
2764c2792
<             <li class="normal" id="section-6.2.3-10.2">Except for its public key, <a href="#step1" class="xref">Steps 1 through 4</a> do not include the verification of any preexisting
---
>             <li class="normal" id="section-6.2.3-10.2">Except for its public key, <a href="#step1" class="internal xref">Steps 1 through 4</a> do not include the verification of any preexisting
2767c2795
<       often encoded in the certificate common name. <a href="#step5" class="xref">Step 5</a> is an equivalent step for the AcpNodeName.<a href="#section-6.2.3-10.2" class="pilcrow">¶</a>
---
>       often encoded in the certificate common name. <a href="#step5" class="internal xref">Step 5</a> is an equivalent step for the AcpNodeName.<a href="#section-6.2.3-10.2" class="pilcrow">¶</a>
2770c2798
<               <a href="#step4" class="xref">Step 4</a> constitutes standard CRL and OCSP checks refined for the case of missing connectivity and limited-functionality security association protocols.<a href="#section-6.2.3-10.3" class="pilcrow">¶</a>
---
>               <a href="#step4" class="internal xref">Step 4</a> constitutes standard CRL and OCSP checks refined for the case of missing connectivity and limited-functionality security association protocols.<a href="#section-6.2.3-10.3" class="pilcrow">¶</a>
2773c2801
<               <a href="#step1" class="xref">Steps 1 through 4</a> authorize the building of any secure connection between members of the same ACP domain except for ACP secure channels.<a href="#section-6.2.3-10.4" class="pilcrow">¶</a>
---
>               <a href="#step1" class="internal xref">Steps 1 through 4</a> authorize the building of any secure connection between members of the same ACP domain except for ACP secure channels.<a href="#section-6.2.3-10.4" class="pilcrow">¶</a>
2776c2804
<               <a href="#step5" class="xref">Step 5</a> is the additional verification of the presence of an ACP address as necessary for ACP secure channels.<a href="#section-6.2.3-10.5" class="pilcrow">¶</a>
---
>               <a href="#step5" class="internal xref">Step 5</a> is the additional verification of the presence of an ACP address as necessary for ACP secure channels.<a href="#section-6.2.3-10.5" class="pilcrow">¶</a>
2779c2807
<               <a href="#step1" class="xref">Steps 1 through 5</a> therefore authorize the building of an ACP secure channel.<a href="#section-6.2.3-10.6" class="pilcrow">¶</a>
---
>               <a href="#step1" class="internal xref">Steps 1 through 5</a> therefore authorize the building of an ACP secure channel.<a href="#section-6.2.3-10.6" class="pilcrow">¶</a>
2790,2791c2818,2819
<             as checking the certificate validity period in <a href="#step1" class="xref">Step 1</a> and the respective
<             times in <a href="#step4" class="xref">Step 4</a> for revocation information (e.g., signingTimes in Cryptographic Message Syntax (CMS) signatures).<a href="#section-6.2.3.1-1" class="pilcrow">¶</a></p>
---
>             as checking the certificate validity period in <a href="#step1" class="internal xref">Step 1</a> and the respective
>             times in <a href="#step4" class="internal xref">Step 4</a> for revocation information (e.g., signingTimes in Cryptographic Message Syntax (CMS) signatures).<a href="#section-6.2.3.1-1" class="pilcrow">¶</a></p>
2800c2828
< <p id="section-6.2.3.1-3">Current time <span class="bcp14">MAY</span> be learned in an unsecured fashion, for example, via NTP ("<a href="#RFC5905" class="xref">Network Time Protocol Version 4: Protocol and Algorithms Specification</a>" <span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span>)
---
> <p id="section-6.2.3.1-3">Current time <span class="bcp14">MAY</span> be learned in an unsecured fashion, for example, via NTP ("<a href="#RFC5905" class="internal xref">Network Time Protocol Version 4: Protocol and Algorithms Specification</a>" <span>[<a href="#RFC5905" class="cite xref">RFC5905</a>]</span>)
2819,2820c2847,2848
< <p id="section-6.2.4-1">ACP nodes need TA information according to <span>[<a href="#RFC5280" class="xref">RFC5280</a>], <a href="https://www.rfc-editor.org/rfc/rfc5280#section-6.1.1" class="relref">Section 6.1.1</a></span> (d), typically in the form of one or more certificates of the TA to perform certificate
< path validation as required by <a href="#step2" class="xref">Section 6.2.3, Rule 2</a>.
---
> <p id="section-6.2.4-1">ACP nodes need TA information according to <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>], <a href="https://rfc-editor.org/rfc/rfc5280#section-6.1.1" class="relref">Section 6.1.1</a></span> (d), typically in the form of one or more certificates of the TA to perform certificate
> path validation as required by <a href="#step2" class="internal xref">Section 6.2.3, Rule 2</a>.
2824c2852
< EST as described in <a href="#domcert-maint" class="xref">Section 6.2.5</a>.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
---
> EST as described in <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
2828c2856
< as explained in Section <a href="https://www.rfc-editor.org/rfc/rfc4210#section-4.4" class="relref">4.4</a> of <span><a href="#RFC4210" class="xref">"Internet X.509 Public Key Infrastructure Certificate Management Protocol (CMP)"</a> [<a href="#RFC4210" class="xref">RFC4210</a>]</span>).<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
---
> as explained in Section <a href="https://rfc-editor.org/rfc/rfc4210#section-4.4" class="relref">4.4</a> of <span><a href="#RFC4210" class="internal xref">"Internet X.509 Public Key Infrastructure Certificate Management Protocol (CMP)"</a> [<a href="#RFC4210" class="cite xref">RFC4210</a>]</span>).<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
2841c2869
< ACP domain membership check <a href="#step1" class="xref">Rules 1 through 3</a> are performed need to support
---
> ACP domain membership check <a href="#step1" class="internal xref">Rules 1 through 3</a> are performed need to support
2866c2894
< and <span class="bcp14">MAY</span> support other mechanisms.  See <a href="#tls" class="xref">Section 6.1</a> for TLS requirements.
---
> and <span class="bcp14">MAY</span> support other mechanisms.  See <a href="#tls" class="auto internal xref">Section 6.1</a> for TLS requirements.
2873c2901
< (see <a href="#acp-registrars" class="xref">Section 6.11.7</a>) that initially enrolled the ACP
---
> (see <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a>) that initially enrolled the ACP
2875c2903
< is used (see <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>), the IPv6 locator of the BRSKI registrar from the BRSKI TLS
---
> is used (see <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>), the IPv6 locator of the BRSKI registrar from the BRSKI TLS
2878c2906
< via GRASP on its ACP address (see <a href="#domcert-grasp" class="xref">Section 6.2.5.1</a>).<a href="#section-6.2.5-2" class="pilcrow">¶</a></p>
---
> via GRASP on its ACP address (see <a href="#domcert-grasp" class="auto internal xref">Section 6.2.5.1</a>).<a href="#section-6.2.5-2" class="pilcrow">¶</a></p>
2880c2908
< membership check in its TLS connection setup (<a href="#step1" class="xref">Section 6.2.3, rules 1 through 4</a>, not <a href="#step5" class="xref">rule 5</a> as this is not for an ACP secure channel setup).
---
> membership check in its TLS connection setup (<a href="#step1" class="internal xref">Section 6.2.3, rules 1 through 4</a>, not <a href="#step5" class="internal xref">rule 5</a> as this is not for an ACP secure channel setup).
2882c2910
< extended key usage attribute <span>[<a href="#RFC6402" class="xref">RFC6402</a>]</span>, and the EST client <span class="bcp14">MUST</span> check its presence.<a href="#section-6.2.5-3" class="pilcrow">¶</a></p>
---
> extended key usage attribute <span>[<a href="#RFC6402" class="cite xref">RFC6402</a>]</span>, and the EST client <span class="bcp14">MUST</span> check its presence.<a href="#section-6.2.5-3" class="pilcrow">¶</a></p>
2900,2901c2928,2929
< Flood Synchronization (M_FLOOD) messages. See <span>[<a href="#RFC8990" class="xref">RFC8990</a>], <a href="https://www.rfc-editor.org/rfc/rfc8990#section-2.8.11" class="relref">Section 2.8.11</a></span> for the definition of this message type
< and <a href="#est-example" class="xref">Figure 4</a> for an example.<a href="#section-6.2.5.1-1" class="pilcrow">¶</a></p>
---
> Flood Synchronization (M_FLOOD) messages. See <span>[<a href="#RFC8990" class="cite xref">RFC8990</a>], <a href="https://rfc-editor.org/rfc/rfc8990#section-2.8.11" class="relref">Section 2.8.11</a></span> for the definition of this message type
> and <a href="#est-example" class="auto internal xref">Figure 4</a> for an example.<a href="#section-6.2.5.1-1" class="pilcrow">¶</a></p>
2904,2905c2932,2933
<               <div id="section-6.2.5.1-2.1">
< <pre class="sourcecode">
---
>               <div class="sourcecode" id="section-6.2.5.1-2.1">
> <pre>
2918c2946
<    (see "<a href="#RFC8610" class="xref">Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures</a>" <span>[<a href="#RFC8610" class="xref">RFC8610</a>]</span>) is as follows:<a href="#section-6.2.5.1-3" class="pilcrow">¶</a></p>
---
>    (see "<a href="#RFC8610" class="internal xref">Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures</a>" <span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>) is as follows:<a href="#section-6.2.5.1-3" class="pilcrow">¶</a></p>
2921,2922c2949,2950
<               <div id="section-6.2.5.1-4.1">
< <pre class="sourcecode lang-cddl">
---
>               <div class="lang-cddl sourcecode" id="section-6.2.5.1-4.1">
> <pre>
2943,2944c2971,2972
< <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span> because "est" is a
< registered service name ("<a href="#RFC6335" class="xref">Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry</a>" <span>[<a href="#RFC6335" class="xref">RFC6335</a>]</span>) for <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span>.
---
> <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span> because "est" is a
> registered service name ("<a href="#RFC6335" class="internal xref">Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry</a>" <span>[<a href="#RFC6335" class="cite xref">RFC6335</a>]</span>) for <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span>.
2946,2947c2974,2975
< <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span> <span class="bcp14">MAY</span> be indicated through 'objective-value'.
< Certificate renewal options that are incompatible with <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span> <span class="bcp14">MUST</span> use a different 'objective-name'.
---
> <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span> <span class="bcp14">MAY</span> be indicated through 'objective-value'.
> Certificate renewal options that are incompatible with <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span> <span class="bcp14">MUST</span> use a different 'objective-name'.
2963c2991
< <a href="#security" class="xref">Section 11</a>.<a href="#section-6.2.5.1-7" class="pilcrow">¶</a></p>
---
> <a href="#security" class="auto internal xref">Section 11</a>.<a href="#section-6.2.5.1-7" class="pilcrow">¶</a></p>
3002c3030
< node with ACP or by connecting its node via an ACP connect interface (see <a href="#ACPconnect" class="xref">Section 8.1</a>).<a href="#section-6.2.5.3-3" class="pilcrow">¶</a></p>
---
> node with ACP or by connecting its node via an ACP connect interface (see <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>).<a href="#section-6.2.5.3-3" class="pilcrow">¶</a></p>
3007c3035
< Authentication and authorization <span class="bcp14">SHOULD</span> use ACP certificates and the ACP domain membership check (<a href="#certcheck" class="xref">Section 6.2.3</a>).
---
> Authentication and authorization <span class="bcp14">SHOULD</span> use ACP certificates and the ACP domain membership check (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>).
3026,3027c3054,3055
< <a href="#sub-ca" class="xref">Section 9.2.4</a> for a discussion about an example setup achieving
< this. See also "<a href="#RFC8739" class="xref">Support for Short-Term, Automatically Renewed (STAR) Certificates in the Automated Certificate Management Environment (ACME)</a>" <span>[<a href="#RFC8739" class="xref">RFC8739</a>]</span>.<a href="#section-6.2.5.4-1" class="pilcrow">¶</a></p>
---
> <a href="#sub-ca" class="auto internal xref">Section 9.2.4</a> for a discussion about an example setup achieving
> this. See also "<a href="#RFC8739" class="internal xref">Support for Short-Term, Automatically Renewed (STAR) Certificates in the Automated Certificate Management Environment (ACME)</a>" <span>[<a href="#RFC8739" class="cite xref">RFC8739</a>]</span>.<a href="#section-6.2.5.4-1" class="pilcrow">¶</a></p>
3031,3032c3059,3060
< <p id="section-6.2.5.4-3">See <a href="#bootstrap" class="xref">Appendix A.2</a> for further optimizations of certificate
< maintenance when BRSKI can be used <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>.<a href="#section-6.2.5.4-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.5.4-3">See <a href="#bootstrap" class="auto internal xref">Appendix A.2</a> for further optimizations of certificate
> maintenance when BRSKI can be used <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>.<a href="#section-6.2.5.4-3" class="pilcrow">¶</a></p>
3049c3077
< <p id="section-6.2.5.5-3">Please refer to <a href="#acp-registrars" class="xref">Section 6.11.7</a> and <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>
---
> <p id="section-6.2.5.5-3">Please refer to <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a> and <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>
3107c3135
< should pass the domain membership check (<a href="#certcheck" class="xref">Section 6.2.3</a>),
---
> should pass the domain membership check (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>),
3122c3150
< reenrolling candidate ACP node as explained in <a href="#domcert-re-enroll" class="xref">Section 6.2.5.5</a>.<a href="#section-6.2.5.6-4" class="pilcrow">¶</a></p>
---
> reenrolling candidate ACP node as explained in <a href="#domcert-re-enroll" class="auto internal xref">Section 6.2.5.5</a>.<a href="#section-6.2.5.6-4" class="pilcrow">¶</a></p>
3134c3162
< <p id="section-6.3-1">To know to which nodes to establish an ACP channel, every ACP node maintains an adjacency table.  The adjacency table contains information about adjacent ACP nodes, at a minimum: Node-ID (the identifier of the node inside the ACP, see <a href="#zone-scheme" class="xref">Section 6.11.3</a> and <a href="#Vlong" class="xref">Section 6.11.5</a>), the interface on which neighbor was discovered (by GRASP as explained below), the link-local IPv6 address of the neighbor on that interface, and the certificate (including acp-node-name).  An ACP node <span class="bcp14">MUST</span> maintain this adjacency table.  This table is used to determine to which neighbor an ACP connection is established.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.3-1">To know to which nodes to establish an ACP channel, every ACP node maintains an adjacency table.  The adjacency table contains information about adjacent ACP nodes, at a minimum: Node-ID (the identifier of the node inside the ACP, see <a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a> and <a href="#Vlong" class="auto internal xref">Section 6.11.5</a>), the interface on which neighbor was discovered (by GRASP as explained below), the link-local IPv6 address of the neighbor on that interface, and the certificate (including acp-node-name).  An ACP node <span class="bcp14">MUST</span> maintain this adjacency table.  This table is used to determine to which neighbor an ACP connection is established.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
3136,3137c3164,3165
< connected to this node), the information in the adjacency table can be supplemented by configuration.  For example, the Node-ID and IP address could be configured. See <a href="#remote-acp-neighbors" class="xref">Section 8.2</a>.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
< <p id="section-6.3-3">The adjacency table <span class="bcp14">MAY</span> contain information about the validity and trust of the adjacent ACP node's certificate.  However, subsequent steps <span class="bcp14">MUST</span> always start with the ACP domain membership check against the peer (see <a href="#certcheck" class="xref">Section 6.2.3</a>).<a href="#section-6.3-3" class="pilcrow">¶</a></p>
---
> connected to this node), the information in the adjacency table can be supplemented by configuration.  For example, the Node-ID and IP address could be configured. See <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a>.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
> <p id="section-6.3-3">The adjacency table <span class="bcp14">MAY</span> contain information about the validity and trust of the adjacent ACP node's certificate.  However, subsequent steps <span class="bcp14">MUST</span> always start with the ACP domain membership check against the peer (see <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>).<a href="#section-6.3-3" class="pilcrow">¶</a></p>
3147c3175
< insecure link-local scope.  See <span><a href="https://www.rfc-editor.org/rfc/rfc8990#section-2.5.2" class="relref">Section 2.5.2</a> of [<a href="#RFC8990" class="xref">RFC8990</a>]</span> for its
---
> insecure link-local scope.  See <span><a href="https://rfc-editor.org/rfc/rfc8990#section-2.5.2" class="relref">Section 2.5.2</a> of [<a href="#RFC8990" class="cite xref">RFC8990</a>]</span> for its
3150c3178
< by policy as noted earlier (<a href="#sec5bt2" class="xref">Section 5, bullet point 2</a>), native interfaces
---
> by policy as noted earlier (<a href="#sec5bt2" class="internal xref">Section 5, bullet point 2</a>), native interfaces
3155c3183
< at first only SLAAC ("<a href="#RFC4862" class="xref">IPv6 Stateless Address Autoconfiguration</a>" <span>[<a href="#RFC4862" class="xref">RFC4862</a>]</span>)
---
> at first only SLAAC ("<a href="#RFC4862" class="internal xref">IPv6 Stateless Address Autoconfiguration</a>" <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span>)
3160c3188
< the need to use MLDv2 (see "<a href="#RFC3810" class="xref">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a>" <span>[<a href="#RFC3810" class="xref">RFC3810</a>]</span>)
---
> the need to use MLDv2 (see "<a href="#RFC3810" class="internal xref">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a>" <span>[<a href="#RFC3810" class="cite xref">RFC3810</a>]</span>)
3163c3191
< MLD-snooping switches ("<a href="#RFC4541" class="xref">Considerations for Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Snooping Switches</a>" <span>[<a href="#RFC4541" class="xref">RFC4541</a>]</span>) that either do not support ACP or are not ACP enabled because those switches would stop forwarding DULL GRASP packets.
---
> MLD-snooping switches ("<a href="#RFC4541" class="internal xref">Considerations for Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Snooping Switches</a>" <span>[<a href="#RFC4541" class="cite xref">RFC4541</a>]</span>) that either do not support ACP or are not ACP enabled because those switches would stop forwarding DULL GRASP packets.
3166c3194
< <p id="section-6.4-3">ACP discovery <span class="bcp14">SHOULD NOT</span> be enabled by default on non-native interfaces.  In particular, ACP discovery <span class="bcp14">MUST NOT</span> run inside the ACP across ACP virtual interfaces.  See <a href="#enabling-acp" class="xref">Section 9.3</a> for further non-normative suggestions on how to enable and disable ACP at the node and interface level.  See <a href="#conf-tunnel" class="xref">Section 8.2.2</a> for more details about tunnels (typical non-native interfaces).  See <a href="#acp-l2-switches" class="xref">Section 7</a> for extending ACP on devices operating (also) as L2 bridges.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.4-3">ACP discovery <span class="bcp14">SHOULD NOT</span> be enabled by default on non-native interfaces.  In particular, ACP discovery <span class="bcp14">MUST NOT</span> run inside the ACP across ACP virtual interfaces.  See <a href="#enabling-acp" class="auto internal xref">Section 9.3</a> for further non-normative suggestions on how to enable and disable ACP at the node and interface level.  See <a href="#conf-tunnel" class="auto internal xref">Section 8.2.2</a> for more details about tunnels (typical non-native interfaces).  See <a href="#acp-l2-switches" class="auto internal xref">Section 7</a> for extending ACP on devices operating (also) as L2 bridges.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
3168c3196
< (see <a href="#bootstrap" class="xref">Appendix A.2</a> for a summary), then the above considerations also apply to 
---
> (see <a href="#bootstrap" class="auto internal xref">Appendix A.2</a> for a summary), then the above considerations also apply to 
3181,3182c3209,3210
<           <div id="section-6.4-6.1">
< <pre class="sourcecode">
---
>           <div class="sourcecode" id="section-6.4-6.1">
> <pre>
3200,3201c3228,3229
<           <div id="section-6.4-8.1">
< <pre class="sourcecode lang-cddl">
---
>           <div class="lang-cddl sourcecode" id="section-6.4-8.1">
> <pre>
3232c3260
< <p id="section-6.4-14">The 'method-name' in the 'objective-value' parameter is a string indicating the protocol available at the specified or implied locator. It is a protocol supported by the node to negotiate a secure channel. "IKEv2" as shown in <a href="#an-acp-example" class="xref">Figure 6</a> is the protocol used to negotiate an IPsec secure channel.<a href="#section-6.4-14" class="pilcrow">¶</a></p>
---
> <p id="section-6.4-14">The 'method-name' in the 'objective-value' parameter is a string indicating the protocol available at the specified or implied locator. It is a protocol supported by the node to negotiate a secure channel. "IKEv2" as shown in <a href="#an-acp-example" class="auto internal xref">Figure 6</a> is the protocol used to negotiate an IPsec secure channel.<a href="#section-6.4-14" class="pilcrow">¶</a></p>
3236,3237c3264,3265
< <p id="section-6.4-18">IKEv2 is the actual protocol used to negotiate an IPsec connection.  GRASP therefore indicates "IKEv2" and not "IPsec". If "IPsec" was used, this could mean the use of the obsolete, older version IKE (v1) ("<a href="#RFC2409" class="xref">The Internet Key Exchange (IKE)</a>" <span>[<a href="#RFC2409" class="xref">RFC2409</a>]</span>).  IKEv2 has an IANA-assigned port number 500, but in <a href="#an-acp-example" class="xref">Figure 6</a>, the candidate ACP neighbor is offering ACP secure channel negotiation via IKEv2 on port 15000 (purely to show through the example that GRASP allows the indication of a port number, and it does not have to be IANA assigned).<a href="#section-6.4-18" class="pilcrow">¶</a></p>
< <p id="section-6.4-19">There is no default UDP port for DTLS, it is always locally assigned by the node. For further details about the "DTLS" secure channel protocol, see <a href="#DTLS" class="xref">Section 6.8.4</a>.<a href="#section-6.4-19" class="pilcrow">¶</a></p>
---
> <p id="section-6.4-18">IKEv2 is the actual protocol used to negotiate an IPsec connection.  GRASP therefore indicates "IKEv2" and not "IPsec". If "IPsec" was used, this could mean the use of the obsolete, older version IKE (v1) ("<a href="#RFC2409" class="internal xref">The Internet Key Exchange (IKE)</a>" <span>[<a href="#RFC2409" class="cite xref">RFC2409</a>]</span>).  IKEv2 has an IANA-assigned port number 500, but in <a href="#an-acp-example" class="auto internal xref">Figure 6</a>, the candidate ACP neighbor is offering ACP secure channel negotiation via IKEv2 on port 15000 (purely to show through the example that GRASP allows the indication of a port number, and it does not have to be IANA assigned).<a href="#section-6.4-18" class="pilcrow">¶</a></p>
> <p id="section-6.4-19">There is no default UDP port for DTLS, it is always locally assigned by the node. For further details about the "DTLS" secure channel protocol, see <a href="#DTLS" class="auto internal xref">Section 6.8.4</a>.<a href="#section-6.4-19" class="pilcrow">¶</a></p>
3241c3269
<     of the "AN_ACP" objective so that each method can be accompanied by its own 'locator-option'.  This can use a single GRASP M_FLOOD message as shown in <a href="#an-acp-example" class="xref">Figure 6</a>.<a href="#section-6.4-22" class="pilcrow">¶</a></p>
---
>     of the "AN_ACP" objective so that each method can be accompanied by its own 'locator-option'.  This can use a single GRASP M_FLOOD message as shown in <a href="#an-acp-example" class="auto internal xref">Figure 6</a>.<a href="#section-6.4-22" class="pilcrow">¶</a></p>
3244,3245c3272,3273
< <p id="section-6.4-25">The result of the discovery is the IPv6 link-local address of the neighbor as well as its supported secure channel protocols (and the non-standard port they are running on).  It is stored in the ACP adjacency table (see <a href="#adj-table" class="xref">Section 6.3</a>), which then drives the further building of the ACP to that neighbor.<a href="#section-6.4-25" class="pilcrow">¶</a></p>
< <p id="section-6.4-26">Note that the described DULL GRASP objective intentionally does not include the ACP node's ACP certificate, even though this would be useful for diagnostics and to simplify the security exchange in ACP secure channel security association protocols (see <a href="#associations" class="xref">Section 6.8</a>). The reason is that DULL GRASP messages are periodically multicast across IPv6 subnets, and full certificates could easily lead to fragmented IPv6 DULL GRASP multicast packets due to the size of a certificate.  This would be highly undesirable.<a href="#section-6.4-26" class="pilcrow">¶</a></p>
---
> <p id="section-6.4-25">The result of the discovery is the IPv6 link-local address of the neighbor as well as its supported secure channel protocols (and the non-standard port they are running on).  It is stored in the ACP adjacency table (see <a href="#adj-table" class="auto internal xref">Section 6.3</a>), which then drives the further building of the ACP to that neighbor.<a href="#section-6.4-25" class="pilcrow">¶</a></p>
> <p id="section-6.4-26">Note that the described DULL GRASP objective intentionally does not include the ACP node's ACP certificate, even though this would be useful for diagnostics and to simplify the security exchange in ACP secure channel security association protocols (see <a href="#associations" class="auto internal xref">Section 6.8</a>). The reason is that DULL GRASP messages are periodically multicast across IPv6 subnets, and full certificates could easily lead to fragmented IPv6 DULL GRASP multicast packets due to the size of a certificate.  This would be highly undesirable.<a href="#section-6.4-26" class="pilcrow">¶</a></p>
3254c3282
< <p id="section-6.5-2">The ACP is established exclusively between nodes in the same domain.  This includes all routing subdomains. <a href="#domain-usage" class="xref">Appendix A.6</a> explains how ACP connections across multiple routing subdomains are special.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.5-2">The ACP is established exclusively between nodes in the same domain.  This includes all routing subdomains. <a href="#domain-usage" class="auto internal xref">Appendix A.6</a> explains how ACP connections across multiple routing subdomains are special.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
3265c3293
<   For example, IoT devices that are codespace limited may only support DTLS because that code exists already on them for end-to-end security, but low-end, in-ceiling L2 switches may only want to support Media Access Control Security (MacSec, see 802.1AE <span>[<a href="#MACSEC" class="xref">MACSEC</a>]</span>) because that is also supported in their chips.  Only a flexible gateway device may need to support both of these mechanisms and potentially more.  Note that MacSec is not required by any profiles of the ACP in this specification. Instead, MacSec is mentioned as an interesting potential secure channel protocol.  Note also that the security model allows and requires any-to-any authentication and authorization between all ACP nodes because there is not only hop-by-hop but also end-to-end authentication for secure channels.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
---
>   For example, IoT devices that are codespace limited may only support DTLS because that code exists already on them for end-to-end security, but low-end, in-ceiling L2 switches may only want to support Media Access Control Security (MacSec, see 802.1AE <span>[<a href="#MACSEC" class="cite xref">MACSEC</a>]</span>) because that is also supported in their chips.  Only a flexible gateway device may need to support both of these mechanisms and potentially more.  Note that MacSec is not required by any profiles of the ACP in this specification. Instead, MacSec is mentioned as an interesting potential secure channel protocol.  Note also that the security model allows and requires any-to-any authentication and authorization between all ACP nodes because there is not only hop-by-hop but also end-to-end authentication for secure channels.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
3352c3380
< <p id="section-6.7-1">Independent of the security association protocol chosen, candidate ACP neighbors need to be authenticated based on their domain certificate.  This implies that any secure channel protocol <span class="bcp14">MUST</span> support certificate-based authentication that can support the ACP domain membership check as defined in <a href="#certcheck" class="xref">Section 6.2.3</a>.  If it fails, the connection attempt is aborted and an error logged. Attempts to reconnect <span class="bcp14">MUST</span> be throttled. The <span class="bcp14">RECOMMENDED</span> default is exponential base-two backoff with an initial retransmission time (IRT) of 10 seconds and a maximum retransmission time (MRT) of 640 seconds.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.7-1">Independent of the security association protocol chosen, candidate ACP neighbors need to be authenticated based on their domain certificate.  This implies that any secure channel protocol <span class="bcp14">MUST</span> support certificate-based authentication that can support the ACP domain membership check as defined in <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.  If it fails, the connection attempt is aborted and an error logged. Attempts to reconnect <span class="bcp14">MUST</span> be throttled. The <span class="bcp14">RECOMMENDED</span> default is exponential base-two backoff with an initial retransmission time (IRT) of 10 seconds and a maximum retransmission time (MRT) of 640 seconds.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
3357c3385
< of secure channel creation. <a href="#channel-selection" class="xref">Section 6.6</a> shows how simultaneous mutual
---
> of secure channel creation. <a href="#channel-selection" class="auto internal xref">Section 6.6</a> shows how simultaneous mutual
3366,3367c3394,3395
< <p id="section-6.8-1">This section describes how ACP nodes establish secured data connections to automatically discovered or configured peers in the ACP. <a href="#discovery-grasp" class="xref">Section 6.4</a> describes how peers that are adjacent on an IPv6 subnet are discovered automatically. <a href="#remote-acp-neighbors" class="xref">Section 8.2</a> describes how to configure peers that are not adjacent on an IPv6 subnet.<a href="#section-6.8-1" class="pilcrow">¶</a></p>
< <p id="section-6.8-2"><a href="#ACP-virtual-interfaces" class="xref">Section 6.13.5.2</a> describes how secure channels are mapped to virtual IPv6 subnet interfaces in the ACP. The simple case is to map every ACP secure channel to a separate ACP point-to-point virtual interface (<a href="#ACP-p2p-virtual-interfaces" class="xref">Section 6.13.5.2.1</a>). When a single subnet has multiple ACP peers, this results in multiple ACP point-to-point virtual interfaces across that underlying multiparty IPv6 subnet. This can be optimized with ACP multi-access virtual interfaces (<a href="#ACP-ma-virtual-interfaces" class="xref">Section 6.13.5.2.2</a>), but the benefits of that optimization may not justify the complexity of that option.<a href="#section-6.8-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.8-1">This section describes how ACP nodes establish secured data connections to automatically discovered or configured peers in the ACP. <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a> describes how peers that are adjacent on an IPv6 subnet are discovered automatically. <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a> describes how to configure peers that are not adjacent on an IPv6 subnet.<a href="#section-6.8-1" class="pilcrow">¶</a></p>
> <p id="section-6.8-2"><a href="#ACP-virtual-interfaces" class="auto internal xref">Section 6.13.5.2</a> describes how secure channels are mapped to virtual IPv6 subnet interfaces in the ACP. The simple case is to map every ACP secure channel to a separate ACP point-to-point virtual interface (<a href="#ACP-p2p-virtual-interfaces" class="auto internal xref">Section 6.13.5.2.1</a>). When a single subnet has multiple ACP peers, this results in multiple ACP point-to-point virtual interfaces across that underlying multiparty IPv6 subnet. This can be optimized with ACP multi-access virtual interfaces (<a href="#ACP-ma-virtual-interfaces" class="auto internal xref">Section 6.13.5.2.2</a>), but the benefits of that optimization may not justify the complexity of that option.<a href="#section-6.8-2" class="pilcrow">¶</a></p>
3373c3401
< <p id="section-6.8.1-1">Due to channel selection (<a href="#channel-selection" class="xref">Section 6.6</a>), ACP can support an evolving set of security association protocols and does not require support for a single network-wide MTI.  ACP nodes only need to implement those protocols required to interoperate with their candidate peers, not with potentially any node in the ACP domain. See <a href="#Profiles" class="xref">Section 6.8.5</a> for an example of this.<a href="#section-6.8.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.1-1">Due to channel selection (<a href="#channel-selection" class="auto internal xref">Section 6.6</a>), ACP can support an evolving set of security association protocols and does not require support for a single network-wide MTI.  ACP nodes only need to implement those protocols required to interoperate with their candidate peers, not with potentially any node in the ACP domain. See <a href="#Profiles" class="auto internal xref">Section 6.8.5</a> for an example of this.<a href="#section-6.8.1-1" class="pilcrow">¶</a></p>
3376,3377c3404,3405
< <p id="section-6.8.1-4">L2 mechanisms such as strong encrypted radio technologies or <span>[<a href="#MACSEC" class="xref">MACSEC</a>]</span> may offer equivalent encryption, and the ACP security association protocol may only be required to authenticate ACP domain membership of a peer and/or derive a key for the L2 mechanism. Mechanisms that leverage such underlying L2 security to auto-discover and associate ACP peers are possible and desirable to avoid duplication of encryption, but none are specified in this document.<a href="#section-6.8.1-4" class="pilcrow">¶</a></p>
< <p id="section-6.8.1-5">Strong physical security of a link may stand in where cryptographic security is infeasible. As there is no secure mechanism to automatically discover strong physical security solely between two peers, it can only be used with explicit configuration, and that configuration too could become an attack vector. This document therefore specifies with <span><a href="#ACPconnect" class="xref">ACP connect</a> (<a href="#ACPconnect" class="xref">Section 8.1</a>)</span> only one explicitly configured mechanism without any secure channel association protocol for the case where both the link and the nodes attached to it have strong physical security.<a href="#section-6.8.1-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.1-4">L2 mechanisms such as strong encrypted radio technologies or <span>[<a href="#MACSEC" class="cite xref">MACSEC</a>]</span> may offer equivalent encryption, and the ACP security association protocol may only be required to authenticate ACP domain membership of a peer and/or derive a key for the L2 mechanism. Mechanisms that leverage such underlying L2 security to auto-discover and associate ACP peers are possible and desirable to avoid duplication of encryption, but none are specified in this document.<a href="#section-6.8.1-4" class="pilcrow">¶</a></p>
> <p id="section-6.8.1-5">Strong physical security of a link may stand in where cryptographic security is infeasible. As there is no secure mechanism to automatically discover strong physical security solely between two peers, it can only be used with explicit configuration, and that configuration too could become an attack vector. This document therefore specifies with <span><a href="#ACPconnect" class="internal xref">ACP connect</a> (<a href="#ACPconnect" class="auto internal xref">Section 8.1</a>)</span> only one explicitly configured mechanism without any secure channel association protocol for the case where both the link and the nodes attached to it have strong physical security.<a href="#section-6.8.1-5" class="pilcrow">¶</a></p>
3385c3413
< <p id="section-6.8.2-1">The authentication of peers in any security association protocol <span class="bcp14">MUST</span> use the ACP certificate according to <a href="#certcheck" class="xref">Section 6.2.3</a>.  Because auto-discovery of candidate ACP neighbors via GRASP (see <a href="#discovery-grasp" class="xref">Section 6.4</a>) as specified in this document does not communicate the neighbor's ACP certificate, and ACP nodes may not (yet) have any other network connectivity to retrieve certificates, any security association protocol <span class="bcp14">MUST</span> use a mechanism to communicate the certificate directly instead of relying on a referential mechanism such as communicating only a hash and/or URL for the certificate.<a href="#section-6.8.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.2-1">The authentication of peers in any security association protocol <span class="bcp14">MUST</span> use the ACP certificate according to <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.  Because auto-discovery of candidate ACP neighbors via GRASP (see <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>) as specified in this document does not communicate the neighbor's ACP certificate, and ACP nodes may not (yet) have any other network connectivity to retrieve certificates, any security association protocol <span class="bcp14">MUST</span> use a mechanism to communicate the certificate directly instead of relying on a referential mechanism such as communicating only a hash and/or URL for the certificate.<a href="#section-6.8.2-1" class="pilcrow">¶</a></p>
3394c3422
< to aid troubleshooting, see <a href="#ta-troubleshoot" class="xref">Section 9.1.1</a>.<a href="#section-6.8.2-4" class="pilcrow">¶</a></p>
---
> to aid troubleshooting, see <a href="#ta-troubleshoot" class="auto internal xref">Section 9.1.1</a>.<a href="#section-6.8.2-4" class="pilcrow">¶</a></p>
3410c3438
< <p id="section-6.8.3-2">The ACP usage of IPsec and IKEv2 mandates a profile with a narrow set of options of the current Standards Track usage guidance for IPsec ("<a href="#RFC8221" class="xref">Cryptographic Algorithm Implementation Requirements and Usage Guidance for Encapsulating Security Payload (ESP) and Authentication Header (AH)</a>" <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span>) and IKEv2 ("<a href="#RFC8247" class="xref">Algorithm Implementation Requirements and Usage Guidance for the Internet Key Exchange Protocol Version 2 (IKEv2)</a>" <span>[<a href="#RFC8247" class="xref">RFC8247</a>]</span>).  These options result in stringent security properties and can exclude deprecated and legacy algorithms because there is no need for interoperability with legacy equipment for ACP secure channels.  Any such backward compatibility would lead only to an increased attack surface and implementation complexity, for no benefit.<a href="#section-6.8.3-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.3-2">The ACP usage of IPsec and IKEv2 mandates a profile with a narrow set of options of the current Standards Track usage guidance for IPsec ("<a href="#RFC8221" class="internal xref">Cryptographic Algorithm Implementation Requirements and Usage Guidance for Encapsulating Security Payload (ESP) and Authentication Header (AH)</a>" <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span>) and IKEv2 ("<a href="#RFC8247" class="internal xref">Algorithm Implementation Requirements and Usage Guidance for the Internet Key Exchange Protocol Version 2 (IKEv2)</a>" <span>[<a href="#RFC8247" class="cite xref">RFC8247</a>]</span>).  These options result in stringent security properties and can exclude deprecated and legacy algorithms because there is no need for interoperability with legacy equipment for ACP secure channels.  Any such backward compatibility would lead only to an increased attack surface and implementation complexity, for no benefit.<a href="#section-6.8.3-2" class="pilcrow">¶</a></p>
3421c3449
<      see <a href="#domcert" class="xref">Section 6.2</a>. Traffic Selectors
---
>      see <a href="#domcert" class="auto internal xref">Section 6.2</a>. Traffic Selectors
3423c3451
< <div class="artwork art-text alignLeft" id="section-6.8.3.1-2">
---
> <div class="alignLeft art-text artwork" id="section-6.8.3.1-2">
3435c3463
< <p id="section-6.8.3.1.1-1">ACP IPsec implementations <span class="bcp14">MUST</span> comply with <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span> and any specifications that update it. The requirements from above and this section amend and supersede its requirements.<a href="#section-6.8.3.1.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.3.1.1-1">ACP IPsec implementations <span class="bcp14">MUST</span> comply with <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span> and any specifications that update it. The requirements from above and this section amend and supersede its requirements.<a href="#section-6.8.3.1.1-1" class="pilcrow">¶</a></p>
3437c3465
< <p id="section-6.8.3.1.1-3">For the required ESP encryption algorithms in <span><a href="https://www.rfc-editor.org/rfc/rfc8221#section-5" class="relref">Section 5</a> of [<a href="#RFC8221" class="xref">RFC8221</a>]</span>, the following guidance applies:<a href="#section-6.8.3.1.1-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.3.1.1-3">For the required ESP encryption algorithms in <span><a href="https://rfc-editor.org/rfc/rfc8221#section-5" class="relref">Section 5</a> of [<a href="#RFC8221" class="cite xref">RFC8221</a>]</span>, the following guidance applies:<a href="#section-6.8.3.1.1-3" class="pilcrow">¶</a></p>
3441c3469
<                 <li class="normal" id="section-6.8.3.1.1-4.2">ENCR_AES_GCM_16 is the only MTI ESP encryption algorithm for ACP via IPsec/ESP (it is already listed as <span class="bcp14">MUST</span> in <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span>).<a href="#section-6.8.3.1.1-4.2" class="pilcrow">¶</a>
---
>                 <li class="normal" id="section-6.8.3.1.1-4.2">ENCR_AES_GCM_16 is the only MTI ESP encryption algorithm for ACP via IPsec/ESP (it is already listed as <span class="bcp14">MUST</span> in <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span>).<a href="#section-6.8.3.1.1-4.2" class="pilcrow">¶</a>
3468c3496
<       ENCR_CHACHA20_POLY1305 is mandatory in <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span> because
---
>       ENCR_CHACHA20_POLY1305 is mandatory in <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span> because
3481c3509
<   <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span> allows for 128-bit or 256-bit AES keys.
---
>   <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span> allows for 128-bit or 256-bit AES keys.
3484c3512
< When <span>[<a href="#RFC8221" class="xref">RFC8221</a>]</span> is updated, ACP implementations will need to
---
> When <span>[<a href="#RFC8221" class="cite xref">RFC8221</a>]</span> is updated, ACP implementations will need to
3494c3522
< <span>[<a href="#RFC8247" class="xref">RFC8247</a>]</span> provides a baseline recommendation for mandatory-to-implement ciphers, integrity checks, pseudorandom functions, and Diffie-Hellman mechanisms.
---
> <span>[<a href="#RFC8247" class="cite xref">RFC8247</a>]</span> provides a baseline recommendation for mandatory-to-implement ciphers, integrity checks, pseudorandom functions, and Diffie-Hellman mechanisms.
3496,3497c3524,3525
< Because IKEv2 for ACP secure channels is sufficient to be implemented in control plane software rather than in Application-Specific Integrated Circuit (ASIC) hardware, and ACP nodes supporting IKEv2 are not assumed to be code space constrained, and because existing IKEv2 implementations are expected to support <span>[<a href="#RFC8247" class="xref">RFC8247</a>]</span> recommendations, this document makes no attempt to simplify its recommendations for use with the ACP.<a href="#section-6.8.3.1.2-1" class="pilcrow">¶</a></p>
< <p id="section-6.8.3.1.2-2">See <span>[<a href="#IKEV2IANA" class="xref">IKEV2IANA</a>]</span> for IANA IKEv2 parameter names used in this text.<a href="#section-6.8.3.1.2-2" class="pilcrow">¶</a></p>
---
> Because IKEv2 for ACP secure channels is sufficient to be implemented in control plane software rather than in Application-Specific Integrated Circuit (ASIC) hardware, and ACP nodes supporting IKEv2 are not assumed to be code space constrained, and because existing IKEv2 implementations are expected to support <span>[<a href="#RFC8247" class="cite xref">RFC8247</a>]</span> recommendations, this document makes no attempt to simplify its recommendations for use with the ACP.<a href="#section-6.8.3.1.2-1" class="pilcrow">¶</a></p>
> <p id="section-6.8.3.1.2-2">See <span>[<a href="#IKEV2IANA" class="cite xref">IKEV2IANA</a>]</span> for IANA IKEv2 parameter names used in this text.<a href="#section-6.8.3.1.2-2" class="pilcrow">¶</a></p>
3499,3501c3527,3529
< ACP nodes supporting IKEv2 <span class="bcp14">MUST</span> comply with <span>[<a href="#RFC8247" class="xref">RFC8247</a>]</span> amended by the following requirements, which constitute a policy statement as permitted by <span>[<a href="#RFC8247" class="xref">RFC8247</a>]</span>.<a href="#section-6.8.3.1.2-3" class="pilcrow">¶</a></p>
< <p id="section-6.8.3.1.2-4">To signal the ACP certificate chain (including TA) as required by <a href="#common-requirements" class="xref">Section 6.8.2</a>, the "X.509 Certificate - Signature" payload in IKEv2 can be used. It is mandatory according to <span>[<a href="#RFC7296" class="xref">RFC7296</a>], <a href="https://www.rfc-editor.org/rfc/rfc7296#section-3.6" class="relref">Section 3.6</a></span>.<a href="#section-6.8.3.1.2-4" class="pilcrow">¶</a></p>
< <p id="section-6.8.3.1.2-5">ACP nodes <span class="bcp14">SHOULD</span> set up IKEv2 to only use the ACP certificate and TA when acting as an IKEv2 responder on the IPv6 link-local address and port number indicated in the "AN_ACP" DULL GRASP announcements (see <a href="#discovery-grasp" class="xref">Section 6.4</a>).<a href="#section-6.8.3.1.2-5" class="pilcrow">¶</a></p>
---
> ACP nodes supporting IKEv2 <span class="bcp14">MUST</span> comply with <span>[<a href="#RFC8247" class="cite xref">RFC8247</a>]</span> amended by the following requirements, which constitute a policy statement as permitted by <span>[<a href="#RFC8247" class="cite xref">RFC8247</a>]</span>.<a href="#section-6.8.3.1.2-3" class="pilcrow">¶</a></p>
> <p id="section-6.8.3.1.2-4">To signal the ACP certificate chain (including TA) as required by <a href="#common-requirements" class="auto internal xref">Section 6.8.2</a>, the "X.509 Certificate - Signature" payload in IKEv2 can be used. It is mandatory according to <span>[<a href="#RFC7296" class="cite xref">RFC7296</a>], <a href="https://rfc-editor.org/rfc/rfc7296#section-3.6" class="relref">Section 3.6</a></span>.<a href="#section-6.8.3.1.2-4" class="pilcrow">¶</a></p>
> <p id="section-6.8.3.1.2-5">ACP nodes <span class="bcp14">SHOULD</span> set up IKEv2 to only use the ACP certificate and TA when acting as an IKEv2 responder on the IPv6 link-local address and port number indicated in the "AN_ACP" DULL GRASP announcements (see <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>).<a href="#section-6.8.3.1.2-5" class="pilcrow">¶</a></p>
3505c3533
< the requirements and explanations in <a href="#common-requirements" class="xref">Section 6.8.2</a>. This will not result in successful mutual authentication but assists diagnostics.<a href="#section-6.8.3.1.2-6" class="pilcrow">¶</a></p>
---
> the requirements and explanations in <a href="#common-requirements" class="auto internal xref">Section 6.8.2</a>. This will not result in successful mutual authentication but assists diagnostics.<a href="#section-6.8.3.1.2-6" class="pilcrow">¶</a></p>
3508c3536
< ACP secure channel setup is symmetric (see <a href="#neighbor_verification" class="xref">Section 6.7</a>),
---
> ACP secure channel setup is symmetric (see <a href="#neighbor_verification" class="auto internal xref">Section 6.7</a>),
3514c3542
< See <a href="#certcheck" class="xref">Section 6.2.3</a> for more information about "0" or omitted ACP address fields in the acp-node-name.<a href="#section-6.8.3.1.2-8" class="pilcrow">¶</a></p>
---
> See <a href="#certcheck" class="auto internal xref">Section 6.2.3</a> for more information about "0" or omitted ACP address fields in the acp-node-name.<a href="#section-6.8.3.1.2-8" class="pilcrow">¶</a></p>
3531c3559
<      for native IPsec (see <a href="#IPsec" class="xref">Section 6.8.3.1</a>)
---
>      for native IPsec (see <a href="#IPsec" class="auto internal xref">Section 6.8.3.1</a>)
3535c3563
< <div class="artwork art-text alignLeft" id="section-6.8.3.2-3">
---
> <div class="alignLeft art-text artwork" id="section-6.8.3.2-3">
3541c3569
< <p id="section-6.8.3.2-4">If the IKEv2 initiator and responder support IPsec over GRE, it will be preferred over native IPsec because of how IKEv2 negotiates transport mode (as used by this IPsec over GRE profile) versus tunnel mode as used by native IPsec (see <span><a href="https://www.rfc-editor.org/rfc/rfc7296#section-1.3.1" class="relref">Section 1.3.1</a> of [<a href="#RFC7296" class="xref">RFC7296</a>]</span>).  The ACP IPv6 traffic has to be carried across GRE according to "<a href="#RFC7676" class="xref">IPv6 Support for Generic Routing Encapsulation (GRE)</a>" <span>[<a href="#RFC7676" class="xref">RFC7676</a>]</span>.<a href="#section-6.8.3.2-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.3.2-4">If the IKEv2 initiator and responder support IPsec over GRE, it will be preferred over native IPsec because of how IKEv2 negotiates transport mode (as used by this IPsec over GRE profile) versus tunnel mode as used by native IPsec (see <span><a href="https://rfc-editor.org/rfc/rfc7296#section-1.3.1" class="relref">Section 1.3.1</a> of [<a href="#RFC7296" class="cite xref">RFC7296</a>]</span>).  The ACP IPv6 traffic has to be carried across GRE according to "<a href="#RFC7676" class="internal xref">IPv6 Support for Generic Routing Encapsulation (GRE)</a>" <span>[<a href="#RFC7676" class="cite xref">RFC7676</a>]</span>.<a href="#section-6.8.3.2-4" class="pilcrow">¶</a></p>
3552c3580
< <p id="section-6.8.4-2">An ACP node announces its ability to support DTLS version 1.2 ("<a href="#RFC6347" class="xref">Datagram Transport Layer Security Version 1.2</a>" <span>[<a href="#RFC6347" class="xref">RFC6347</a>]</span>) compliant with the requirements defined in this document as an ACP secure channel protocol in GRASP through the "DTLS" 'objective-value' in the "AN_ACP" objective (see <a href="#discovery-grasp" class="xref">Section 6.4</a>).<a href="#section-6.8.4-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.4-2">An ACP node announces its ability to support DTLS version 1.2 ("<a href="#RFC6347" class="internal xref">Datagram Transport Layer Security Version 1.2</a>" <span>[<a href="#RFC6347" class="cite xref">RFC6347</a>]</span>) compliant with the requirements defined in this document as an ACP secure channel protocol in GRASP through the "DTLS" 'objective-value' in the "AN_ACP" objective (see <a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>).<a href="#section-6.8.4-2" class="pilcrow">¶</a></p>
3554,3557c3582,3585
< <p id="section-6.8.4-4">All ACP nodes supporting DTLS as a secure channel protocol <span class="bcp14">MUST</span> adhere to the DTLS implementation recommendations and security considerations of <span><a href="#RFC7525" class="xref">BCP 195</a> [<a href="#RFC7525" class="xref">RFC7525</a>]</span> except with respect to the DTLS version. ACP nodes supporting DTLS <span class="bcp14">MUST</span> support DTLS 1.2. They <span class="bcp14">MUST NOT</span> support older versions of DTLS.<a href="#section-6.8.4-4" class="pilcrow">¶</a></p>
< <p id="section-6.8.4-5">Unlike for IPsec, no attempts are made to simplify the requirements of the recommendations in <span><a href="#RFC7525" class="xref">BCP 195</a> [<a href="#RFC7525" class="xref">RFC7525</a>]</span> because the expectation is that DTLS would use software-only implementations where the ability to reuse widely adopted implementations is more important than the ability to minimize the complexity of a hardware-accelerated implementation, which is known to be important for IPsec.<a href="#section-6.8.4-5" class="pilcrow">¶</a></p>
< <p id="section-6.8.4-6">DTLS 1.3 <span>[<a href="#I-D.ietf-tls-dtls13" class="xref">TLS-DTLS13</a>]</span> is "backward compatible" with
< DTLS 1.2 (see <span><a href="https://tools.ietf.org/html/draft-ietf-tls-dtls13-43#section-1" class="relref">Section 1</a> of [<a href="#I-D.ietf-tls-dtls13" class="xref">TLS-DTLS13</a>]</span>).  A DTLS implementation supporting both
---
> <p id="section-6.8.4-4">All ACP nodes supporting DTLS as a secure channel protocol <span class="bcp14">MUST</span> adhere to the DTLS implementation recommendations and security considerations of <span><a href="#RFC7525" class="internal xref">BCP 195</a> [<a href="#RFC7525" class="cite xref">RFC7525</a>]</span> except with respect to the DTLS version. ACP nodes supporting DTLS <span class="bcp14">MUST</span> support DTLS 1.2. They <span class="bcp14">MUST NOT</span> support older versions of DTLS.<a href="#section-6.8.4-4" class="pilcrow">¶</a></p>
> <p id="section-6.8.4-5">Unlike for IPsec, no attempts are made to simplify the requirements of the recommendations in <span><a href="#RFC7525" class="internal xref">BCP 195</a> [<a href="#RFC7525" class="cite xref">RFC7525</a>]</span> because the expectation is that DTLS would use software-only implementations where the ability to reuse widely adopted implementations is more important than the ability to minimize the complexity of a hardware-accelerated implementation, which is known to be important for IPsec.<a href="#section-6.8.4-5" class="pilcrow">¶</a></p>
> <p id="section-6.8.4-6">DTLS 1.3 <span>[<a href="#I-D.ietf-tls-dtls13" class="cite xref">TLS-DTLS13</a>]</span> is "backward compatible" with
> DTLS 1.2 (see <span><a href="https://tools.ietf.org/html/draft-ietf-tls-dtls13-43#section-1" class="relref">Section 1</a> of [<a href="#I-D.ietf-tls-dtls13" class="cite xref">TLS-DTLS13</a>]</span>).  A DTLS implementation supporting both
3569c3597
<             <li class="normal" id="section-6.8.4-8.4">The existing BCP <span>[<a href="#RFC7525" class="xref">RFC7525</a>]</span> for DTLS 1.2 may take an equally longer time to be updated with experience from a newer DTLS version.<a href="#section-6.8.4-8.4" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.8.4-8.4">The existing BCP <span>[<a href="#RFC7525" class="cite xref">RFC7525</a>]</span> for DTLS 1.2 may take an equally longer time to be updated with experience from a newer DTLS version.<a href="#section-6.8.4-8.4" class="pilcrow">¶</a>
3586c3614
< <p id="section-6.8.5-1">As explained in the beginning of <a href="#channel-selection" class="xref">Section 6.6</a>, there is no single secure channel mechanism mandated for all ACP nodes. Instead, this section defines two ACP profiles, "baseline" and "constrained", for ACP nodes that do introduce such requirements.<a href="#section-6.8.5-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.5-1">As explained in the beginning of <a href="#channel-selection" class="auto internal xref">Section 6.6</a>, there is no single secure channel mechanism mandated for all ACP nodes. Instead, this section defines two ACP profiles, "baseline" and "constrained", for ACP nodes that do introduce such requirements.<a href="#section-6.8.5-1" class="pilcrow">¶</a></p>
3608c3636
< <p id="section-6.9.1-2">ACP provides IP unicast routing via RPL (see <a href="#routing" class="xref">Section 6.12</a>).<a href="#section-6.9.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.1-2">ACP provides IP unicast routing via RPL (see <a href="#routing" class="auto internal xref">Section 6.12</a>).<a href="#section-6.9.1-2" class="pilcrow">¶</a></p>
3610c3638
<         (the handling of GRASP link-local multicast messages is explained in <a href="#GRASP-substrate" class="xref">Section 6.9.2</a>).
---
>         (the handling of GRASP link-local multicast messages is explained in <a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a>).
3615c3643
< <p id="section-6.9.1-4">See <a href="#acp-grasp" class="xref">Appendix A.5</a> for discussion about this design choice
---
> <p id="section-6.9.1-4">See <a href="#acp-grasp" class="auto internal xref">Appendix A.5</a> for discussion about this design choice
3624c3652
< <p id="section-6.9.2-1">In the terminology of GRASP <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>, the ACP is the
---
> <p id="section-6.9.2-1">In the terminology of GRASP <span>[<a href="#RFC8990" class="cite xref">RFC8990</a>]</span>, the ACP is the
3638c3666
<         in <a href="#acp-grasp-picture" class="xref">Figure 8</a>.<a href="#section-6.9.2-4" class="pilcrow">¶</a></p>
---
>         in <a href="#acp-grasp-picture" class="auto internal xref">Figure 8</a>.<a href="#section-6.9.2-4" class="pilcrow">¶</a></p>
3641c3669
<         are transported via TLS. See <a href="#tls" class="xref">Section 6.1</a> for TLS requirements.
---
>         are transported via TLS. See <a href="#tls" class="auto internal xref">Section 6.1</a> for TLS requirements.
3643c3671
<         defined in <a href="#certcheck" class="xref">Section 6.2.3</a>.<a href="#section-6.9.2-5" class="pilcrow">¶</a></p>
---
>         defined in <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>.<a href="#section-6.9.2-5" class="pilcrow">¶</a></p>
3645c3673
<         (as defined <a href="#ACP_interfaces" class="xref">Section 6.13.5</a>), but they are sent by the ACP to 
---
>         (as defined <a href="#ACP_interfaces" class="auto internal xref">Section 6.13.5</a>), but they are sent by the ACP to 
3657c3685
<             <div class="artwork art-text alignLeft" id="section-6.9.2-8.1">
---
>             <div class="alignLeft art-text artwork" id="section-6.9.2-8.1">
3777,3778c3805,3806
< <p id="section-6.11-1">The channels explained above typically only establish communication between two adjacent nodes.  In order for communication to happen across multiple hops, the Autonomic Control Plane requires ACP network-wide valid addresses and routing.  Each ACP node creates a loopback interface with an ACP network-wide unique address (prefix) inside the ACP context (as explained in <a href="#separation" class="xref">Section 6.10</a>).  This address may be used also in other virtual contexts.<a href="#section-6.11-1" class="pilcrow">¶</a></p>
< <p id="section-6.11-2">With the algorithm introduced here, all ACP nodes in the same routing subdomain have the same /48 ULA prefix.  Conversely, ULA Global IDs from different domains are unlikely to clash, such that two ACP networks can be merged, as long as the policy allows that merge.  See also <a href="#self-healing" class="xref">Section 10.1</a> for a discussion on merging domains.<a href="#section-6.11-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.11-1">The channels explained above typically only establish communication between two adjacent nodes.  In order for communication to happen across multiple hops, the Autonomic Control Plane requires ACP network-wide valid addresses and routing.  Each ACP node creates a loopback interface with an ACP network-wide unique address (prefix) inside the ACP context (as explained in <a href="#separation" class="auto internal xref">Section 6.10</a>).  This address may be used also in other virtual contexts.<a href="#section-6.11-1" class="pilcrow">¶</a></p>
> <p id="section-6.11-2">With the algorithm introduced here, all ACP nodes in the same routing subdomain have the same /48 ULA prefix.  Conversely, ULA Global IDs from different domains are unlikely to clash, such that two ACP networks can be merged, as long as the policy allows that merge.  See also <a href="#self-healing" class="auto internal xref">Section 10.1</a> for a discussion on merging domains.<a href="#section-6.11-2" class="pilcrow">¶</a></p>
3790c3818
<             <li class="normal" id="section-6.11.1-1.3">Loopback only: only ACP loopback interfaces (and potentially those configured for ACP connect, see <a href="#ACPconnect" class="xref">Section 8.1</a>) carry routable address(es); all other interfaces (called ACP virtual interfaces) only use IPv6 link-local addresses.  The usage of IPv6 link-local addressing is discussed in "<a href="#RFC7404" class="xref">Using Only Link-Local Addressing inside an IPv6 Network</a>" <span>[<a href="#RFC7404" class="xref">RFC7404</a>]</span>.<a href="#section-6.11.1-1.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.11.1-1.3">Loopback only: only ACP loopback interfaces (and potentially those configured for ACP connect, see <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>) carry routable address(es); all other interfaces (called ACP virtual interfaces) only use IPv6 link-local addresses.  The usage of IPv6 link-local addressing is discussed in "<a href="#RFC7404" class="internal xref">Using Only Link-Local Addressing inside an IPv6 Network</a>" <span>[<a href="#RFC7404" class="cite xref">RFC7404</a>]</span>.<a href="#section-6.11.1-1.3" class="pilcrow">¶</a>
3793c3821
<     the L bit set to 1 (as defined in <span><a href="https://www.rfc-editor.org/rfc/rfc4193#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC4193" class="xref">RFC4193</a>]</span>). Note that the random hash for ACP loopback addresses uses the definition in <a href="#scheme" class="xref">Section 6.11.2</a> and not the one in <span>[<a href="#RFC4193" class="xref">RFC4193</a>], <a href="https://www.rfc-editor.org/rfc/rfc4193#section-3.2.2" class="relref">Section 3.2.2</a></span>.<a href="#section-6.11.1-1.4" class="pilcrow">¶</a>
---
>     the L bit set to 1 (as defined in <span><a href="https://rfc-editor.org/rfc/rfc4193#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC4193" class="cite xref">RFC4193</a>]</span>). Note that the random hash for ACP loopback addresses uses the definition in <a href="#scheme" class="auto internal xref">Section 6.11.2</a> and not the one in <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>], <a href="https://rfc-editor.org/rfc/rfc4193#section-3.2.2" class="relref">Section 3.2.2</a></span>.<a href="#section-6.11.1-1.4" class="pilcrow">¶</a>
3797c3825
<             <li class="normal" id="section-6.11.1-1.6">Addresses in the ACP are permanent and do not support temporary addresses as defined in "<a href="#RFC8981" class="xref">Temporary Address Extensions for Stateless Address Autoconfiguration in IPv6</a>" <span>[<a href="#RFC8981" class="xref">RFC8981</a>]</span>.<a href="#section-6.11.1-1.6" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.11.1-1.6">Addresses in the ACP are permanent and do not support temporary addresses as defined in "<a href="#RFC8981" class="internal xref">Temporary Address Extensions for Stateless Address Autoconfiguration in IPv6</a>" <span>[<a href="#RFC8981" class="cite xref">RFC8981</a>]</span>.<a href="#section-6.11.1-1.6" class="pilcrow">¶</a>
3799c3827
<             <li class="normal" id="section-6.11.1-1.7">Addresses in the ACP are not considered sensitive on privacy grounds because ACP nodes are not expected to be end-user hosts, and therefore ACP addresses do not represent end users or groups of end users.  All ACP nodes are in one (potentially federated) administrative domain. For ACP traffic, the nodes are assumed to be either candidate hosts or transit nodes.  There are no transit nodes with fewer privileges to know the identity of other hosts in the ACP.  Therefore, ACP addresses do not need to be pseudorandom as discussed in "<a href="#RFC7721" class="xref">Security and Privacy Considerations for IPv6 Address Generation Mechanisms</a>" <span>[<a href="#RFC7721" class="xref">RFC7721</a>]</span>.  Because they are not propagated to untrusted (non-ACP) nodes and stay within a domain (of trust), we also do not consider them to be subject to scanning attacks.<a href="#section-6.11.1-1.7" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.11.1-1.7">Addresses in the ACP are not considered sensitive on privacy grounds because ACP nodes are not expected to be end-user hosts, and therefore ACP addresses do not represent end users or groups of end users.  All ACP nodes are in one (potentially federated) administrative domain. For ACP traffic, the nodes are assumed to be either candidate hosts or transit nodes.  There are no transit nodes with fewer privileges to know the identity of other hosts in the ACP.  Therefore, ACP addresses do not need to be pseudorandom as discussed in "<a href="#RFC7721" class="internal xref">Security and Privacy Considerations for IPv6 Address Generation Mechanisms</a>" <span>[<a href="#RFC7721" class="cite xref">RFC7721</a>]</span>.  Because they are not propagated to untrusted (non-ACP) nodes and stay within a domain (of trust), we also do not consider them to be subject to scanning attacks.<a href="#section-6.11.1-1.7" class="pilcrow">¶</a>
3808c3836
<             <li class="normal" id="section-6.11.1-3.3">OAM protocols do not require IPv4: the ACP may carry OAM protocols.  All relevant protocols (SNMP, TFTP, SSH, SCP, RADIUS, Diameter, NETCONF, etc.) are available in IPv6. See also <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span> for how ACP could be made to interoperate with IPv4-only OAM.<a href="#section-6.11.1-3.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.11.1-3.3">OAM protocols do not require IPv4: the ACP may carry OAM protocols.  All relevant protocols (SNMP, TFTP, SSH, SCP, RADIUS, Diameter, NETCONF, etc.) are available in IPv6. See also <span>[<a href="#RFC8368" class="cite xref">RFC8368</a>]</span> for how ACP could be made to interoperate with IPv4-only OAM.<a href="#section-6.11.1-3.3" class="pilcrow">¶</a>
3811c3839
< <p id="section-6.11.1-4">Further explanation about the addressing and routing-related reasons for the choice of the autonomous ACP addressing can be found in <a href="#ACP-loopback" class="xref">Section 6.13.5.1</a>.<a href="#section-6.11.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.11.1-4">Further explanation about the addressing and routing-related reasons for the choice of the autonomous ACP addressing can be found in <a href="#ACP-loopback" class="auto internal xref">Section 6.13.5.1</a>.<a href="#section-6.11.1-4" class="pilcrow">¶</a></p>
3822c3850
<             <div class="artwork art-text alignLeft" id="section-6.11.2-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-6.11.2-2.1">
3834c3862
< <p id="section-6.11.2-3">The first 48 bits follow the ULA scheme as defined in <span>[<a href="#RFC4193" class="xref">RFC4193</a>]</span>, to which a Type field is added.<a href="#section-6.11.2-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.11.2-3">The first 48 bits follow the ULA scheme as defined in <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>]</span>, to which a Type field is added.<a href="#section-6.11.2-3" class="pilcrow">¶</a></p>
3842c3870
<               <p id="section-6.11.2-4.4.1">The 40-bit ULA Global ID (a term from <span>[<a href="#RFC4193" class="xref">RFC4193</a>]</span>) for ACP addresses carried in the acp-node-name in the ACP certificates are the first 40 bits of the SHA-256 hash of the routing-subdomain from the same acp-node-name.  In the example of <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>, the routing-subdomain is "area51.research.acp.example.com", and the 40-bit ULA Global ID is 89b714f3db.<a href="#section-6.11.2-4.4.1" class="pilcrow">¶</a></p>
---
>               <p id="section-6.11.2-4.4.1">The 40-bit ULA Global ID (a term from <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>]</span>) for ACP addresses carried in the acp-node-name in the ACP certificates are the first 40 bits of the SHA-256 hash of the routing-subdomain from the same acp-node-name.  In the example of <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>, the routing-subdomain is "area51.research.acp.example.com", and the 40-bit ULA Global ID is 89b714f3db.<a href="#section-6.11.2-4.4.1" class="pilcrow">¶</a></p>
3858c3886
< <p id="section-6.11.2-5">Please refer to <a href="#acp-registrars" class="xref">Section 6.11.7</a> and <a href="#address-spaces" class="xref">Appendix A.1</a> for further explanations for why the following addressing sub-schemes are used and why multiple are necessary.<a href="#section-6.11.2-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.11.2-5">Please refer to <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a> and <a href="#address-spaces" class="auto internal xref">Appendix A.1</a> for further explanations for why the following addressing sub-schemes are used and why multiple are necessary.<a href="#section-6.11.2-5" class="pilcrow">¶</a></p>
3921c3949
< <p id="section-6.11.2-8">The F-bit (format bit, <a href="#Vlong" class="xref">Section 6.11.5</a>) and Z (<a href="#manual-scheme" class="xref">Section 6.11.4</a>) are two encoding fields that are explained in the sections covering 
---
> <p id="section-6.11.2-8">The F-bit (format bit, <a href="#Vlong" class="auto internal xref">Section 6.11.5</a>) and Z (<a href="#manual-scheme" class="auto internal xref">Section 6.11.4</a>) are two encoding fields that are explained in the sections covering 
3936c3964
<             <div class="artwork art-text alignLeft" id="section-6.11.3-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-6.11.3-2.1">
3974c4002
<                 <dd style="margin-left: 1.5em" id="section-6.11.3-4.8.3.2">A number unique inside the domain identifying the ACP registrar that assigned the Node-ID to the node.  One or more domain-wide unique identifiers of the ACP registrar can be used for this purpose. See <a href="#registrars-unique" class="xref">Section 6.11.7.2</a>.<a href="#section-6.11.3-4.8.3.2" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-6.11.3-4.8.3.2">A number unique inside the domain identifying the ACP registrar that assigned the Node-ID to the node.  One or more domain-wide unique identifiers of the ACP registrar can be used for this purpose. See <a href="#registrars-unique" class="auto internal xref">Section 6.11.7.2</a>.<a href="#section-6.11.3-4.8.3.2" class="pilcrow">¶</a>
4008,4009c4036,4037
<                 of the ACP as described in <a href="#incremental-adoption" class="xref">Section 9.4</a>.<a href="#section-6.11.3-9" class="pilcrow">¶</a></p>
< <p id="section-6.11.3-10">Note: Zones and Zone-ID as defined here are not related to zones or zone_id defined in "<a href="#RFC4007" class="xref">IPv6 Scoped Address Architecture</a>" <span>[<a href="#RFC4007" class="xref">RFC4007</a>]</span>. ACP zone addresses are not scoped (i.e., reachable only from within a zone as defined by <span>[<a href="#RFC4007" class="xref">RFC4007</a>]</span>) but are reachable across the whole ACP. A zone_id is a zone index that has only local significance on a node <span>[<a href="#RFC4007" class="xref">RFC4007</a>]</span>, whereas an ACP Zone-ID is an identifier for an ACP zone that is unique across that ACP.<a href="#section-6.11.3-10" class="pilcrow">¶</a></p>
---
>                 of the ACP as described in <a href="#incremental-adoption" class="auto internal xref">Section 9.4</a>.<a href="#section-6.11.3-9" class="pilcrow">¶</a></p>
> <p id="section-6.11.3-10">Note: Zones and Zone-ID as defined here are not related to zones or zone_id defined in "<a href="#RFC4007" class="internal xref">IPv6 Scoped Address Architecture</a>" <span>[<a href="#RFC4007" class="cite xref">RFC4007</a>]</span>. ACP zone addresses are not scoped (i.e., reachable only from within a zone as defined by <span>[<a href="#RFC4007" class="cite xref">RFC4007</a>]</span>) but are reachable across the whole ACP. A zone_id is a zone index that has only local significance on a node <span>[<a href="#RFC4007" class="cite xref">RFC4007</a>]</span>, whereas an ACP Zone-ID is an identifier for an ACP zone that is unique across that ACP.<a href="#section-6.11.3-10" class="pilcrow">¶</a></p>
4020c4048
<             <div class="artwork art-text alignLeft" id="section-6.11.4-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-6.11.4-2.1">
4052c4080
<             <dd style="margin-left: 1.5em" id="section-6.11.4-4.8">Interface identifier according to <span>[<a href="#RFC4291" class="xref">RFC4291</a>]</span>.<a href="#section-6.11.4-4.8" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-6.11.4-4.8">Interface identifier according to <span>[<a href="#RFC4291" class="cite xref">RFC4291</a>]</span>.<a href="#section-6.11.4-4.8" class="pilcrow">¶</a>
4056c4084
< <p id="section-6.11.4-5">This sub-scheme is meant for the "manual" allocation to subnets where the other addressing schemes cannot be used.  The primary use case is for assignment to ACP connect subnets (see <a href="#NMS" class="xref">Section 8.1.1</a>).<a href="#section-6.11.4-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.11.4-5">This sub-scheme is meant for the "manual" allocation to subnets where the other addressing schemes cannot be used.  The primary use case is for assignment to ACP connect subnets (see <a href="#NMS" class="auto internal xref">Section 8.1.1</a>).<a href="#section-6.11.4-5" class="pilcrow">¶</a></p>
4058,4060c4086,4088
< <p id="section-6.11.4-7">The Z bit field was added to distinguish between the Zone Addressing Sub-Scheme and the Manual Addressing Sub-Scheme without requiring one more bit in the base scheme and therefore allowing for the Vlong Addressing Sub-Scheme (described in <a href="#Vlong" class="xref">Section 6.11.5</a>) to have one more bit available.<a href="#section-6.11.4-7" class="pilcrow">¶</a></p>
< <p id="section-6.11.4-8">The Manual Addressing Sub-Scheme addresses <span class="bcp14">SHOULD NOT</span> be used in ACP certificates. Any node capable of building ACP secure channels and is permitted by registrar policy to participate in building ACP secure channels <span class="bcp14">SHOULD</span> receive an ACP address (prefix) from one of the other ACP addressing sub-schemes.  A node that cannot or is not permitted to participate in ACP secure channels can connect to the ACP via ACP connect interfaces of ACP edge nodes (see <a href="#ACPconnect" class="xref">Section 8.1</a>) without setting up an ACP secure channel. Its ACP certificate <span class="bcp14">MUST</span> omit the acp-address field to indicate that its ACP certificate is only usable for non-ACP secure channel authentication, such as end-to-end transport connections across the ACP or data plane.<a href="#section-6.11.4-8" class="pilcrow">¶</a></p>
< <p id="section-6.11.4-9">Address management of ACP connect subnets is done using traditional assignment methods and existing IPv6 protocols. See <a href="#ACautoconfig" class="xref">Section 8.1.3</a> for details. Therefore, the notion of /V-bits multiple addresses assigned to the ACP nodes does not apply to this sub-scheme.<a href="#section-6.11.4-9" class="pilcrow">¶</a></p>
---
> <p id="section-6.11.4-7">The Z bit field was added to distinguish between the Zone Addressing Sub-Scheme and the Manual Addressing Sub-Scheme without requiring one more bit in the base scheme and therefore allowing for the Vlong Addressing Sub-Scheme (described in <a href="#Vlong" class="auto internal xref">Section 6.11.5</a>) to have one more bit available.<a href="#section-6.11.4-7" class="pilcrow">¶</a></p>
> <p id="section-6.11.4-8">The Manual Addressing Sub-Scheme addresses <span class="bcp14">SHOULD NOT</span> be used in ACP certificates. Any node capable of building ACP secure channels and is permitted by registrar policy to participate in building ACP secure channels <span class="bcp14">SHOULD</span> receive an ACP address (prefix) from one of the other ACP addressing sub-schemes.  A node that cannot or is not permitted to participate in ACP secure channels can connect to the ACP via ACP connect interfaces of ACP edge nodes (see <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>) without setting up an ACP secure channel. Its ACP certificate <span class="bcp14">MUST</span> omit the acp-address field to indicate that its ACP certificate is only usable for non-ACP secure channel authentication, such as end-to-end transport connections across the ACP or data plane.<a href="#section-6.11.4-8" class="pilcrow">¶</a></p>
> <p id="section-6.11.4-9">Address management of ACP connect subnets is done using traditional assignment methods and existing IPv6 protocols. See <a href="#ACautoconfig" class="auto internal xref">Section 8.1.3</a> for details. Therefore, the notion of /V-bits multiple addresses assigned to the ACP nodes does not apply to this sub-scheme.<a href="#section-6.11.4-9" class="pilcrow">¶</a></p>
4071c4099
<             <div class="artwork art-text alignLeft" id="section-6.11.5-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-6.11.5-2.1">
4087c4115
<                   This addressing sub-scheme foregoes the Zone-ID field (<a href="#zone-scheme" class="xref">Section 6.11.3</a>) to allow
---
>                   This addressing sub-scheme foregoes the Zone-ID field (<a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>) to allow
4094c4122
<                 The fields are the same as in the Zone Addressing Sub-Scheme (<a href="#zone-scheme" class="xref">Section 6.11.3</a>) with the
---
>                 The fields are the same as in the Zone Addressing Sub-Scheme (<a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>) with the
4108c4136
<                     node.  In the ACP certificate's ACP address (<a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>), the V-bits are always
---
>                     node.  In the ACP certificate's ACP address (<a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>), the V-bits are always
4115c4143
<                     Registrar-ID is reduced to 46 bits. One or more domain-wide unique identifiers of the ACP registrar can be used for this purpose. See <a href="#registrars-unique" class="xref">Section 6.11.7.2</a>.<a href="#section-6.11.5-5.6" class="pilcrow">¶</a>
---
>                     Registrar-ID is reduced to 46 bits. One or more domain-wide unique identifiers of the ACP registrar can be used for this purpose. See <a href="#registrars-unique" class="auto internal xref">Section 6.11.7.2</a>.<a href="#section-6.11.5-5.6" class="pilcrow">¶</a>
4136c4164
<                   ACP nodes that are ACP edge nodes (see <a href="#NMS" class="xref">Section 8.1.1</a>)
---
>                   ACP nodes that are ACP edge nodes (see <a href="#NMS" class="auto internal xref">Section 8.1.1</a>)
4139c4167
<                   container modular software architecture (see <a href="#software" class="xref">Section 8.1.2</a>).<a href="#section-6.11.5-7" class="pilcrow">¶</a></p>
---
>                   container modular software architecture (see <a href="#software" class="auto internal xref">Section 8.1.2</a>).<a href="#section-6.11.5-7" class="pilcrow">¶</a></p>
4188c4216
< by other domain members to perform the ACP domain membership check described in <a href="#certcheck" class="xref">Section 6.2.3</a>,
---
> by other domain members to perform the ACP domain membership check described in <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>,
4198c4226
< <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span>. When BRSKI
---
> <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span>. When BRSKI
4234c4262
< gets an acp-node-name field (<a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>)
---
> gets an acp-node-name field (<a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>)
4238c4266
< (see <span>[<a href="#RFC8995" class="xref">RFC8995</a>], <a href="https://www.rfc-editor.org/rfc/rfc8995#section-5.9.2" class="relref">Section 5.9.2</a></span>, "EST CSR Attributes").<a href="#section-6.11.7.2-4" class="pilcrow">¶</a></p>
---
> (see <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>], <a href="https://rfc-editor.org/rfc/rfc8995#section-5.9.2" class="relref">Section 5.9.2</a></span>, "EST CSR Attributes").<a href="#section-6.11.7.2-4" class="pilcrow">¶</a></p>
4248,4249c4276,4277
< either a Zone Addressing Sub-Scheme prefix (see <a href="#zone-scheme" class="xref">Section 6.11.3</a>),
< or a Vlong Addressing Sub-Scheme prefix (see <a href="#Vlong" class="xref">Section 6.11.5</a>). The
---
> either a Zone Addressing Sub-Scheme prefix (see <a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>),
> or a Vlong Addressing Sub-Scheme prefix (see <a href="#Vlong" class="auto internal xref">Section 6.11.5</a>). The
4258c4286
< the ACP routing protocol (see <a href="#routing" class="xref">Section 6.12</a>) to establish
---
> the ACP routing protocol (see <a href="#routing" class="auto internal xref">Section 6.12</a>) to establish
4272c4300
< ACP nodes based on the "serialNumber" attribute <span>[<a href="#X.520" class="xref">X.520</a>]</span> in the 
---
> ACP nodes based on the "serialNumber" attribute <span>[<a href="#X.520" class="cite xref">X.520</a>]</span> in the 
4305c4333
< See <a href="#sub-ca" class="xref">Section 9.2.4</a> for an example.<a href="#section-6.11.7.4-2" class="pilcrow">¶</a></p>
---
> See <a href="#sub-ca" class="auto internal xref">Section 9.2.4</a> for an example.<a href="#section-6.11.7.4-2" class="pilcrow">¶</a></p>
4307,4308c4335,4336
< certificate expires or fails. See <a href="#domcert-re-enroll" class="xref">Section 6.2.5.5</a>
< and <a href="#domcert-failing" class="xref">Section 6.2.5.6</a>.<a href="#section-6.11.7.4-3" class="pilcrow">¶</a></p>
---
> certificate expires or fails. See <a href="#domcert-re-enroll" class="auto internal xref">Section 6.2.5.5</a>
> and <a href="#domcert-failing" class="auto internal xref">Section 6.2.5.6</a>.<a href="#section-6.11.7.4-3" class="pilcrow">¶</a></p>
4316c4344
< <p id="section-6.11.7.5-1"><a href="#registrar-considerations" class="xref">Section 9.2</a> discusses further informative
---
> <p id="section-6.11.7.5-1"><a href="#registrar-considerations" class="auto internal xref">Section 9.2</a> discusses further informative
4334,4335c4362,4363
< <p id="section-6.12-4">The routing protocol inside the ACP is RPL <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>.  See <a href="#why-rpl" class="xref">Appendix A.4</a> for more details on the choice of RPL.<a href="#section-6.12-4" class="pilcrow">¶</a></p>
< <p id="section-6.12-5">RPL adjacencies are set up across all ACP channels in the same domain including all its routing subdomains.  See <a href="#domain-usage" class="xref">Appendix A.6</a> for more details.<a href="#section-6.12-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.12-4">The routing protocol inside the ACP is RPL <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.  See <a href="#why-rpl" class="auto internal xref">Appendix A.4</a> for more details on the choice of RPL.<a href="#section-6.12-4" class="pilcrow">¶</a></p>
> <p id="section-6.12-5">RPL adjacencies are set up across all ACP channels in the same domain including all its routing subdomains.  See <a href="#domain-usage" class="auto internal xref">Appendix A.6</a> for more details.<a href="#section-6.12-5" class="pilcrow">¶</a></p>
4341c4369
< <p id="section-6.12.1-1">The following is a description of the RPL profile that ACP nodes need to support by default.  The format of this section is derived from <span>[<a href="#I-D.ietf-roll-applicability-template" class="xref">ROLL-APPLICABILITY</a>]</span>.<a href="#section-6.12.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.12.1-1">The following is a description of the RPL profile that ACP nodes need to support by default.  The format of this section is derived from <span>[<a href="#I-D.ietf-roll-applicability-template" class="cite xref">ROLL-APPLICABILITY</a>]</span>.<a href="#section-6.12.1-1" class="pilcrow">¶</a></p>
4347c4375
< <p id="section-6.12.1.1-1">RPL Packet Information (RPI), defined in <span>[<a href="#RFC6550" class="xref">RFC6550</a>], <a href="https://www.rfc-editor.org/rfc/rfc6550#section-11.2" class="relref">Section 11.2</a></span>, defines the
---
> <p id="section-6.12.1.1-1">RPL Packet Information (RPI), defined in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>], <a href="https://rfc-editor.org/rfc/rfc6550#section-11.2" class="relref">Section 11.2</a></span>, defines the
4372c4400
<       See <a href="#future-rpl" class="xref">Appendix A.9.4</a> for more details.<a href="#section-6.12.1.1.1-2" class="pilcrow">¶</a></p>
---
>       See <a href="#future-rpl" class="auto internal xref">Appendix A.9.4</a> for more details.<a href="#section-6.12.1.1.1-2" class="pilcrow">¶</a></p>
4390c4418
<       In RPL profiles where RPI (see <a href="#rpl-Data-Plane" class="xref">Section 6.12.1.13</a>) is present,
---
>       In RPL profiles where RPI (see <a href="#rpl-Data-Plane" class="auto internal xref">Section 6.12.1.13</a>) is present,
4397c4425
<       as described in <a href="#rpl-dodag-repair" class="xref">Section 6.12.1.7</a>.  Since links in the ACP
---
>       as described in <a href="#rpl-dodag-repair" class="auto internal xref">Section 6.12.1.7</a>.  Since links in the ACP
4399c4427
<       and because there is no stretch according to <a href="#rpl-dodag-repair" class="xref">Section 6.12.1.7</a>, 
---
>       and because there is no stretch according to <a href="#rpl-dodag-repair" class="auto internal xref">Section 6.12.1.7</a>, 
4405c4433
<       when losing the last parent. The technique in <span>[<a href="#RFC6550" class="xref">RFC6550</a>], <a href="https://www.rfc-editor.org/rfc/rfc6550#section-8.2.2.6" class="relref">Section 8.2.2.6</a></span> (Detaching) <span class="bcp14">SHOULD</span> be favored over that in Section <a href="https://www.rfc-editor.org/rfc/rfc6550#section-8.2.2.5" class="relref">8.2.2.5</a>
---
>       when losing the last parent. The technique in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>], <a href="https://rfc-editor.org/rfc/rfc6550#section-8.2.2.6" class="relref">Section 8.2.2.6</a></span> (Detaching) <span class="bcp14">SHOULD</span> be favored over that in Section <a href="https://rfc-editor.org/rfc/rfc6550#section-8.2.2.5" class="relref">8.2.2.5</a>
4457c4485
< <p id="section-6.12.1.5-1">Use Hop Count according to "<a href="#RFC6551" class="xref">Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks</a>" <span>[<a href="#RFC6551" class="xref">RFC6551</a>]</span>. Note that this is
---
> <p id="section-6.12.1.5-1">Use Hop Count according to "<a href="#RFC6551" class="internal xref">Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks</a>" <span>[<a href="#RFC6551" class="cite xref">RFC6551</a>]</span>. Note that this is
4468c4496
<               <dd style="margin-left: 1.5em" id="section-6.12.1.6-1.2">Use Objective Function Zero (OF0) ("<a href="#RFC6552" class="xref">Objective Function Zero for the Routing Protocol for Low-Power and Lossy Networks (RPL)</a>" <span>[<a href="#RFC6552" class="xref">RFC6552</a>]</span>).
---
>               <dd style="margin-left: 1.5em" id="section-6.12.1.6-1.2">Use Objective Function Zero (OF0) ("<a href="#RFC6552" class="internal xref">Objective Function Zero for the Routing Protocol for Low-Power and Lossy Networks (RPL)</a>" <span>[<a href="#RFC6552" class="cite xref">RFC6552</a>]</span>).
4507c4535
<                triggered directly by peer breakage, see <a href="#ACP-ma-virtual-interfaces" class="xref">Section 6.13.5.2.2</a>.<a href="#section-6.12.1.7-1.4.2" class="pilcrow">¶</a></p>
---
>                triggered directly by peer breakage, see <a href="#ACP-ma-virtual-interfaces" class="auto internal xref">Section 6.13.5.2.2</a>.<a href="#section-6.12.1.7-1.4.2" class="pilcrow">¶</a></p>
4538c4566
< <p id="section-6.12.1.9-1">RPL security <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> is not used, and ACP security is substituted.<a href="#section-6.12.1.9-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.12.1.9-1">RPL security <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> is not used, and ACP security is substituted.<a href="#section-6.12.1.9-1" class="pilcrow">¶</a></p>
4557,4559c4585,4587
< <p id="section-6.12.1.11-1">Every ACP node (RPL node) announces an IPv6 prefix covering the addresses assigned to the ACP node via the AcpNodeName.  The prefix length depends on the addressing sub-scheme of the acp-address, /127 for the Zone Addressing Sub-Scheme and /112 or /120 for the Vlong Addressing Sub-Scheme.  See <a href="#addressing" class="xref">Section 6.11</a> for more details.<a href="#section-6.12.1.11-1" class="pilcrow">¶</a></p>
< <p id="section-6.12.1.11-2">Every ACP node <span class="bcp14">MUST</span> install a black hole route (also known as a null route) if there are unused parts of the ACP address space assigned to the ACP node via its AcpNodeName. This is superseded by longer prefixes assigned to interfaces for the address space actually used by the node.  For example, when the node has an ACP-Vlong-8 address space, it installs a /120 black hole route. If it then only uses the ACP address (first address from the space), for example, it would assign that address via a /128 address prefix to the ACP loopback interface (see <a href="#ACP-loopback" class="xref">Section 6.13.5.1</a>). None of those longer prefixes are announced into RPL.<a href="#section-6.12.1.11-2" class="pilcrow">¶</a></p>
< <p id="section-6.12.1.11-3">For ACP-Manual address prefixes configured on an ACP node, for example, for ACP connect subnets (see <a href="#NMS" class="xref">Section 8.1.1</a>), the node announces the /64 subnet prefix.<a href="#section-6.12.1.11-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.12.1.11-1">Every ACP node (RPL node) announces an IPv6 prefix covering the addresses assigned to the ACP node via the AcpNodeName.  The prefix length depends on the addressing sub-scheme of the acp-address, /127 for the Zone Addressing Sub-Scheme and /112 or /120 for the Vlong Addressing Sub-Scheme.  See <a href="#addressing" class="auto internal xref">Section 6.11</a> for more details.<a href="#section-6.12.1.11-1" class="pilcrow">¶</a></p>
> <p id="section-6.12.1.11-2">Every ACP node <span class="bcp14">MUST</span> install a black hole route (also known as a null route) if there are unused parts of the ACP address space assigned to the ACP node via its AcpNodeName. This is superseded by longer prefixes assigned to interfaces for the address space actually used by the node.  For example, when the node has an ACP-Vlong-8 address space, it installs a /120 black hole route. If it then only uses the ACP address (first address from the space), for example, it would assign that address via a /128 address prefix to the ACP loopback interface (see <a href="#ACP-loopback" class="auto internal xref">Section 6.13.5.1</a>). None of those longer prefixes are announced into RPL.<a href="#section-6.12.1.11-2" class="pilcrow">¶</a></p>
> <p id="section-6.12.1.11-3">For ACP-Manual address prefixes configured on an ACP node, for example, for ACP connect subnets (see <a href="#NMS" class="auto internal xref">Section 8.1.1</a>), the node announces the /64 subnet prefix.<a href="#section-6.12.1.11-3" class="pilcrow">¶</a></p>
4568c4596
<               <dt id="section-6.12.1.12-1.1">Administrative Preference (<span>[<a href="#RFC6550" class="xref">RFC6550</a>], <a href="https://www.rfc-editor.org/rfc/rfc6550#section-3.2.6" class="relref">Section 3.2.6</a></span> --to become root):</dt>
---
>               <dt id="section-6.12.1.12-1.1">Administrative Preference (<span>[<a href="#RFC6550" class="cite xref">RFC6550</a>], <a href="https://rfc-editor.org/rfc/rfc6550#section-3.2.6" class="relref">Section 3.2.6</a></span> --to become root):</dt>
4600c4628
< <p id="section-6.12.1.13-2">One RPI option is the RPL Source Routing Header (SRH) ("<a href="#RFC6554" class="xref">An IPv6 Routing Header for Source Routes with the Routing Protocol for Low-Power and Lossy Networks (RPL)</a>" <span>[<a href="#RFC6554" class="xref">RFC6554</a>]</span>), which is not 
---
> <p id="section-6.12.1.13-2">One RPI option is the RPL Source Routing Header (SRH) ("<a href="#RFC6554" class="internal xref">An IPv6 Routing Header for Source Routes with the Routing Protocol for Low-Power and Lossy Networks (RPL)</a>" <span>[<a href="#RFC6554" class="cite xref">RFC6554</a>]</span>), which is not 
4603c4631
< <p id="section-6.12.1.13-3">The simpler RPL Option header "<a href="#RFC6553" class="xref">The Routing Protocol for Low-Power and Lossy Networks (RPL) Option for Carrying RPL Information in Data-Plane Datagrams</a>" <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span> is also
---
> <p id="section-6.12.1.13-3">The simpler RPL Option header "<a href="#RFC6553" class="internal xref">The Routing Protocol for Low-Power and Lossy Networks (RPL) Option for Carrying RPL Information in Data-Plane Datagrams</a>" <span>[<a href="#RFC6553" class="cite xref">RFC6553</a>]</span> is also
4617c4645
<               administrative parameter from <a href="#rpl-admin" class="xref">Section 6.12.1.12</a> has value 0b001).
---
>               administrative parameter from <a href="#rpl-admin" class="auto internal xref">Section 6.12.1.12</a> has value 0b001).
4637c4665
< <p id="section-6.13-1">Since channels are established between adjacent neighbors by default, the resulting overlay network does hop-by-hop encryption.  Each node decrypts incoming traffic from the ACP and encrypts outgoing traffic to its neighbors in the ACP.  Routing is discussed in <a href="#routing" class="xref">Section 6.12</a>.<a href="#section-6.13-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.13-1">Since channels are established between adjacent neighbors by default, the resulting overlay network does hop-by-hop encryption.  Each node decrypts incoming traffic from the ACP and encrypts outgoing traffic to its neighbors in the ACP.  Routing is discussed in <a href="#routing" class="auto internal xref">Section 6.12</a>.<a href="#section-6.13-1" class="pilcrow">¶</a></p>
4643c4671
< <p id="section-6.13.1-1">There are no performance requirements for ACP implementations defined in this document because the performance requirements depend on the intended use case.  It is expected that a fully autonomic node with a wide range of ASA can require high forwarding plane performance in the ACP, for example, for telemetry.  Implementations of ACP that solely support traditional or SDN-style use cases can benefit from ACP at lower performance, especially if the ACP is used only for critical operations, e.g., when the data plane is not available. The design of the ACP as specified in this document is intended to support a wide range of performance options: it is intended to allow software-only implementations at potentially low performance, but the design can also support high-performance options. See <span>[<a href="#RFC8368" class="xref">RFC8368</a>]</span> for more details.<a href="#section-6.13.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.13.1-1">There are no performance requirements for ACP implementations defined in this document because the performance requirements depend on the intended use case.  It is expected that a fully autonomic node with a wide range of ASA can require high forwarding plane performance in the ACP, for example, for telemetry.  Implementations of ACP that solely support traditional or SDN-style use cases can benefit from ACP at lower performance, especially if the ACP is used only for critical operations, e.g., when the data plane is not available. The design of the ACP as specified in this document is intended to support a wide range of performance options: it is intended to allow software-only implementations at potentially low performance, but the design can also support high-performance options. See <span>[<a href="#RFC8368" class="cite xref">RFC8368</a>]</span> for more details.<a href="#section-6.13.1-1" class="pilcrow">¶</a></p>
4653c4681
< adjacent neighbors.  Note: <a href="#remote-acp-neighbors" class="xref">Section 8.2</a> specifies
---
> adjacent neighbors.  Note: <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a> specifies
4665c4693
< see <a href="#dp-dependency" class="xref">Appendix A.9.2</a>.<a href="#section-6.13.2-2" class="pilcrow">¶</a></p>
---
> see <a href="#dp-dependency" class="auto internal xref">Appendix A.9.2</a>.<a href="#section-6.13.2-2" class="pilcrow">¶</a></p>
4685c4713
< <p id="section-6.13.4-1">If two nodes are connected via several links, the ACP <span class="bcp14">SHOULD</span> be established across every link, but it is possible to establish the ACP only on a subset of links.  Having an ACP channel on every link has a number of advantages, for example, it allows for a faster failover in case of link failure, and it reflects the physical topology more closely.  Using a subset of links (for example, a single link), reduces resource consumption on the node because state needs to be kept per ACP channel.  The negotiation scheme explained in <a href="#channel-selection" class="xref">Section 6.6</a> allows the Decider (the node with the higher ACP address) to drop all but the desired ACP channels to the Follower, and the Follower will not retry to build these secure channels from its side unless the Decider appears with a previously unknown GRASP announcement (e.g., on a different link or with a different address announced in GRASP).<a href="#section-6.13.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.13.4-1">If two nodes are connected via several links, the ACP <span class="bcp14">SHOULD</span> be established across every link, but it is possible to establish the ACP only on a subset of links.  Having an ACP channel on every link has a number of advantages, for example, it allows for a faster failover in case of link failure, and it reflects the physical topology more closely.  Using a subset of links (for example, a single link), reduces resource consumption on the node because state needs to be kept per ACP channel.  The negotiation scheme explained in <a href="#channel-selection" class="auto internal xref">Section 6.6</a> allows the Decider (the node with the higher ACP address) to drop all but the desired ACP channels to the Follower, and the Follower will not retry to build these secure channels from its side unless the Decider appears with a previously unknown GRASP announcement (e.g., on a different link or with a different address announced in GRASP).<a href="#section-6.13.4-1" class="pilcrow">¶</a></p>
4701,4702c4729,4730
< <p id="section-6.13.5.1-1">For autonomous operations of the ACP, as described in <a href="#self-creation" class="xref">Section 6</a>
<         and <a href="#acp-l2-switches" class="xref">Section 7</a>, the ACP node uses the first address from
---
> <p id="section-6.13.5.1-1">For autonomous operations of the ACP, as described in <a href="#self-creation" class="auto internal xref">Section 6</a>
>         and <a href="#acp-l2-switches" class="auto internal xref">Section 7</a>, the ACP node uses the first address from
4709c4737
<         (see <a href="#acp-connect" class="xref">Figure 14</a>), may also introduce additional
---
>         (see <a href="#acp-connect" class="auto internal xref">Figure 14</a>), may also introduce additional
4713c4741
<         connections since BGP4 (see "<a href="#RFC1654" class="xref">A Border Gateway Protocol 4 (BGP-4)</a>" <span>[<a href="#RFC1654" class="xref">RFC1654</a>]</span>) or earlier.
---
>         connections since BGP4 (see "<a href="#RFC1654" class="internal xref">A Border Gateway Protocol 4 (BGP-4)</a>" <span>[<a href="#RFC1654" class="cite xref">RFC1654</a>]</span>) or earlier.
4716c4744
<         that behaves according to Section <a href="https://www.rfc-editor.org/rfc/rfc6724#section-4" class="relref">4</a> of <span><a href="#RFC6724" class="xref">"Default Address Selection for Internet Protocol Version 6 (IPv6)"</a> [<a href="#RFC6724" class="xref">RFC6724</a>]</span>, paragraph 2.
---
>         that behaves according to Section <a href="https://rfc-editor.org/rfc/rfc6724#section-4" class="relref">4</a> of <span><a href="#RFC6724" class="internal xref">"Default Address Selection for Internet Protocol Version 6 (IPv6)"</a> [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>, paragraph 2.
4733c4761
<           see Section <a href="https://www.rfc-editor.org/rfc/rfc4291#section-2.1" class="relref">2.1</a> of <span><a href="#RFC4291" class="xref">"IP Version 6 Addressing Architecture"</a> [<a href="#RFC4291" class="xref">RFC4291</a>]</span>.<a href="#section-6.13.5.1-8.1" class="pilcrow">¶</a>
---
>           see Section <a href="https://rfc-editor.org/rfc/rfc4291#section-2.1" class="relref">2.1</a> of <span><a href="#RFC4291" class="internal xref">"IP Version 6 Addressing Architecture"</a> [<a href="#RFC4291" class="cite xref">RFC4291</a>]</span>.<a href="#section-6.13.5.1-8.1" class="pilcrow">¶</a>
4756c4784
<           transport protocols, TCP and UDP. While "<a href="#RFC6824" class="xref">TCP Extensions for Multipath Operation with Multiple Addresses</a>" <span>[<a href="#RFC6824" class="xref">RFC6824</a>]</span>/<span>[<a href="#RFC8684" class="xref">RFC8684</a>]</span> solves this problem,
---
>           transport protocols, TCP and UDP. While "<a href="#RFC6824" class="internal xref">TCP Extensions for Multipath Operation with Multiple Addresses</a>" <span>[<a href="#RFC6824" class="cite xref">RFC6824</a>]</span>/<span>[<a href="#RFC8684" class="cite xref">RFC8684</a>]</span> solves this problem,
4777c4805
< <p id="section-6.13.5.1-9">Note that "<a href="#RFC8402" class="xref">Segment Routing Architecture</a>" <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> introduces the term Node-SID to refer
---
> <p id="section-6.13.5.1-9">Note that "<a href="#RFC8402" class="internal xref">Segment Routing Architecture</a>" <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span> introduces the term Node-SID to refer
4793c4821
<         "<a href="#RFC6407" class="xref">The Group Domain of Interpretation</a>" <span>[<a href="#RFC6407" class="xref">RFC6407</a>]</span>, is out of scope.<a href="#section-6.13.5.2-2" class="pilcrow">¶</a></p>
---
>         "<a href="#RFC6407" class="internal xref">The Group Domain of Interpretation</a>" <span>[<a href="#RFC6407" class="cite xref">RFC6407</a>]</span>, is out of scope.<a href="#section-6.13.5.2-2" class="pilcrow">¶</a></p>
4806c4834
<         <a href="#rpl-dodag-repair" class="xref">Section 6.12.1.7</a>.<a href="#section-6.13.5.2.1-2" class="pilcrow">¶</a></p>
---
>         <a href="#rpl-dodag-repair" class="auto internal xref">Section 6.12.1.7</a>.<a href="#section-6.13.5.2.1-2" class="pilcrow">¶</a></p>
4827c4855
<         RPL DODAG repair, see <a href="#rpl-dodag-repair" class="xref">Section 6.12.1.7</a>.<a href="#section-6.13.5.2.2-2" class="pilcrow">¶</a></p>
---
>         RPL DODAG repair, see <a href="#rpl-dodag-repair" class="auto internal xref">Section 6.12.1.7</a>.<a href="#section-6.13.5.2.2-2" class="pilcrow">¶</a></p>
4834,4835c4862,4863
<         <span>[<a href="#RFC4862" class="xref">RFC4862</a>]</span> to assign their IPv6 link-local address on the ACP
<         virtual interface and ND ("<a href="#RFC4861" class="xref">Neighbor Discovery for IP version 6 (IPv6)</a>" <span>[<a href="#RFC4861" class="xref">RFC4861</a>]</span>)
---
>         <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span> to assign their IPv6 link-local address on the ACP
>         virtual interface and ND ("<a href="#RFC4861" class="internal xref">Neighbor Discovery for IP version 6 (IPv6)</a>" <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>)
4840c4868
<         "<a href="#RFC4429" class="xref">Optimistic Duplicate Address Detection (DAD) for IPv6</a>" <span>[<a href="#RFC4429" class="xref">RFC4429</a>]</span> is <span class="bcp14">RECOMMENDED</span> because the likelihood for
---
>         "<a href="#RFC4429" class="internal xref">Optimistic Duplicate Address Detection (DAD) for IPv6</a>" <span>[<a href="#RFC4429" class="cite xref">RFC4429</a>]</span> is <span class="bcp14">RECOMMENDED</span> because the likelihood for
4893c4921
<         See <a href="#GRASP-substrate" class="xref">Section 6.9.2</a> for more details.<a href="#section-6.13.5.2.2-12" class="pilcrow">¶</a></p>
---
>         See <a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a> for more details.<a href="#section-6.13.5.2.2-12" class="pilcrow">¶</a></p>
4901c4929
<         represented as an ACP point-to-point virtual interface. See also <a href="#future-rpl" class="xref">Appendix A.9.4</a>.<a href="#section-6.13.5.2.2-13" class="pilcrow">¶</a></p>
---
>         represented as an ACP point-to-point virtual interface. See also <a href="#future-rpl" class="auto internal xref">Appendix A.9.4</a>.<a href="#section-6.13.5.2.2-13" class="pilcrow">¶</a></p>
4929c4957
<           <div class="artwork art-text alignLeft" id="section-7.1-1.1">
---
>           <div class="alignLeft art-text artwork" id="section-7.1-1.1">
4993c5021
< (see <a href="#ACP-ma-virtual-interfaces" class="xref">Section 6.13.5.2.2</a>), it is <span class="bcp14">REQUIRED</span> not to coalesce all
---
> (see <a href="#ACP-ma-virtual-interfaces" class="auto internal xref">Section 6.13.5.2.2</a>), it is <span class="bcp14">REQUIRED</span> not to coalesce all
5051c5079
<             <div class="artwork art-text alignLeft" id="section-8.1.1-4.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.1.1-4.1">
5080c5108
< <p id="section-8.1.1-7">An ACP connect interface provides exclusive access to only the ACP.  This is likely insufficient for many NMS hosts.  Instead, they would require a second "data plane" interface outside the ACP for connections between the NMS host and administrators, or Internet-based services, or for direct access to the data plane.  The document <span><a href="#RFC8368" class="xref">"Using Autonomic Control Plane for Stable Connectivity of Network OAM"</a> [<a href="#RFC8368" class="xref">RFC8368</a>]</span> explains in more detail how the ACP can be integrated in a mixed NOC environment.<a href="#section-8.1.1-7" class="pilcrow">¶</a></p>
---
> <p id="section-8.1.1-7">An ACP connect interface provides exclusive access to only the ACP.  This is likely insufficient for many NMS hosts.  Instead, they would require a second "data plane" interface outside the ACP for connections between the NMS host and administrators, or Internet-based services, or for direct access to the data plane.  The document <span><a href="#RFC8368" class="internal xref">"Using Autonomic Control Plane for Stable Connectivity of Network OAM"</a> [<a href="#RFC8368" class="cite xref">RFC8368</a>]</span> explains in more detail how the ACP can be integrated in a mixed NOC environment.<a href="#section-8.1.1-7" class="pilcrow">¶</a></p>
5082c5110
< from the Manual Addressing Sub-Scheme (<a href="#manual-scheme" class="xref">Section 6.11.4</a>), letting the operator configure, for example, only the Subnet-ID and having the node automatically assign the remaining part of the prefix/address.  It <span class="bcp14">SHOULD NOT</span> use a prefix that is also routed outside the ACP so that the addresses clearly indicate whether it is used inside the ACP or not.<a href="#section-8.1.1-8" class="pilcrow">¶</a></p>
---
> from the Manual Addressing Sub-Scheme (<a href="#manual-scheme" class="auto internal xref">Section 6.11.4</a>), letting the operator configure, for example, only the Subnet-ID and having the node automatically assign the remaining part of the prefix/address.  It <span class="bcp14">SHOULD NOT</span> use a prefix that is also routed outside the ACP so that the addresses clearly indicate whether it is used inside the ACP or not.<a href="#section-8.1.1-8" class="pilcrow">¶</a></p>
5089c5117
<    <span>[<a href="#RFC6724" class="xref">RFC6724</a>]</span> to determine longest match
---
>    <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span> to determine longest match
5091c5119
<    data plane. With <span>[<a href="#RFC6724" class="xref">RFC6724</a>]</span>, the NMS host will select the ACP connect interface for all addresses in the ACP because any ACP destination address is longest matched by the address on the ACP connect interface.  If the NMS host's ACP connect interface uses another prefix, or if the ACP uses multiple ULA prefixes, then the NMS host requires (static) routes towards the ACP interface for these prefixes.<a href="#section-8.1.1-9" class="pilcrow">¶</a></p>
---
>    data plane. With <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>, the NMS host will select the ACP connect interface for all addresses in the ACP because any ACP destination address is longest matched by the address on the ACP connect interface.  If the NMS host's ACP connect interface uses another prefix, or if the ACP uses multiple ULA prefixes, then the NMS host requires (static) routes towards the ACP interface for these prefixes.<a href="#section-8.1.1-9" class="pilcrow">¶</a></p>
5098,5099c5126,5127
< and that property could only be changed through reenrollment.  See also <a href="#role-assignments" class="xref">Appendix A.9.5</a>.<a href="#section-8.1.1-11" class="pilcrow">¶</a></p>
< <p id="section-8.1.1-12">ACP edge nodes <span class="bcp14">SHOULD</span> have a configurable option to prohibit packets with RPI headers (see <a href="#rpl-Data-Plane" class="xref">Section 6.12.1.13</a>) across an ACP connect interface. These headers are outside the scope of the RPL profile in this specification but may be used in future extensions of this specification.<a href="#section-8.1.1-12" class="pilcrow">¶</a></p>
---
> and that property could only be changed through reenrollment.  See also <a href="#role-assignments" class="auto internal xref">Appendix A.9.5</a>.<a href="#section-8.1.1-11" class="pilcrow">¶</a></p>
> <p id="section-8.1.1-12">ACP edge nodes <span class="bcp14">SHOULD</span> have a configurable option to prohibit packets with RPI headers (see <a href="#rpl-Data-Plane" class="auto internal xref">Section 6.12.1.13</a>) across an ACP connect interface. These headers are outside the scope of the RPL profile in this specification but may be used in future extensions of this specification.<a href="#section-8.1.1-12" class="pilcrow">¶</a></p>
5118c5146
< <p id="section-8.1.3-1">ACP edge nodes, NMS hosts, and software components that, as described in the previous section, are meant to be composed via virtual interfaces <span class="bcp14">SHOULD</span> support SLAAC <span>[<a href="#RFC4862" class="xref">RFC4862</a>]</span> on the ACP connect subnet and route autoconfiguration according to "<a href="#RFC4191" class="xref">Default Router Preferences and More-Specific Routes</a>" <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span>.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-8.1.3-1">ACP edge nodes, NMS hosts, and software components that, as described in the previous section, are meant to be composed via virtual interfaces <span class="bcp14">SHOULD</span> support SLAAC <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span> on the ACP connect subnet and route autoconfiguration according to "<a href="#RFC4191" class="internal xref">Default Router Preferences and More-Specific Routes</a>" <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span>.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
5122c5150
< <p id="section-8.1.3-3"> The ACP edge node uses the Route Information Option (RIO) of <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span> to announce
---
> <p id="section-8.1.3-3"> The ACP edge node uses the Route Information Option (RIO) of <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span> to announce
5135c5163
<           see <a href="#SingleIF" class="xref">Section 8.1.4</a>.<a href="#section-8.1.3-5" class="pilcrow">¶</a></p>
---
>           see <a href="#SingleIF" class="auto internal xref">Section 8.1.4</a>.<a href="#section-8.1.3-5" class="pilcrow">¶</a></p>
5140c5168
<            If ACP interfaces are configured with non-ULA prefixes, then those prefixes cannot be aggregated without further configured policy on the ACP edge node.  This explains the above recommendation to use ACP ULA prefixes for ACP connect interfaces: they allow for a shorter list of prefixes to be signaled via <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span> to NMS hosts and software components.<a href="#section-8.1.3-6" class="pilcrow">¶</a></p>
---
>            If ACP interfaces are configured with non-ULA prefixes, then those prefixes cannot be aggregated without further configured policy on the ACP edge node.  This explains the above recommendation to use ACP ULA prefixes for ACP connect interfaces: they allow for a shorter list of prefixes to be signaled via <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span> to NMS hosts and software components.<a href="#section-8.1.3-6" class="pilcrow">¶</a></p>
5151c5179
<             <div class="artwork art-text alignLeft" id="section-8.1.4-1.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.1.4-1.1">
5175,5177c5203,5205
< <p id="section-8.1.4-2">Using two physical and/or virtual subnets (and therefore interfaces) to NMS hosts (as per <a href="#NMS" class="xref">Section 8.1.1</a>) or software (as per <a href="#software" class="xref">Section 8.1.2</a>) may be seen as additional complexity, for example, with legacy NMS hosts that support only one IP interface, or it may be insufficient to support type A or type B hosts <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span> (see <a href="#ACautoconfig" class="xref">Section 8.1.3</a>).<a href="#section-8.1.4-2" class="pilcrow">¶</a></p>
< <p id="section-8.1.4-3">To provide a single subnet to both the ACP and Data plane, the ACP edge node needs to demultiplex packets from NMS hosts into ACP VRF and data plane.  This is sometimes called "VRF select".  If the ACP VRF has no overlapping IPv6 addresses with the data plane (it should have no overlapping addresses), then this function can use the IPv6 destination address.  The problem is source address selection on the NMS host(s) according to <span>[<a href="#RFC6724" class="xref">RFC6724</a>]</span>.<a href="#section-8.1.4-3" class="pilcrow">¶</a></p>
< <p id="section-8.1.4-4">Consider the simple case: the ACP uses only one ULA prefix, and the ACP IPv6 prefix for the combined ACP and data plane interface is covered by that ULA prefix.  The ACP edge node announces both the ACP IPv6 prefix and one (or more) prefixes for the data plane.  Without further policy configurations on the NMS host(s), it may select its ACP address as a source address for data plane ULA destinations because of Rule 8 (<span><a href="https://www.rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="xref">RFC6724</a>]</span>).  The ACP edge node can pass on the packet to the data plane, but the ACP source address should not be used for data plane traffic, and return traffic may fail.<a href="#section-8.1.4-4" class="pilcrow">¶</a></p>
---
> <p id="section-8.1.4-2">Using two physical and/or virtual subnets (and therefore interfaces) to NMS hosts (as per <a href="#NMS" class="auto internal xref">Section 8.1.1</a>) or software (as per <a href="#software" class="auto internal xref">Section 8.1.2</a>) may be seen as additional complexity, for example, with legacy NMS hosts that support only one IP interface, or it may be insufficient to support type A or type B hosts <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span> (see <a href="#ACautoconfig" class="auto internal xref">Section 8.1.3</a>).<a href="#section-8.1.4-2" class="pilcrow">¶</a></p>
> <p id="section-8.1.4-3">To provide a single subnet to both the ACP and Data plane, the ACP edge node needs to demultiplex packets from NMS hosts into ACP VRF and data plane.  This is sometimes called "VRF select".  If the ACP VRF has no overlapping IPv6 addresses with the data plane (it should have no overlapping addresses), then this function can use the IPv6 destination address.  The problem is source address selection on the NMS host(s) according to <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>.<a href="#section-8.1.4-3" class="pilcrow">¶</a></p>
> <p id="section-8.1.4-4">Consider the simple case: the ACP uses only one ULA prefix, and the ACP IPv6 prefix for the combined ACP and data plane interface is covered by that ULA prefix.  The ACP edge node announces both the ACP IPv6 prefix and one (or more) prefixes for the data plane.  Without further policy configurations on the NMS host(s), it may select its ACP address as a source address for data plane ULA destinations because of Rule 8 (<span><a href="https://rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>).  The ACP edge node can pass on the packet to the data plane, but the ACP source address should not be used for data plane traffic, and return traffic may fail.<a href="#section-8.1.4-4" class="pilcrow">¶</a></p>
5179,5181c5207,5209
< <p id="section-8.1.4-6">With separate ACP connect and data plane subnets and prefix announcements <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span> that are to be routed across the ACP connect interface, the source address selection of Rule 5 (use address of outgoing interface) (<span><a href="https://www.rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="xref">RFC6724</a>]</span>) will be used, so that above problems do not occur, even in more complex cases of multiple ULA and non-ULA prefixes in the ACP routing table.<a href="#section-8.1.4-6" class="pilcrow">¶</a></p>
< <p id="section-8.1.4-7">To achieve the same behavior with a combined ACP and data plane interface, the ACP edge node needs to behave as two separate routers on the interface: one link-local IPv6 address/router for its ACP reachability, and one link-local IPv6 address/router for its data plane reachability.  The Router Advertisements for both are as described in <a href="#ACautoconfig" class="xref">Section 8.1.3</a>: for the ACP, the ACP prefix is announced together with the prefix option <span>[<a href="#RFC4191" class="xref">RFC4191</a>]</span> routed across the ACP, and the lifetime is set to zero to disqualify this next hop as a default router.  For the data plane, the data plane prefix(es) are announced together with whatever default router parameters are used for the data plane.<a href="#section-8.1.4-7" class="pilcrow">¶</a></p>
< <p id="section-8.1.4-8">As a result, source address selection Rule 5.5 (<span><a href="https://www.rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="xref">RFC6724</a>]</span>) may result in the same correct source address selection behavior of NMS hosts without further configuration as the separate ACP connect and data plane interfaces on the host.  As described in the text for Rule 5.5 (<span><a href="https://www.rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="xref">RFC6724</a>]</span>), this is only a <span class="bcp14">MAY</span> because IPv6 hosts are not required to track next-hop information.  If an NMS host does not do this, then separate ACP connect and data plane interfaces are the preferable method of attachment.  Hosts implementing "<a href="#RFC8028" class="xref">First-Hop Router Selection by Hosts in a Multi-Prefix Network</a>" <span>[<a href="#RFC8028" class="xref">RFC8028</a>]</span> should (instead of may) implement Rule 5.5 (<span><a href="https://www.rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="xref">RFC6724</a>]</span>), so it is preferred for hosts to support <span>[<a href="#RFC8028" class="xref">RFC8028</a>]</span>.<a href="#section-8.1.4-8" class="pilcrow">¶</a></p>
---
> <p id="section-8.1.4-6">With separate ACP connect and data plane subnets and prefix announcements <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span> that are to be routed across the ACP connect interface, the source address selection of Rule 5 (use address of outgoing interface) (<span><a href="https://rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>) will be used, so that above problems do not occur, even in more complex cases of multiple ULA and non-ULA prefixes in the ACP routing table.<a href="#section-8.1.4-6" class="pilcrow">¶</a></p>
> <p id="section-8.1.4-7">To achieve the same behavior with a combined ACP and data plane interface, the ACP edge node needs to behave as two separate routers on the interface: one link-local IPv6 address/router for its ACP reachability, and one link-local IPv6 address/router for its data plane reachability.  The Router Advertisements for both are as described in <a href="#ACautoconfig" class="auto internal xref">Section 8.1.3</a>: for the ACP, the ACP prefix is announced together with the prefix option <span>[<a href="#RFC4191" class="cite xref">RFC4191</a>]</span> routed across the ACP, and the lifetime is set to zero to disqualify this next hop as a default router.  For the data plane, the data plane prefix(es) are announced together with whatever default router parameters are used for the data plane.<a href="#section-8.1.4-7" class="pilcrow">¶</a></p>
> <p id="section-8.1.4-8">As a result, source address selection Rule 5.5 (<span><a href="https://rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>) may result in the same correct source address selection behavior of NMS hosts without further configuration as the separate ACP connect and data plane interfaces on the host.  As described in the text for Rule 5.5 (<span><a href="https://rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>), this is only a <span class="bcp14">MAY</span> because IPv6 hosts are not required to track next-hop information.  If an NMS host does not do this, then separate ACP connect and data plane interfaces are the preferable method of attachment.  Hosts implementing "<a href="#RFC8028" class="internal xref">First-Hop Router Selection by Hosts in a Multi-Prefix Network</a>" <span>[<a href="#RFC8028" class="cite xref">RFC8028</a>]</span> should (instead of may) implement Rule 5.5 (<span><a href="https://rfc-editor.org/rfc/rfc6724#section-5" class="relref">Section 5</a> of [<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>), so it is preferred for hosts to support <span>[<a href="#RFC8028" class="cite xref">RFC8028</a>]</span>.<a href="#section-8.1.4-8" class="pilcrow">¶</a></p>
5201c5229
< interface. See <a href="#NMS" class="xref">Section 8.1.1</a>.<a href="#section-8.1.5-3" class="pilcrow">¶</a></p>
---
> interface. See <a href="#NMS" class="auto internal xref">Section 8.1.1</a>.<a href="#section-8.1.5-3" class="pilcrow">¶</a></p>
5234,5235c5262,5263
<             <div id="section-8.2.1-2.1">
< <pre class="sourcecode lang-abnf">
---
>             <div class="lang-abnf sourcecode" id="section-8.2.1-2.1">
> <pre>
5264c5292
<             <li class="normal" id="section-8.2.1-5.3">If local address is "any", the local address used when initiating a secure channel connection is decided by source address selection (<span>[<a href="#RFC6724" class="xref">RFC6724</a>]</span> for IPv6). As a responder, the connection listens on all addresses of the node in the selected VRF.<a href="#section-8.2.1-5.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.2.1-5.3">If local address is "any", the local address used when initiating a secure channel connection is decided by source address selection (<span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span> for IPv6). As a responder, the connection listens on all addresses of the node in the selected VRF.<a href="#section-8.2.1-5.3" class="pilcrow">¶</a>
5331c5359
< <p id="section-9-1">The following sections document important operational aspects of the ACP. They are not normative because they do not impact the interoperability between components of the ACP, but they include recommendations and/or requirements for the internal operational model that are beneficial or necessary to achieve the desired use-case benefits of the ACP (see <a href="#usage" class="xref">Section 3</a>).<a href="#section-9-1" class="pilcrow">¶</a></p>
---
> <p id="section-9-1">The following sections document important operational aspects of the ACP. They are not normative because they do not impact the interoperability between components of the ACP, but they include recommendations and/or requirements for the internal operational model that are beneficial or necessary to achieve the desired use-case benefits of the ACP (see <a href="#usage" class="auto internal xref">Section 3</a>).<a href="#section-9-1" class="pilcrow">¶</a></p>
5334c5362
<           <a href="#diagnostics" class="xref">Section 9.1</a> describes the recommended capabilities of operator diagnostics of ACP nodes.<a href="#section-9-2.1" class="pilcrow">¶</a>
---
>           <a href="#diagnostics" class="auto internal xref">Section 9.1</a> describes the recommended capabilities of operator diagnostics of ACP nodes.<a href="#section-9-2.1" class="pilcrow">¶</a>
5337c5365
<           <a href="#registrar-considerations" class="xref">Section 9.2</a> describes at a high level how an ACP registrar needs to work, what its configuration parameters are, and specific issues impacting the choices of deployment design due to renewal and revocation issues. It describes a model where ACP registrars have their own sub-CA to provide the most distributed deployment option for ACP registrars, and it describes considerations for centralized policy control of ACP registrar operations.<a href="#section-9-2.2" class="pilcrow">¶</a>
---
>           <a href="#registrar-considerations" class="auto internal xref">Section 9.2</a> describes at a high level how an ACP registrar needs to work, what its configuration parameters are, and specific issues impacting the choices of deployment design due to renewal and revocation issues. It describes a model where ACP registrars have their own sub-CA to provide the most distributed deployment option for ACP registrars, and it describes considerations for centralized policy control of ACP registrar operations.<a href="#section-9-2.2" class="pilcrow">¶</a>
5340c5368
<           <a href="#enabling-acp" class="xref">Section 9.3</a> describes suggested ACP node behavior and operational interfaces (configuration options) to manage the ACP in so-called greenfield devices (previously unconfigured) and brownfield devices (preconfigured).<a href="#section-9-2.3" class="pilcrow">¶</a>
---
>           <a href="#enabling-acp" class="auto internal xref">Section 9.3</a> describes suggested ACP node behavior and operational interfaces (configuration options) to manage the ACP in so-called greenfield devices (previously unconfigured) and brownfield devices (preconfigured).<a href="#section-9-2.3" class="pilcrow">¶</a>
5389c5417
< <li class="normal" id="section-9.1-9.1">Check if the necessary configurations to make ACP/ANI operational are correct (see <a href="#enabling-acp" class="xref">Section 9.3</a> for a discussion of such commands).<a href="#section-9.1-9.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-9.1-9.1">Check if the necessary configurations to make ACP/ANI operational are correct (see <a href="#enabling-acp" class="auto internal xref">Section 9.3</a> for a discussion of such commands).<a href="#section-9.1-9.1" class="pilcrow">¶</a>
5448c5476
<                     <p id="section-9.1-12.8.2.3.2.2.1">Did the ACP certificate membership check (<a href="#certcheck" class="xref">Section 6.2.3</a>) fail?<a href="#section-9.1-12.8.2.3.2.2.1" class="pilcrow">¶</a></p>
---
>                     <p id="section-9.1-12.8.2.3.2.2.1">Did the ACP certificate membership check (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>) fail?<a href="#section-9.1-12.8.2.3.2.2.1" class="pilcrow">¶</a></p>
5522c5550
< For this reason, <a href="#common-requirements" class="xref">Section 6.8.2</a> recommends also including the TA certificate in the
---
> For this reason, <a href="#common-requirements" class="auto internal xref">Section 6.8.2</a> recommends also including the TA certificate in the
5525c5553
< ACP. For example, while <span>[<a href="#RFC7296" class="xref">RFC7296</a>]</span> does not mention this, it
---
> ACP. For example, while <span>[<a href="#RFC7296" class="cite xref">RFC7296</a>]</span> does not mention this, it
5558c5586
< <p id="section-9.2-1">As described in <a href="#acp-registrars" class="xref">Section 6.11.7</a>, the ACP addressing
---
> <p id="section-9.2-1">As described in <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a>, the ACP addressing
5592c5620
< For example, NETCONF Zero Touch ("<a href="#RFC8572" class="xref">Secure Zero Touch Provisioning (SZTP)</a>" <span>[<a href="#RFC8572" class="xref">RFC8572</a>]</span>)
---
> For example, NETCONF Zero Touch ("<a href="#RFC8572" class="internal xref">Secure Zero Touch Provisioning (SZTP)</a>" <span>[<a href="#RFC8572" class="cite xref">RFC8572</a>]</span>)
5598c5626
< it is presented with a voucher (see "<a href="#RFC8366" class="xref">A Voucher Artifact for Bootstrapping Protocols</a>" <span>[<a href="#RFC8366" class="xref">RFC8366</a>]</span>) authorizing
---
> it is presented with a voucher (see "<a href="#RFC8366" class="internal xref">A Voucher Artifact for Bootstrapping Protocols</a>" <span>[<a href="#RFC8366" class="cite xref">RFC8366</a>]</span>) authorizing
5617,5618c5645,5646
< <p id="section-9.2.2-1">The interactions of an ACP registrar outlined in <a href="#acp-registrars" class="xref">Section 6.11.7</a> and
< <a href="#reg-interact" class="xref">Section 9.2.1</a> depend on the following parameters:<a href="#section-9.2.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.2.2-1">The interactions of an ACP registrar outlined in <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a> and
> <a href="#reg-interact" class="auto internal xref">Section 9.2.1</a> depend on the following parameters:<a href="#section-9.2.2-1" class="pilcrow">¶</a></p>
5635c5663
<      whitelist or blacklist based on a device's "serialNumber" attribute <span>[<a href="#X.520" class="xref">X.520</a>]</span> in the subject field distinguished name encoding of its IDevID certificate.<a href="#section-9.2.2-2.5" class="pilcrow">¶</a>
---
>      whitelist or blacklist based on a device's "serialNumber" attribute <span>[<a href="#X.520" class="cite xref">X.520</a>]</span> in the subject field distinguished name encoding of its IDevID certificate.<a href="#section-9.2.2-2.5" class="pilcrow">¶</a>
5760c5788
< <p id="section-9.3.1-2">Both BRSKI and ACP require link-local-only IPv6 operations on interfaces and DULL GRASP.  IPv6 link-local operations mean the minimum signaling to auto-assign an IPv6 link-local address and talk to neighbors via their link-local addresses: SLAAC <span>[<a href="#RFC4862" class="xref">RFC4862</a>]</span> and ND <span>[<a href="#RFC4861" class="xref">RFC4861</a>]</span>.  When the device is a BRSKI pledge, it may also require TCP/TLS connections to BRSKI proxies on the interface.  When the device has keying material, and the ACP is running, it requires DULL GRASP packets and packets necessary for the secure channel mechanism it supports, e.g., IKEv2 and IPsec ESP packets or DTLS packets to the IPv6 link-local address of an ACP neighbor on the interface.  It also requires TCP/TLS packets for its BRSKI proxy functionality if it supports BRSKI.<a href="#section-9.3.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.1-2">Both BRSKI and ACP require link-local-only IPv6 operations on interfaces and DULL GRASP.  IPv6 link-local operations mean the minimum signaling to auto-assign an IPv6 link-local address and talk to neighbors via their link-local addresses: SLAAC <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span> and ND <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>.  When the device is a BRSKI pledge, it may also require TCP/TLS connections to BRSKI proxies on the interface.  When the device has keying material, and the ACP is running, it requires DULL GRASP packets and packets necessary for the secure channel mechanism it supports, e.g., IKEv2 and IPsec ESP packets or DTLS packets to the IPv6 link-local address of an ACP neighbor on the interface.  It also requires TCP/TLS packets for its BRSKI proxy functionality if it supports BRSKI.<a href="#section-9.3.1-2" class="pilcrow">¶</a></p>
5768c5796
< <p id="section-9.3.2-1">Interfaces on most network equipment have at least two states: "up" and "down".  These may have product-specific names.  For example, "down" could be called "shutdown", and "up" could be called "no shutdown".  The "down" state disables all interface operations down to the physical level.  The "up" state enables the interface enough for all possible L2/L3 services to operate on top of it, and it may also auto-enable some subset of them.  More commonly, the operations of various L2/L3 services are controlled via additional node-wide or interface-level options, but they all become active only when the interface is not "down".  Therefore, an easy way to ensure that all L2/L3 operations on an interface are inactive is to put the interface into "down" state.  The fact that this also physically shuts down the interface is just a side effect in many cases, but it may be important in other cases (see <a href="#down-fast-state-propagation" class="xref">Section 9.3.2.2</a>).<a href="#section-9.3.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.2-1">Interfaces on most network equipment have at least two states: "up" and "down".  These may have product-specific names.  For example, "down" could be called "shutdown", and "up" could be called "no shutdown".  The "down" state disables all interface operations down to the physical level.  The "up" state enables the interface enough for all possible L2/L3 services to operate on top of it, and it may also auto-enable some subset of them.  More commonly, the operations of various L2/L3 services are controlled via additional node-wide or interface-level options, but they all become active only when the interface is not "down".  Therefore, an easy way to ensure that all L2/L3 operations on an interface are inactive is to put the interface into "down" state.  The fact that this also physically shuts down the interface is just a side effect in many cases, but it may be important in other cases (see <a href="#down-fast-state-propagation" class="auto internal xref">Section 9.3.2.2</a>).<a href="#section-9.3.2-1" class="pilcrow">¶</a></p>
5772c5800
< recommends separating the "down" state of interfaces into an "admin down" state, where the physical layer is kept running and the ACP/ANI can use the interface, and a "physical down" state.  Any existing "down" configurations would map to "admin down".  In "admin down", any existing L2/L3 services of the data plane should see no difference to "physical down" state.  To ensure that no data plane packets could be sent or received, packet filtering could be established automatically as described in <a href="#secure-enabling" class="xref">Section 9.3.1</a>.<a href="#section-9.3.2-4" class="pilcrow">¶</a></p>
---
> recommends separating the "down" state of interfaces into an "admin down" state, where the physical layer is kept running and the ACP/ANI can use the interface, and a "physical down" state.  Any existing "down" configurations would map to "admin down".  In "admin down", any existing L2/L3 services of the data plane should see no difference to "physical down" state.  To ensure that no data plane packets could be sent or received, packet filtering could be established automatically as described in <a href="#secure-enabling" class="auto internal xref">Section 9.3.1</a>.<a href="#section-9.3.2-4" class="pilcrow">¶</a></p>
5815c5843
< a BFD session ("<a href="#RFC5880" class="xref">Bidirectional Forwarding Detection (BFD)</a>" <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span>) between the two sides of the link that would be used to propagate the
---
> a BFD session ("<a href="#RFC5880" class="internal xref">Bidirectional Forwarding Detection (BFD)</a>" <span>[<a href="#RFC5880" class="cite xref">RFC5880</a>]</span>) between the two sides of the link that would be used to propagate the
5821c5849
< <p id="section-9.3.2.2-5">See <a href="#diagnostics" class="xref">Section 9.1</a> for a discussion about how LLDP and/or diagnostics
---
> <p id="section-9.3.2.2-5">See <a href="#diagnostics" class="auto internal xref">Section 9.1</a> for a discussion about how LLDP and/or diagnostics
5856c5884
< <p id="section-9.3.3-1">The interface-level configuration option "ACP enable" enables ACP  operations on an interface, starting with ACP neighbor discovery via DULL  GRASP.  The interface-level configuration option "ANI enable" on nodes supporting BRSKI and ACP starts with BRSKI pledge operations when there is no domain certificate on the node.  On ACP/BRSKI nodes, only "ANI enable" may need to be supported and not "ACP enable".  Unless overridden by global configuration options (see <a href="#if-enable-auto" class="xref">Section 9.3.4</a>), either "ACP enable" or "ANI enable" (both abbreviated as "ACP/ANI enable")  will result in the "down" state on an interface behaving as "admin down".<a href="#section-9.3.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.3-1">The interface-level configuration option "ACP enable" enables ACP  operations on an interface, starting with ACP neighbor discovery via DULL  GRASP.  The interface-level configuration option "ANI enable" on nodes supporting BRSKI and ACP starts with BRSKI pledge operations when there is no domain certificate on the node.  On ACP/BRSKI nodes, only "ANI enable" may need to be supported and not "ACP enable".  Unless overridden by global configuration options (see <a href="#if-enable-auto" class="auto internal xref">Section 9.3.4</a>), either "ACP enable" or "ANI enable" (both abbreviated as "ACP/ANI enable")  will result in the "down" state on an interface behaving as "admin down".<a href="#section-9.3.3-1" class="pilcrow">¶</a></p>
5864c5892
< <p id="section-9.3.4-1"><a href="#discovery-grasp" class="xref">Section 6.4</a> requires that "ACP enable" is automatically set on native interfaces, but not on non-native interfaces (reminder: a native interface is one that exists without operator configuration action, such as physical interfaces in physical devices).<a href="#section-9.3.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.4-1"><a href="#discovery-grasp" class="auto internal xref">Section 6.4</a> requires that "ACP enable" is automatically set on native interfaces, but not on non-native interfaces (reminder: a native interface is one that exists without operator configuration action, such as physical interfaces in physical devices).<a href="#section-9.3.4-1" class="pilcrow">¶</a></p>
5879c5907
< <p id="section-9.3.5-1">A node-level command "ACP/ANI enable [up-if-only]" enables ACP or ANI on the node (ANI = ACP + BRSKI).  Without this command set, any interface-level "ACP/ANI enable" is ignored.  Once set, ACP/ANI will operate an interface where "ACP/ANI enable" is set.  Setting of interface-level "ACP/ANI enable" is either automatic (default) or explicit through operator action as described in <a href="#if-enable-auto" class="xref">Section 9.3.4</a>.<a href="#section-9.3.5-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.5-1">A node-level command "ACP/ANI enable [up-if-only]" enables ACP or ANI on the node (ANI = ACP + BRSKI).  Without this command set, any interface-level "ACP/ANI enable" is ignored.  Once set, ACP/ANI will operate an interface where "ACP/ANI enable" is set.  Setting of interface-level "ACP/ANI enable" is either automatic (default) or explicit through operator action as described in <a href="#if-enable-auto" class="auto internal xref">Section 9.3.4</a>.<a href="#section-9.3.5-1" class="pilcrow">¶</a></p>
5894c5922
< <p id="section-9.3.5.1-5">In networks where the operator explicitly enables the ANI, this could not happen because the operator would create a BRSKI registrar that would discover attack attempts, and the operator would set up his registrar with the MASA.  Nodes requiring "ownership vouchers" would not be subject to that attack.  See <span>[<a href="#RFC8995" class="xref">RFC8995</a>]</span> for more details.  Note that a global "ACP enable" alone is not subject to these types of attacks because they always depend on some other mechanism first to provision domain certificates into the device.<a href="#section-9.3.5.1-5" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.5.1-5">In networks where the operator explicitly enables the ANI, this could not happen because the operator would create a BRSKI registrar that would discover attack attempts, and the operator would set up his registrar with the MASA.  Nodes requiring "ownership vouchers" would not be subject to that attack.  See <span>[<a href="#RFC8995" class="cite xref">RFC8995</a>]</span> for more details.  Note that a global "ACP enable" alone is not subject to these types of attacks because they always depend on some other mechanism first to provision domain certificates into the device.<a href="#section-9.3.5.1-5" class="pilcrow">¶</a></p>
5909c5937
< <p id="section-9.3.5.2-8">Nodes that claim to support ANI greenfield operations <span class="bcp14">SHOULD NOT</span> enable in parallel to BRSKI any enrollment/bootstrap protocol/mechanism that allows Trust On First Use (TOFU, "<a href="#RFC7435" class="xref">Opportunistic Security: Some Protection Most of the Time</a>" <span>[<a href="#RFC7435" class="xref">RFC7435</a>]</span>) over interfaces other than those traditionally indicating physical possession of the node.  Protocols/mechanisms with published default username/password authentication are considered to suffer from TOFU. Securing the bootstrap protocol/mechanism by requiring a voucher <span>[<a href="#RFC8366" class="xref">RFC8366</a>]</span> can be used to avoid TOFU.<a href="#section-9.3.5.2-8" class="pilcrow">¶</a></p>
---
> <p id="section-9.3.5.2-8">Nodes that claim to support ANI greenfield operations <span class="bcp14">SHOULD NOT</span> enable in parallel to BRSKI any enrollment/bootstrap protocol/mechanism that allows Trust On First Use (TOFU, "<a href="#RFC7435" class="internal xref">Opportunistic Security: Some Protection Most of the Time</a>" <span>[<a href="#RFC7435" class="cite xref">RFC7435</a>]</span>) over interfaces other than those traditionally indicating physical possession of the node.  Protocols/mechanisms with published default username/password authentication are considered to suffer from TOFU. Securing the bootstrap protocol/mechanism by requiring a voucher <span>[<a href="#RFC8366" class="cite xref">RFC8366</a>]</span> can be used to avoid TOFU.<a href="#section-9.3.5.2-8" class="pilcrow">¶</a></p>
5944c5972
< <p id="section-9.4-1">The Zone Addressing Sub-Scheme (see <a href="#zone-scheme" class="xref">Section 6.11.3</a>) allows incremental
---
> <p id="section-9.4-1">The Zone Addressing Sub-Scheme (see <a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>) allows incremental
5985c6013
< <p id="section-9.5-1">There is no desirable configuration for the ACP. Instead, all parameters that need to be configured in support of the ACP are limitations of the solution, but they are only needed in cases where not all components are made autonomic. Wherever this is necessary, it relies on preexisting mechanisms for configuration such as CLI or YANG data models ("<a href="#RFC7950" class="xref">The YANG 1.1 Data Modeling Language</a>" <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>).<a href="#section-9.5-1" class="pilcrow">¶</a></p>
---
> <p id="section-9.5-1">There is no desirable configuration for the ACP. Instead, all parameters that need to be configured in support of the ACP are limitations of the solution, but they are only needed in cases where not all components are made autonomic. Wherever this is necessary, it relies on preexisting mechanisms for configuration such as CLI or YANG data models ("<a href="#RFC7950" class="internal xref">The YANG 1.1 Data Modeling Language</a>" <span>[<a href="#RFC7950" class="cite xref">RFC7950</a>]</span>).<a href="#section-9.5-1" class="pilcrow">¶</a></p>
5990c6018
<           <li class="normal" id="section-9.5-3.2">Certificate maintenance requires PKI functions. Discovery of these functions across the ACP is automated (see <a href="#domcert-maint" class="xref">Section 6.2.5</a>), but their configuration is not.<a href="#section-9.5-3.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-9.5-3.2">Certificate maintenance requires PKI functions. Discovery of these functions across the ACP is automated (see <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>), but their configuration is not.<a href="#section-9.5-3.2" class="pilcrow">¶</a>
5992c6020
<           <li class="normal" id="section-9.5-3.3">When non-ACP-capable nodes such as preexisting NMS need to be physically connected to the ACP, the ACP node to which they attach needs to be configured with ACP connect according to <a href="#ACPconnect" class="xref">Section 8.1</a>. It is also possible to use that single physical connection to connect both to the ACP and the data plane of the network as explained in <a href="#SingleIF" class="xref">Section 8.1.4</a>.<a href="#section-9.5-3.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-9.5-3.3">When non-ACP-capable nodes such as preexisting NMS need to be physically connected to the ACP, the ACP node to which they attach needs to be configured with ACP connect according to <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>. It is also possible to use that single physical connection to connect both to the ACP and the data plane of the network as explained in <a href="#SingleIF" class="auto internal xref">Section 8.1.4</a>.<a href="#section-9.5-3.3" class="pilcrow">¶</a>
5994c6022
<           <li class="normal" id="section-9.5-3.4">When devices are not autonomically bootstrapped, explicit configuration to enable the ACP needs to be applied. See <a href="#enabling-acp" class="xref">Section 9.3</a>.<a href="#section-9.5-3.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-9.5-3.4">When devices are not autonomically bootstrapped, explicit configuration to enable the ACP needs to be applied. See <a href="#enabling-acp" class="auto internal xref">Section 9.3</a>.<a href="#section-9.5-3.4" class="pilcrow">¶</a>
5996c6024
<           <li class="normal" id="section-9.5-3.5">When the ACP needs to be extended across interfaces other than L2, the ACP as defined in this document cannot auto-discover candidate neighbors automatically. Remote neighbors need to be configured, see <a href="#remote-acp-neighbors" class="xref">Section 8.2</a>.<a href="#section-9.5-3.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-9.5-3.5">When the ACP needs to be extended across interfaces other than L2, the ACP as defined in this document cannot auto-discover candidate neighbors automatically. Remote neighbors need to be configured, see <a href="#remote-acp-neighbors" class="auto internal xref">Section 8.2</a>.<a href="#section-9.5-3.5" class="pilcrow">¶</a>
6027c6055
< <p id="section-10.1-5">Highly resilient ACP designs can be built by using ACP registrars with embedded sub-CAs, as outlined in <a href="#sub-ca" class="xref">Section 9.2.4</a>. As long as a partition is left with one or more of such ACP registrars, it can continue to enroll new candidate ACP nodes as long as the ACP registrar's sub-CA certificate does not expire. Because the ACP addressing relies on unique Registrar-IDs, a later merging of partitions will not cause problems with ACP addresses assigned during partitioning.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
---
> <p id="section-10.1-5">Highly resilient ACP designs can be built by using ACP registrars with embedded sub-CAs, as outlined in <a href="#sub-ca" class="auto internal xref">Section 9.2.4</a>. As long as a partition is left with one or more of such ACP registrars, it can continue to enroll new candidate ACP nodes as long as the ACP registrar's sub-CA certificate does not expire. Because the ACP addressing relies on unique Registrar-IDs, a later merging of partitions will not cause problems with ACP addresses assigned during partitioning.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
6029c6057
< <p id="section-10.1-7">Merging two networks with different TAs requires the ACP nodes to trust the union of TAs.  As long as the routing-subdomain hashes are different, the addressing will not overlap. Overlaps will only happen accidentally in the unlikely event of a 40-bit hash collision in SHA-256 (see <a href="#addressing" class="xref">Section 6.11</a>).
---
> <p id="section-10.1-7">Merging two networks with different TAs requires the ACP nodes to trust the union of TAs.  As long as the routing-subdomain hashes are different, the addressing will not overlap. Overlaps will only happen accidentally in the unlikely event of a 40-bit hash collision in SHA-256 (see <a href="#addressing" class="auto internal xref">Section 6.11</a>).
6044c6072
< <p id="section-10.2.1-1">As explained in <a href="#self-creation" class="xref">Section 6</a>, the ACP is based on secure channels built between nodes that have mutually authenticated each other with their domain certificates.  The channels themselves are protected using standard encryption technologies such as DTLS or IPsec, which provide additional authentication during channel establishment, data integrity, and data confidentiality protection inside the ACP, and also provide replay protection.<a href="#section-10.2.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-10.2.1-1">As explained in <a href="#self-creation" class="auto internal xref">Section 6</a>, the ACP is based on secure channels built between nodes that have mutually authenticated each other with their domain certificates.  The channels themselves are protected using standard encryption technologies such as DTLS or IPsec, which provide additional authentication during channel establishment, data integrity, and data confidentiality protection inside the ACP, and also provide replay protection.<a href="#section-10.2.1-1" class="pilcrow">¶</a></p>
6046,6047c6074,6075
< <p id="section-10.2.1-3">The degree to which compromised ACP nodes can impact the ACP depends on the implementation of the ACP nodes and their impairment. When an attacker has only gained administrative privileges to configure ACP nodes remotely, the attacker can disrupt the ACP only through one of the few configuration options to disable it (see <a href="#enabling-acp" class="xref">Section 9.3</a>) or by the configuring of non-autonomic ACP options if those are supported on the impaired ACP nodes (see <a href="#workarounds" class="xref">Section 8</a>). Injecting traffic into or extracting traffic from an impaired ACP node is only possible when an impaired ACP node supports ACP connect (see <a href="#ACPconnect" class="xref">Section 8.1</a>), and the attacker can control traffic into/from one of the ACP node's interfaces, such as by having physical access to the ACP node.<a href="#section-10.2.1-3" class="pilcrow">¶</a></p>
< <p id="section-10.2.1-4">The ACP also serves as protection (through authentication and encryption) for protocols relevant to OAM that may not have secured protocol stack options or where implementation or deployment of those options fail due to some vendor, product, or customer limitations.  This includes protocols such as SNMP ("<a href="#RFC3411" class="xref">An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks</a>" <span>[<a href="#RFC3411" class="xref">RFC3411</a>]</span>), NTP <span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span>, PTP (Precision Time Protocol <span>[<a href="#IEEE-1588-2008" class="xref">IEEE-1588-2008</a>]</span>), DNS ("<a href="#RFC3596" class="xref">DNS Extensions to Support IP Version 6</a>" <span>[<a href="#RFC3596" class="xref">RFC3596</a>]</span>), DHCPv6 ("<a href="#RFC3315" class="xref">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>" <span>[<a href="#RFC3315" class="xref">RFC3315</a>]</span>), syslog ("<a href="#RFC3164" class="xref">The BSD Syslog Protocol</a>" <span>[<a href="#RFC3164" class="xref">RFC3164</a>]</span>), RADIUS ("<a href="#RFC2865" class="xref">Remote Authentication Dial In User Service (RADIUS)</a>" <span>[<a href="#RFC2865" class="xref">RFC2865</a>]</span>), Diameter ("<a href="#RFC6733" class="xref">Diameter Base Protocol</a>" <span>[<a href="#RFC6733" class="xref">RFC6733</a>]</span>), TACACS ("<a href="#RFC1492" class="xref">An Access Control Protocol, Sometimes Called TACACS</a>" <span>[<a href="#RFC1492" class="xref">RFC1492</a>]</span>), IPFIX ("<a href="#RFC7011" class="xref">Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information</a>" <span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span>), NetFlow ("<a href="#RFC3954" class="xref">Cisco Systems NetFlow Services Export Version 9</a>" <span>[<a href="#RFC3954" class="xref">RFC3954</a>]</span>) -- just to name a few. Not all of these protocol references are necessarily the latest version of protocols, but they are versions that are still widely deployed.<a href="#section-10.2.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-10.2.1-3">The degree to which compromised ACP nodes can impact the ACP depends on the implementation of the ACP nodes and their impairment. When an attacker has only gained administrative privileges to configure ACP nodes remotely, the attacker can disrupt the ACP only through one of the few configuration options to disable it (see <a href="#enabling-acp" class="auto internal xref">Section 9.3</a>) or by the configuring of non-autonomic ACP options if those are supported on the impaired ACP nodes (see <a href="#workarounds" class="auto internal xref">Section 8</a>). Injecting traffic into or extracting traffic from an impaired ACP node is only possible when an impaired ACP node supports ACP connect (see <a href="#ACPconnect" class="auto internal xref">Section 8.1</a>), and the attacker can control traffic into/from one of the ACP node's interfaces, such as by having physical access to the ACP node.<a href="#section-10.2.1-3" class="pilcrow">¶</a></p>
> <p id="section-10.2.1-4">The ACP also serves as protection (through authentication and encryption) for protocols relevant to OAM that may not have secured protocol stack options or where implementation or deployment of those options fail due to some vendor, product, or customer limitations.  This includes protocols such as SNMP ("<a href="#RFC3411" class="internal xref">An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks</a>" <span>[<a href="#RFC3411" class="cite xref">RFC3411</a>]</span>), NTP <span>[<a href="#RFC5905" class="cite xref">RFC5905</a>]</span>, PTP (Precision Time Protocol <span>[<a href="#IEEE-1588-2008" class="cite xref">IEEE-1588-2008</a>]</span>), DNS ("<a href="#RFC3596" class="internal xref">DNS Extensions to Support IP Version 6</a>" <span>[<a href="#RFC3596" class="cite xref">RFC3596</a>]</span>), DHCPv6 ("<a href="#RFC3315" class="internal xref">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>" <span>[<a href="#RFC3315" class="cite xref">RFC3315</a>]</span>), syslog ("<a href="#RFC3164" class="internal xref">The BSD Syslog Protocol</a>" <span>[<a href="#RFC3164" class="cite xref">RFC3164</a>]</span>), RADIUS ("<a href="#RFC2865" class="internal xref">Remote Authentication Dial In User Service (RADIUS)</a>" <span>[<a href="#RFC2865" class="cite xref">RFC2865</a>]</span>), Diameter ("<a href="#RFC6733" class="internal xref">Diameter Base Protocol</a>" <span>[<a href="#RFC6733" class="cite xref">RFC6733</a>]</span>), TACACS ("<a href="#RFC1492" class="internal xref">An Access Control Protocol, Sometimes Called TACACS</a>" <span>[<a href="#RFC1492" class="cite xref">RFC1492</a>]</span>), IPFIX ("<a href="#RFC7011" class="internal xref">Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information</a>" <span>[<a href="#RFC7011" class="cite xref">RFC7011</a>]</span>), NetFlow ("<a href="#RFC3954" class="internal xref">Cisco Systems NetFlow Services Export Version 9</a>" <span>[<a href="#RFC3954" class="cite xref">RFC3954</a>]</span>) -- just to name a few. Not all of these protocol references are necessarily the latest version of protocols, but they are versions that are still widely deployed.<a href="#section-10.2.1-4" class="pilcrow">¶</a></p>
6072c6100
< <p id="section-10.2.2-4">See <a href="#compromised" class="xref">Appendix A.9.8</a> for further considerations on avoiding and dealing with
---
> <p id="section-10.2.2-4">See <a href="#compromised" class="auto internal xref">Appendix A.9.8</a> for further considerations on avoiding and dealing with
6084c6112
< <p id="section-10.3-2">While configuration (except for <a href="#workarounds" class="xref">Section 8</a> and  <a href="#registrar-considerations" class="xref">Section 9.2</a>)
---
> <p id="section-10.3-2">While configuration (except for <a href="#workarounds" class="auto internal xref">Section 8</a> and  <a href="#registrar-considerations" class="auto internal xref">Section 9.2</a>)
6086c6114
< <p id="section-10.3-3">Since an ACP is self-protecting, a node that does not support the ACP or that does not have a valid domain certificate cannot connect to it.  This means that by default a traditional controller or NMS cannot connect to an ACP.  See <a href="#NMS" class="xref">Section 8.1.1</a> for details on how to connect an NMS host to the ACP.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
---
> <p id="section-10.3-3">Since an ACP is self-protecting, a node that does not support the ACP or that does not have a valid domain certificate cannot connect to it.  This means that by default a traditional controller or NMS cannot connect to an ACP.  See <a href="#NMS" class="auto internal xref">Section 8.1.1</a> for details on how to connect an NMS host to the ACP.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
6097c6125
< <p id="section-11-2">The self-protecting property does not include workarounds for non-autonomic components as explained in <a href="#workarounds" class="xref">Section 8</a>. See <a href="#self-protecting" class="xref">Section 10.2</a> for details of how the ACP protects itself against attacks from the outside and, to a more limited degree, from the inside as well.<a href="#section-11-2" class="pilcrow">¶</a></p>
---
> <p id="section-11-2">The self-protecting property does not include workarounds for non-autonomic components as explained in <a href="#workarounds" class="auto internal xref">Section 8</a>. See <a href="#self-protecting" class="auto internal xref">Section 10.2</a> for details of how the ACP protects itself against attacks from the outside and, to a more limited degree, from the inside as well.<a href="#section-11-2" class="pilcrow">¶</a></p>
6102c6130
<         <li class="normal" id="section-11-4.2">ACP nodes receive their certificates from ACP registrars. These ACP registrars are security-critical dependencies of the ACP.  Procedures and protocols for ACP registrars are outside the scope of this specification as explained in <a href="#registrars-protocols" class="xref">Section 6.11.7.1</a>; only the requirements for the resulting ACP certificates are specified.<a href="#section-11-4.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-11-4.2">ACP nodes receive their certificates from ACP registrars. These ACP registrars are security-critical dependencies of the ACP.  Procedures and protocols for ACP registrars are outside the scope of this specification as explained in <a href="#registrars-protocols" class="auto internal xref">Section 6.11.7.1</a>; only the requirements for the resulting ACP certificates are specified.<a href="#section-11-4.2" class="pilcrow">¶</a>
6114c6142
<         <li class="normal" id="section-11-4.8">Renewal of ACP certificates requires support for EST; therefore, the security considerations of <span>[<a href="#RFC7030" class="xref">RFC7030</a>]</span> related to certificate renewal and/or rekeying and TP renewal apply to the ACP. EST security considerations when using other than mutual certificate authentication do not apply, nor do considerations for initial enrollment via EST apply, except for ANI-type ACP nodes because BRSKI leverages EST.<a href="#section-11-4.8" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-11-4.8">Renewal of ACP certificates requires support for EST; therefore, the security considerations of <span>[<a href="#RFC7030" class="cite xref">RFC7030</a>]</span> related to certificate renewal and/or rekeying and TP renewal apply to the ACP. EST security considerations when using other than mutual certificate authentication do not apply, nor do considerations for initial enrollment via EST apply, except for ANI-type ACP nodes because BRSKI leverages EST.<a href="#section-11-4.8" class="pilcrow">¶</a>
6116c6144
<         <li class="normal" id="section-11-4.9">A malicious ACP node could declare itself to be an EST server via GRASP across the ACP if malicious software could be executed on it. The CA should therefore authenticate only known trustworthy EST servers, such as nodes with hardware protections against malicious software. When registrars use their ACP certificate to authenticate towards a CA, the id-kp-cmcRA <span>[<a href="#RFC6402" class="xref">RFC6402</a>]</span> extended key usage attribute allows the CA to determine that the ACP node was permitted during enrollment to act as an ACP registrar.  Without the ability to talk to the CA, a malicious EST server can still attract ACP nodes attempting to renew their keying material, but they will fail to perform successful renewal of a valid ACP certificate. The ACP node attempting to use the malicious EST server can then continue to use a different EST server and log a failure against a malicious EST server.<a href="#section-11-4.9" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-11-4.9">A malicious ACP node could declare itself to be an EST server via GRASP across the ACP if malicious software could be executed on it. The CA should therefore authenticate only known trustworthy EST servers, such as nodes with hardware protections against malicious software. When registrars use their ACP certificate to authenticate towards a CA, the id-kp-cmcRA <span>[<a href="#RFC6402" class="cite xref">RFC6402</a>]</span> extended key usage attribute allows the CA to determine that the ACP node was permitted during enrollment to act as an ACP registrar.  Without the ability to talk to the CA, a malicious EST server can still attract ACP nodes attempting to renew their keying material, but they will fail to perform successful renewal of a valid ACP certificate. The ACP node attempting to use the malicious EST server can then continue to use a different EST server and log a failure against a malicious EST server.<a href="#section-11-4.9" class="pilcrow">¶</a>
6124,6125c6152,6153
< <p id="section-11-6">Because ACP peers select one out of potentially more than one mutually supported ACP secure channel protocols via the approach described in <a href="#channel-selection" class="xref">Section 6.6</a>, ACP secure channel setup is subject to downgrade attacks by MITM attackers. This can be discovered after such an attack by additional mechanisms described in <a href="#downgrade" class="xref">Appendix A.9.9</a>. Alternatively, more advanced channel selection mechanisms can be devised.<a href="#section-11-6" class="pilcrow">¶</a></p>
< <p id="section-11-7">The security model of the ACP as defined in this document is tailored for use with private PKI. The TA of a private PKI provides the security against maliciously created ACP certificates that give access to an ACP. Such attacks can create fake ACP certificates with correct-looking AcpNodeNames, but those certificates would not pass the certificate path validation of the ACP domain membership check (see <a href="#certcheck" class="xref">Section 6.2.3</a>, point 2).<a href="#section-11-7" class="pilcrow">¶</a></p>
---
> <p id="section-11-6">Because ACP peers select one out of potentially more than one mutually supported ACP secure channel protocols via the approach described in <a href="#channel-selection" class="auto internal xref">Section 6.6</a>, ACP secure channel setup is subject to downgrade attacks by MITM attackers. This can be discovered after such an attack by additional mechanisms described in <a href="#downgrade" class="auto internal xref">Appendix A.9.9</a>. Alternatively, more advanced channel selection mechanisms can be devised.<a href="#section-11-6" class="pilcrow">¶</a></p>
> <p id="section-11-7">The security model of the ACP as defined in this document is tailored for use with private PKI. The TA of a private PKI provides the security against maliciously created ACP certificates that give access to an ACP. Such attacks can create fake ACP certificates with correct-looking AcpNodeNames, but those certificates would not pass the certificate path validation of the ACP domain membership check (see <a href="#certcheck" class="auto internal xref">Section 6.2.3</a>, point 2).<a href="#section-11-7" class="pilcrow">¶</a></p>
6131,6133c6159,6161
< <p id="section-11-13">Mitigation against compromised ACP members is possible through standard automated certificate management mechanisms including revocation and nonrenewal of short-lived certificates. In this specification, there are no further optimizations of these mechanisms defined for the ACP (but see <a href="#compromised" class="xref">Appendix A.9.8</a>).<a href="#section-11-13" class="pilcrow">¶</a></p>
< <p id="section-11-14">Higher-layer service built using ACP certificates should not solely rely on undifferentiated group security when another model is more appropriate or more secure. For example, central network configuration relies on a security model where only a few especially trusted nodes are allowed to configure the data plane of network nodes (CLI, NETCONF). This can be done through ACP certificates by differentiating them and introducing roles. See <a href="#role-assignments" class="xref">Appendix A.9.5</a>.<a href="#section-11-14" class="pilcrow">¶</a></p>
< <p id="section-11-15">Operators and developers of provisioning software need to be aware of how the provisioning and configuration of network devices impacts the ability of the operator and/or provisioning software to remotely access the network nodes. By using the ACP, most of the issues of provisioning/configuration causing connectivity loss of remote provisioning and configuration will be eliminated, see <a href="#self-creation" class="xref">Section 6</a>. Only a few exceptions, such as explicit physical interface down configuration, will be left. See <a href="#admin-down" class="xref">Section 9.3.2</a>.<a href="#section-11-15" class="pilcrow">¶</a></p>
---
> <p id="section-11-13">Mitigation against compromised ACP members is possible through standard automated certificate management mechanisms including revocation and nonrenewal of short-lived certificates. In this specification, there are no further optimizations of these mechanisms defined for the ACP (but see <a href="#compromised" class="auto internal xref">Appendix A.9.8</a>).<a href="#section-11-13" class="pilcrow">¶</a></p>
> <p id="section-11-14">Higher-layer service built using ACP certificates should not solely rely on undifferentiated group security when another model is more appropriate or more secure. For example, central network configuration relies on a security model where only a few especially trusted nodes are allowed to configure the data plane of network nodes (CLI, NETCONF). This can be done through ACP certificates by differentiating them and introducing roles. See <a href="#role-assignments" class="auto internal xref">Appendix A.9.5</a>.<a href="#section-11-14" class="pilcrow">¶</a></p>
> <p id="section-11-15">Operators and developers of provisioning software need to be aware of how the provisioning and configuration of network devices impacts the ability of the operator and/or provisioning software to remotely access the network nodes. By using the ACP, most of the issues of provisioning/configuration causing connectivity loss of remote provisioning and configuration will be eliminated, see <a href="#self-creation" class="auto internal xref">Section 6</a>. Only a few exceptions, such as explicit physical interface down configuration, will be left. See <a href="#admin-down" class="auto internal xref">Section 9.3.2</a>.<a href="#section-11-15" class="pilcrow">¶</a></p>
6135,6142c6163,6170
< <p id="section-11-17">IPv6 addresses used by nodes in the ACP are covered as part of the node's domain certificate as described in <a href="#domcert-acpinfo" class="xref">Section 6.2.2</a>.  This allows even verification of ownership of a peer's IPv6 address when using a connection authenticated with the domain certificate.<a href="#section-11-17" class="pilcrow">¶</a></p>
< <p id="section-11-18">The ACP acts as a security (and transport) substrate for GRASP inside the ACP such that GRASP is not only protected by attacks from the outside, but also by attacks from compromised inside attackers -- by relying not only on hop-by-hop security of ACP secure channels, but also by adding end-to-end security for those GRASP messages.  See <a href="#GRASP-substrate" class="xref">Section 6.9.2</a>.<a href="#section-11-18" class="pilcrow">¶</a></p>
< <p id="section-11-19">ACP provides for secure, resilient zero-touch discovery of EST servers for certificate renewal.  See <a href="#domcert-maint" class="xref">Section 6.2.5</a>.<a href="#section-11-19" class="pilcrow">¶</a></p>
< <p id="section-11-20">ACP provides extensible, autoconfiguring hop-by-hop protection of the ACP infrastructure via the negotiation of hop-by-hop secure channel protocols.  See <a href="#channel-selection" class="xref">Section 6.6</a>.<a href="#section-11-20" class="pilcrow">¶</a></p>
< <p id="section-11-21">The ACP is designed to minimize attacks from the outside by minimizing its dependency on any non-ACP (data plane) operations and/or configuration on a node.  See also <a href="#general_addressing" class="xref">Section 6.13.2</a>.<a href="#section-11-21" class="pilcrow">¶</a></p>
< <p id="section-11-22">In combination with BRSKI, ACP enables a resilient, fully zero-touch network solution for short-lived certificates that can be renewed or reenrolled even after unintentional expiry (e.g., due to interrupted connectivity).  See <a href="#bootstrap" class="xref">Appendix A.2</a>.<a href="#section-11-22" class="pilcrow">¶</a></p>
< <p id="section-11-23">Because ACP secure channels can be long lived, but certificates used may be short-lived, secure channels, for example, built via IPsec, need to be terminated when peer certificates expire. See <a href="#Profiles" class="xref">Section 6.8.5</a>.<a href="#section-11-23" class="pilcrow">¶</a></p>
< <p id="section-11-24"><a href="#acp-l2-switches-how" class="xref">Section 7.2</a> describes how to implement a routed
---
> <p id="section-11-17">IPv6 addresses used by nodes in the ACP are covered as part of the node's domain certificate as described in <a href="#domcert-acpinfo" class="auto internal xref">Section 6.2.2</a>.  This allows even verification of ownership of a peer's IPv6 address when using a connection authenticated with the domain certificate.<a href="#section-11-17" class="pilcrow">¶</a></p>
> <p id="section-11-18">The ACP acts as a security (and transport) substrate for GRASP inside the ACP such that GRASP is not only protected by attacks from the outside, but also by attacks from compromised inside attackers -- by relying not only on hop-by-hop security of ACP secure channels, but also by adding end-to-end security for those GRASP messages.  See <a href="#GRASP-substrate" class="auto internal xref">Section 6.9.2</a>.<a href="#section-11-18" class="pilcrow">¶</a></p>
> <p id="section-11-19">ACP provides for secure, resilient zero-touch discovery of EST servers for certificate renewal.  See <a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>.<a href="#section-11-19" class="pilcrow">¶</a></p>
> <p id="section-11-20">ACP provides extensible, autoconfiguring hop-by-hop protection of the ACP infrastructure via the negotiation of hop-by-hop secure channel protocols.  See <a href="#channel-selection" class="auto internal xref">Section 6.6</a>.<a href="#section-11-20" class="pilcrow">¶</a></p>
> <p id="section-11-21">The ACP is designed to minimize attacks from the outside by minimizing its dependency on any non-ACP (data plane) operations and/or configuration on a node.  See also <a href="#general_addressing" class="auto internal xref">Section 6.13.2</a>.<a href="#section-11-21" class="pilcrow">¶</a></p>
> <p id="section-11-22">In combination with BRSKI, ACP enables a resilient, fully zero-touch network solution for short-lived certificates that can be renewed or reenrolled even after unintentional expiry (e.g., due to interrupted connectivity).  See <a href="#bootstrap" class="auto internal xref">Appendix A.2</a>.<a href="#section-11-22" class="pilcrow">¶</a></p>
> <p id="section-11-23">Because ACP secure channels can be long lived, but certificates used may be short-lived, secure channels, for example, built via IPsec, need to be terminated when peer certificates expire. See <a href="#Profiles" class="auto internal xref">Section 6.8.5</a>.<a href="#section-11-23" class="pilcrow">¶</a></p>
> <p id="section-11-24"><a href="#acp-l2-switches-how" class="auto internal xref">Section 7.2</a> describes how to implement a routed
6167c6195
< <p id="section-12-4">IANA has registered the names in <a href="#iana-objnames" class="xref">Table 2</a> in 
---
> <p id="section-12-4">IANA has registered the names in <a href="#iana-objnames" class="auto internal xref">Table 2</a> in 
6184c6212
<             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#discovery-grasp" class="xref">Section 6.4</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#discovery-grasp" class="auto internal xref">Section 6.4</a>)</td>
6188c6216
<             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#domcert-maint" class="xref">Section 6.2.5</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#domcert-maint" class="auto internal xref">Section 6.2.5</a>)</td>
6193c6221
< <p id="section-12-6">Explanation: this document chooses the initially strange looking format "SRV.&lt;service-name&gt;" because these objective names would be in line with potential future simplification of the GRASP objective registry. Today, every name in the GRASP objective registry needs to be explicitly allocated by IANA. In the future, this type of objective names could be considered to be automatically registered in that registry for the same service for which a &lt;service-name&gt; is registered according to <span>[<a href="#RFC6335" class="xref">RFC6335</a>]</span>. This explanation is solely informational and has no impact on the requested registration.<a href="#section-12-6" class="pilcrow">¶</a></p>
---
> <p id="section-12-6">Explanation: this document chooses the initially strange looking format "SRV.&lt;service-name&gt;" because these objective names would be in line with potential future simplification of the GRASP objective registry. Today, every name in the GRASP objective registry needs to be explicitly allocated by IANA. In the future, this type of objective names could be considered to be automatically registered in that registry for the same service for which a &lt;service-name&gt; is registered according to <span>[<a href="#RFC6335" class="cite xref">RFC6335</a>]</span>. This explanation is solely informational and has no impact on the requested registration.<a href="#section-12-6" class="pilcrow">¶</a></p>
6195c6223
< the subregistry, "ACP Address Type" (<a href="#iana-acpaddresstype" class="xref">Table 3</a>).<a href="#section-12-7" class="pilcrow">¶</a></p>
---
> the subregistry, "ACP Address Type" (<a href="#iana-acpaddresstype" class="auto internal xref">Table 3</a>).<a href="#section-12-7" class="pilcrow">¶</a></p>
6213c6241
<             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#zone-scheme" class="xref">Section 6.11.3</a>, <a href="#manual-scheme" class="xref">Section 6.11.4</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#zone-scheme" class="auto internal xref">Section 6.11.3</a>, <a href="#manual-scheme" class="auto internal xref">Section 6.11.4</a>)</td>
6218c6246
<             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#Vlong" class="xref">Section 6.11.5</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">RFC 8994 (<a href="#Vlong" class="auto internal xref">Section 6.11.5</a>)</td>
6228c6256
< <p id="section-12-9">The values in the "ACP Address Type" subregistry are numeric values 0..3 paired with a name (string).  Future values <span class="bcp14">MUST</span> be assigned using the Standards Action policy defined by "<a href="#RFC8126" class="xref">Guidelines for Writing an IANA Considerations Section in RFCs</a>" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-12-9" class="pilcrow">¶</a></p>
---
> <p id="section-12-9">The values in the "ACP Address Type" subregistry are numeric values 0..3 paired with a name (string).  Future values <span class="bcp14">MUST</span> be assigned using the Standards Action policy defined by "<a href="#RFC8126" class="internal xref">Guidelines for Writing an IANA Considerations Section in RFCs</a>" <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>.<a href="#section-12-9" class="pilcrow">¶</a></p>
6672c6700
< <section id="section-appendix.a">
---
> <section id="appendix-A">
6674c6702
< <a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-background-and-future-infor" class="section-name selfRef">Background and Future (Informative)</a>
---
> <a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-background-and-future-infor" class="section-name selfRef">Background and Future (Informative)</a>
6676c6704
< <p id="section-appendix.a-1">The following sections provide background information about aspects of the normative parts of this document or associated mechanisms such as BRSKI (such as why specific choices were made by the ACP), and they discuss possible future variations of the ACP.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
---
> <p id="appendix-A-1">The following sections provide background information about aspects of the normative parts of this document or associated mechanisms such as BRSKI (such as why specific choices were made by the ACP), and they discuss possible future variations of the ACP.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
6678,6682c6706,6710
< <section id="section-a.1">
<         <h2 id="name-acp-address-space-schemes">
< <a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-acp-address-space-schemes" class="section-name selfRef">ACP Address Space Schemes</a>
<         </h2>
< <p id="section-a.1-1">This document defines the Zone, Vlong, and Manual Addressing Sub-Schemes primarily to support address prefix assignment
---
> <section id="appendix-A.1">
>         <h3 id="name-acp-address-space-schemes">
> <a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-acp-address-space-schemes" class="section-name selfRef">ACP Address Space Schemes</a>
>         </h3>
> <p id="appendix-A.1-1">This document defines the Zone, Vlong, and Manual Addressing Sub-Schemes primarily to support address prefix assignment
6684c6712
< in <a href="#acp-registrars" class="xref">Section 6.11.7</a>. This
---
> in <a href="#acp-registrars" class="auto internal xref">Section 6.11.7</a>. This
6691,6693c6719,6721
< separate prefixes.<a href="#section-a.1-1" class="pilcrow">¶</a></p>
< <p id="section-a.1-2">In networks that expect always to rely on a centralized PMS
< as described <a href="#pms" class="xref">Section 9.2.5</a>, the 48/46-bits for
---
> separate prefixes.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-2">In networks that expect always to rely on a centralized PMS
> as described <a href="#pms" class="auto internal xref">Section 9.2.5</a>, the 48/46-bits for
6704,6705c6732,6733
< acp-node-name.<a href="#section-a.1-2" class="pilcrow">¶</a></p>
< <p id="section-a.1-3">Note that an explicitly defined Manual Addressing Sub-Scheme
---
> acp-node-name.<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-3">Note that an explicitly defined Manual Addressing Sub-Scheme
6710c6738
< ACP certificates.<a href="#section-a.1-3" class="pilcrow">¶</a></p>
---
> ACP certificates.<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
6714,6722c6742,6750
< <section id="section-a.2">
<         <h2 id="name-brski-bootstrap-ani">
< <a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-brski-bootstrap-ani" class="section-name selfRef">BRSKI Bootstrap (ANI)</a>
<         </h2>
< <p id="section-a.2-1">BRSKI describes how nodes with an IDevID certificate can securely and zero-touch enroll with an LDevID certificate to support the ACP.  BRSKI also leverages the ACP to enable zero-touch bootstrap of new nodes across networks without any configuration requirements across the transit nodes (e.g., no DHCP, DNS forwarding, and/or server setup).  This includes otherwise unconfigured networks as described in <a href="#secure-bootstrap" class="xref">Section 3.2</a>.  Therefore, BRSKI in conjunction with ACP provides for a secure and zero-touch management solution for complete networks.  Nodes supporting such an infrastructure (BRSKI and ACP) are called ANI nodes (Autonomic Networking Infrastructure), see <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span>.  Nodes that do not support an IDevID certificate but only an (insecure) vendor-specific Unique Device Identifier (UDI) or nodes whose manufacturer does not support a MASA could use some future, reduced-security version of BRSKI.<a href="#section-a.2-1" class="pilcrow">¶</a></p>
< <p id="section-a.2-2">When BRSKI is used to provision a domain certificate (which is called enrollment), the BRSKI registrar (acting as an enhanced EST server) must include the otherName / AcpNodeName encoded ACP address and domain name to the enrolling node (called a pledge) via its response to the pledge's EST CSR Attributes Request that is mandatory in BRSKI.<a href="#section-a.2-2" class="pilcrow">¶</a></p>
< <p id="section-a.2-3">The CA in an ACP network must not change the otherName / AcpNodeName in the certificate.  The ACP nodes can therefore find their ACP addresses and domain using this field in the domain certificate, both for themselves as well as for other nodes.<a href="#section-a.2-3" class="pilcrow">¶</a></p>
< <p id="section-a.2-4">The use of BRSKI in conjunction with the ACP can also help to further simplify maintenance and renewal of domain certificates.  Instead of relying on CRL, the lifetime of certificates can be made extremely small, for example, on the order of hours.  When a node fails to connect to the ACP within its certificate lifetime, it cannot connect to the ACP to renew its certificate across it (using just EST), but it can still renew its certificate as an "enrolled/expired pledge" via the BRSKI bootstrap proxy.  This requires only that the BRSKI registrar honors expired domain certificates and that the pledge attempts to perform TLS authentication for BRSKI bootstrap using its expired domain certificate before falling back to attempting to use its IDevID certificate for BRSKI.  This mechanism could also render CRLs unnecessary because the BRSKI registrar in conjunction with the CA would not renew revoked certificates -- only a "Do-not-renew" list would be necessary on the BRSKI registrar/CA.<a href="#section-a.2-4" class="pilcrow">¶</a></p>
< <p id="section-a.2-5">In the absence of BRSKI or less secure variants thereof, the provisioning of certificates may involve one or more touches or nonstandardized automation.  Node vendors usually support the provisioning of certificates into nodes via PKCS #7 (see "<a href="#RFC2315" class="xref">PKCS #7: Cryptographic Message Syntax Version 1.5</a>" <span>[<a href="#RFC2315" class="xref">RFC2315</a>]</span>) and may support this provisioning through vendor-specific models via NETCONF ("<a href="#RFC6241" class="xref">Network Configuration Protocol (NETCONF)</a>" <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span>).  If such nodes also support NETCONF Zero Touch <span>[<a href="#RFC8572" class="xref">RFC8572</a>]</span>, then this can be combined with zero-touch provisioning of domain certificates into nodes.  Unless there is the equivalent integration of NETCONF connections across the ACP as there is in BRSKI, this combination would not support zero-touch bootstrap across an unconfigured network, though.<a href="#section-a.2-5" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.2">
>         <h3 id="name-brski-bootstrap-ani">
> <a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-brski-bootstrap-ani" class="section-name selfRef">BRSKI Bootstrap (ANI)</a>
>         </h3>
> <p id="appendix-A.2-1">BRSKI describes how nodes with an IDevID certificate can securely and zero-touch enroll with an LDevID certificate to support the ACP.  BRSKI also leverages the ACP to enable zero-touch bootstrap of new nodes across networks without any configuration requirements across the transit nodes (e.g., no DHCP, DNS forwarding, and/or server setup).  This includes otherwise unconfigured networks as described in <a href="#secure-bootstrap" class="auto internal xref">Section 3.2</a>.  Therefore, BRSKI in conjunction with ACP provides for a secure and zero-touch management solution for complete networks.  Nodes supporting such an infrastructure (BRSKI and ACP) are called ANI nodes (Autonomic Networking Infrastructure), see <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span>.  Nodes that do not support an IDevID certificate but only an (insecure) vendor-specific Unique Device Identifier (UDI) or nodes whose manufacturer does not support a MASA could use some future, reduced-security version of BRSKI.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.2-2">When BRSKI is used to provision a domain certificate (which is called enrollment), the BRSKI registrar (acting as an enhanced EST server) must include the otherName / AcpNodeName encoded ACP address and domain name to the enrolling node (called a pledge) via its response to the pledge's EST CSR Attributes Request that is mandatory in BRSKI.<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.2-3">The CA in an ACP network must not change the otherName / AcpNodeName in the certificate.  The ACP nodes can therefore find their ACP addresses and domain using this field in the domain certificate, both for themselves as well as for other nodes.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.2-4">The use of BRSKI in conjunction with the ACP can also help to further simplify maintenance and renewal of domain certificates.  Instead of relying on CRL, the lifetime of certificates can be made extremely small, for example, on the order of hours.  When a node fails to connect to the ACP within its certificate lifetime, it cannot connect to the ACP to renew its certificate across it (using just EST), but it can still renew its certificate as an "enrolled/expired pledge" via the BRSKI bootstrap proxy.  This requires only that the BRSKI registrar honors expired domain certificates and that the pledge attempts to perform TLS authentication for BRSKI bootstrap using its expired domain certificate before falling back to attempting to use its IDevID certificate for BRSKI.  This mechanism could also render CRLs unnecessary because the BRSKI registrar in conjunction with the CA would not renew revoked certificates -- only a "Do-not-renew" list would be necessary on the BRSKI registrar/CA.<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.2-5">In the absence of BRSKI or less secure variants thereof, the provisioning of certificates may involve one or more touches or nonstandardized automation.  Node vendors usually support the provisioning of certificates into nodes via PKCS #7 (see "<a href="#RFC2315" class="internal xref">PKCS #7: Cryptographic Message Syntax Version 1.5</a>" <span>[<a href="#RFC2315" class="cite xref">RFC2315</a>]</span>) and may support this provisioning through vendor-specific models via NETCONF ("<a href="#RFC6241" class="internal xref">Network Configuration Protocol (NETCONF)</a>" <span>[<a href="#RFC6241" class="cite xref">RFC6241</a>]</span>).  If such nodes also support NETCONF Zero Touch <span>[<a href="#RFC8572" class="cite xref">RFC8572</a>]</span>, then this can be combined with zero-touch provisioning of domain certificates into nodes.  Unless there is the equivalent integration of NETCONF connections across the ACP as there is in BRSKI, this combination would not support zero-touch bootstrap across an unconfigured network, though.<a href="#appendix-A.2-5" class="pilcrow">¶</a></p>
6726,6735c6754,6756
< <section id="section-a.3">
<         <h2 id="name-acp-neighbor-discovery-prot">
< <a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-acp-neighbor-discovery-prot" class="section-name selfRef">ACP Neighbor Discovery Protocol Selection</a>
<         </h2>
< <p id="section-a.3-1">This section discusses why GRASP DULL was chosen as the discovery protocol
< for L2-adjacent candidate ACP neighbors.  The contenders that were considered were GRASP, mDNS, and LLDP.<a href="#section-a.3-1" class="pilcrow">¶</a></p>
< <div id="discovery-lldp">
< <section id="section-a.3.1">
<           <h3 id="name-lldp">
< <a href="#section-a.3.1" class="section-number selfRef">A.3.1. </a><a href="#name-lldp" class="section-name selfRef">LLDP</a>
---
> <section id="appendix-A.3">
>         <h3 id="name-acp-neighbor-discovery-prot">
> <a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-acp-neighbor-discovery-prot" class="section-name selfRef">ACP Neighbor Discovery Protocol Selection</a>
6737c6758,6765
< <p id="section-a.3.1-1">LLDP and Cisco's earlier Cisco Discovery Protocol (CDP) are examples of L2 discovery protocols that terminate
---
> <p id="appendix-A.3-1">This section discusses why GRASP DULL was chosen as the discovery protocol
> for L2-adjacent candidate ACP neighbors.  The contenders that were considered were GRASP, mDNS, and LLDP.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
> <div id="discovery-lldp">
> <section id="appendix-A.3.1">
>           <h4 id="name-lldp">
> <a href="#appendix-A.3.1" class="section-number selfRef">A.3.1. </a><a href="#name-lldp" class="section-name selfRef">LLDP</a>
>           </h4>
> <p id="appendix-A.3.1-1">LLDP and Cisco's earlier Cisco Discovery Protocol (CDP) are examples of L2 discovery protocols that terminate
6743c6771
< more work than the benefit of "reusing the existing protocol" LLDP for this very simple purpose.<a href="#section-a.3.1-1" class="pilcrow">¶</a></p>
---
> more work than the benefit of "reusing the existing protocol" LLDP for this very simple purpose.<a href="#appendix-A.3.1-1" class="pilcrow">¶</a></p>
6747,6751c6775,6779
< <section id="section-a.3.2">
<           <h3 id="name-mdns-and-l2-support">
< <a href="#section-a.3.2" class="section-number selfRef">A.3.2. </a><a href="#name-mdns-and-l2-support" class="section-name selfRef">mDNS and L2 Support</a>
<           </h3>
< <p id="section-a.3.2-1">Multicast DNS (mDNS) "<a href="#RFC6762" class="xref">Multicast DNS</a>" <span>[<a href="#RFC6762" class="xref">RFC6762</a>]</span> with DNS Service Discovery (DNS-SD) Resource Records (RRs) as defined in "<a href="#RFC6763" class="xref">DNS-Based Service Discovery</a>" <span>[<a href="#RFC6763" class="xref">RFC6763</a>]</span>
---
> <section id="appendix-A.3.2">
>           <h4 id="name-mdns-and-l2-support">
> <a href="#appendix-A.3.2" class="section-number selfRef">A.3.2. </a><a href="#name-mdns-and-l2-support" class="section-name selfRef">mDNS and L2 Support</a>
>           </h4>
> <p id="appendix-A.3.2-1">Multicast DNS (mDNS) "<a href="#RFC6762" class="internal xref">Multicast DNS</a>" <span>[<a href="#RFC6762" class="cite xref">RFC6762</a>]</span> with DNS Service Discovery (DNS-SD) Resource Records (RRs) as defined in "<a href="#RFC6763" class="internal xref">DNS-Based Service Discovery</a>" <span>[<a href="#RFC6763" class="cite xref">RFC6763</a>]</span>
6756c6784
< an ACP-capable (L3)/L2 switch as outlined in <a href="#acp-l2-switches" class="xref">Section 7</a>, then this would
---
> an ACP-capable (L3)/L2 switch as outlined in <a href="#acp-l2-switches" class="auto internal xref">Section 7</a>, then this would
6762c6790
< risky to support on such L2 switches.<a href="#section-a.3.2-1" class="pilcrow">¶</a></p>
---
> risky to support on such L2 switches.<a href="#appendix-A.3.2-1" class="pilcrow">¶</a></p>
6766,6772c6794,6800
< <section id="section-a.3.3">
<           <h3 id="name-why-dull-grasp">
< <a href="#section-a.3.3" class="section-number selfRef">A.3.3. </a><a href="#name-why-dull-grasp" class="section-name selfRef">Why DULL GRASP?</a>
<           </h3>
< <p id="section-a.3.3-1">LLDP was not considered because of the above mentioned issues. mDNS was not selected
< because of the above L2 mDNS considerations and because of the following additional points.<a href="#section-a.3.3-1" class="pilcrow">¶</a></p>
< <p id="section-a.3.3-2">If mDNS was not already existing in a node, it would be more work to implement than
---
> <section id="appendix-A.3.3">
>           <h4 id="name-why-dull-grasp">
> <a href="#appendix-A.3.3" class="section-number selfRef">A.3.3. </a><a href="#name-why-dull-grasp" class="section-name selfRef">Why DULL GRASP?</a>
>           </h4>
> <p id="appendix-A.3.3-1">LLDP was not considered because of the above mentioned issues. mDNS was not selected
> because of the above L2 mDNS considerations and because of the following additional points.<a href="#appendix-A.3.3-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.3.3-2">If mDNS was not already existing in a node, it would be more work to implement than
6775c6803
< GRASP and GRASP in the ACP.<a href="#section-a.3.3-2" class="pilcrow">¶</a></p>
---
> GRASP and GRASP in the ACP.<a href="#appendix-A.3.3-2" class="pilcrow">¶</a></p>
6781,6786c6809,6814
< <section id="section-a.4">
<         <h2 id="name-choice-of-routing-protocol-">
< <a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-choice-of-routing-protocol-" class="section-name selfRef">Choice of Routing Protocol (RPL)</a>
<         </h2>
< <p id="section-a.4-1">This section motivates why RPL ("IPv6 Routing Protocol for Low-Power and Lossy Networks <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>) was chosen as the default (and in this specification only) routing protocol for the ACP.  The choice and above explained profile were derived from a pre-standard implementation of ACP that was successfully deployed in operational networks.<a href="#section-a.4-1" class="pilcrow">¶</a></p>
< <p id="section-a.4-2">The requirements for routing in the ACP are the following:<a href="#section-a.4-2" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.4">
>         <h3 id="name-choice-of-routing-protocol-">
> <a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-choice-of-routing-protocol-" class="section-name selfRef">Choice of Routing Protocol (RPL)</a>
>         </h3>
> <p id="appendix-A.4-1">This section motivates why RPL ("IPv6 Routing Protocol for Low-Power and Lossy Networks <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>) was chosen as the default (and in this specification only) routing protocol for the ACP.  The choice and above explained profile were derived from a pre-standard implementation of ACP that was successfully deployed in operational networks.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.4-2">The requirements for routing in the ACP are the following:<a href="#appendix-A.4-2" class="pilcrow">¶</a></p>
6788c6816
< <li class="normal" id="section-a.4-3.1">Self-management: the ACP must build automatically, without human
---
> <li class="normal" id="appendix-A.4-3.1">Self-management: the ACP must build automatically, without human
6792c6820
<    configuration is carried as part of the protocol (see <span><a href="https://www.rfc-editor.org/rfc/rfc6550#section-6.7.6" class="relref">Section 6.7.6</a> of [<a href="#RFC6550" class="xref">RFC6550</a>]</span>).<a href="#section-a.4-3.1" class="pilcrow">¶</a>
---
>    configuration is carried as part of the protocol (see <span><a href="https://rfc-editor.org/rfc/rfc6550#section-6.7.6" class="relref">Section 6.7.6</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>).<a href="#appendix-A.4-3.1" class="pilcrow">¶</a>
6794c6822
<           <li class="normal" id="section-a.4-3.2">Scale: the ACP builds over an entire domain, which could be a large enterprise or service provider network.  The routing protocol must therefore support domains of 100,000 nodes or more, ideally without the need for zoning or separation into areas.  RPL has this scale property.  This is based on extensive use of default routing.<a href="#section-a.4-3.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="appendix-A.4-3.2">Scale: the ACP builds over an entire domain, which could be a large enterprise or service provider network.  The routing protocol must therefore support domains of 100,000 nodes or more, ideally without the need for zoning or separation into areas.  RPL has this scale property.  This is based on extensive use of default routing.<a href="#appendix-A.4-3.2" class="pilcrow">¶</a>
6796c6824
<           <li class="normal" id="section-a.4-3.3">Low resource consumption: the ACP supports traditional network infrastructure, thus runs in addition to traditional protocols.  The ACP, and specifically the routing protocol, must have low resource consumption requirements, both in terms of memory and CPU.  Specifically, at edge nodes, where memory and CPU are scarce, consumption should be minimal.  RPL builds a DODAG, where the main resource consumption is at the root of the DODAG.  The closer to the edge of the network, the less state needs to be maintained.  This adapts nicely to the typical network design.  Also, all changes below a common parent node are kept below that parent node.<a href="#section-a.4-3.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="appendix-A.4-3.3">Low resource consumption: the ACP supports traditional network infrastructure, thus runs in addition to traditional protocols.  The ACP, and specifically the routing protocol, must have low resource consumption requirements, both in terms of memory and CPU.  Specifically, at edge nodes, where memory and CPU are scarce, consumption should be minimal.  RPL builds a DODAG, where the main resource consumption is at the root of the DODAG.  The closer to the edge of the network, the less state needs to be maintained.  This adapts nicely to the typical network design.  Also, all changes below a common parent node are kept below that parent node.<a href="#appendix-A.4-3.3" class="pilcrow">¶</a>
6798c6826
<           <li class="normal" id="section-a.4-3.4">Support for unstructured address space: in the ANI, node addresses are identifiers, they and may not be assigned in a topological way.  Also, nodes may move topologically, without changing their address.  Therefore, the routing protocol must support completely unstructured address space.  RPL is specifically made for mobile, ad hoc networks, with no assumptions on topologically aligned addressing.<a href="#section-a.4-3.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="appendix-A.4-3.4">Support for unstructured address space: in the ANI, node addresses are identifiers, they and may not be assigned in a topological way.  Also, nodes may move topologically, without changing their address.  Therefore, the routing protocol must support completely unstructured address space.  RPL is specifically made for mobile, ad hoc networks, with no assumptions on topologically aligned addressing.<a href="#appendix-A.4-3.4" class="pilcrow">¶</a>
6800c6828
<           <li class="normal" id="section-a.4-3.5">Modularity: to keep the initial implementation small, yet allow for more complex methods later, it is highly desirable that the routing protocol has a simple base functionality, but can import new functional modules if needed.  RPL has this property with the concept of "Objective Function", which is a plugin to modify routing behavior.<a href="#section-a.4-3.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="appendix-A.4-3.5">Modularity: to keep the initial implementation small, yet allow for more complex methods later, it is highly desirable that the routing protocol has a simple base functionality, but can import new functional modules if needed.  RPL has this property with the concept of "Objective Function", which is a plugin to modify routing behavior.<a href="#appendix-A.4-3.5" class="pilcrow">¶</a>
6802c6830
<           <li id="section-a.4-3.6" class="normal">
---
>           <li id="appendix-A.4-3.6" class="normal">
6806c6834
< <li class="normal" id="section-a.4-3.7">Multi-topology support: it may become necessary in the future to support more than one DODAG for different purposes, using different Objective Functions.  RPL allow for the creation of several parallel DODAGs should this be required.  This could be used to create different topologies to reach different roots.<a href="#section-a.4-3.7" class="pilcrow">¶</a>
---
> <li class="normal" id="appendix-A.4-3.7">Multi-topology support: it may become necessary in the future to support more than one DODAG for different purposes, using different Objective Functions.  RPL allow for the creation of several parallel DODAGs should this be required.  This could be used to create different topologies to reach different roots.<a href="#appendix-A.4-3.7" class="pilcrow">¶</a>
6808c6836
<           <li class="normal" id="section-a.4-3.8">No need for path optimization: RPL does not necessarily compute the optimal path between any two nodes.  However, the ACP does not require this today, since it carries mainly delay-insensitive feedback loops.  It is possible that different optimization schemes will become necessary in the future, but RPL can be expanded (see <a href="#extens" class="xref">"Extensibility"</a> above).<a href="#section-a.4-3.8" class="pilcrow">¶</a>
---
>           <li class="normal" id="appendix-A.4-3.8">No need for path optimization: RPL does not necessarily compute the optimal path between any two nodes.  However, the ACP does not require this today, since it carries mainly delay-insensitive feedback loops.  It is possible that different optimization schemes will become necessary in the future, but RPL can be expanded (see <a href="#extens" class="internal xref">"Extensibility"</a> above).<a href="#appendix-A.4-3.8" class="pilcrow">¶</a>
6814,6818c6842,6846
< <section id="section-a.5">
<         <h2 id="name-acp-information-distributio">
< <a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-acp-information-distributio" class="section-name selfRef">ACP Information Distribution and Multicast</a>
<         </h2>
< <p id="section-a.5-1">IP multicast is not used by the ACP because the ANI itself does not require IP multicast 
---
> <section id="appendix-A.5">
>         <h3 id="name-acp-information-distributio">
> <a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-acp-information-distributio" class="section-name selfRef">ACP Information Distribution and Multicast</a>
>         </h3>
> <p id="appendix-A.5-1">IP multicast is not used by the ACP because the ANI itself does not require IP multicast 
6820c6848
<         necessary to develop a zero-touch autoconfiguring solution for ASM (Any Source Multicast - the original form of IP multicast defined in "<a href="#RFC1112" class="xref">Host extensions for IP multicasting</a>" <span>[<a href="#RFC1112" class="xref">RFC1112</a>]</span>), which
---
>         necessary to develop a zero-touch autoconfiguring solution for ASM (Any Source Multicast - the original form of IP multicast defined in "<a href="#RFC1112" class="internal xref">Host extensions for IP multicasting</a>" <span>[<a href="#RFC1112" class="cite xref">RFC1112</a>]</span>), which
6824,6825c6852,6853
<         routers that should be PIM Sparse Mode (PIM-SM) Rendezvous Points (RPs) (see "<a href="#RFC7761" class="xref">Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)</a>" <span>[<a href="#RFC7761" class="xref">RFC7761</a>]</span>).  The other aspects of complexity
<         are the implementation of MLD ("<a href="#RFC4604" class="xref">Using Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for Source-Specific Multicast</a>" <span>[<a href="#RFC4604" class="xref">RFC4604</a>]</span>), PIM-SM, and Anycast-RP (see "<a href="#RFC4610" class="xref">Anycast-RP Using Protocol Independent Multicast (PIM)</a>" <span>[<a href="#RFC4610" class="xref">RFC4610</a>]</span>).  If those implementations already
---
>         routers that should be PIM Sparse Mode (PIM-SM) Rendezvous Points (RPs) (see "<a href="#RFC7761" class="internal xref">Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)</a>" <span>[<a href="#RFC7761" class="cite xref">RFC7761</a>]</span>).  The other aspects of complexity
>         are the implementation of MLD ("<a href="#RFC4604" class="internal xref">Using Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for Source-Specific Multicast</a>" <span>[<a href="#RFC4604" class="cite xref">RFC4604</a>]</span>), PIM-SM, and Anycast-RP (see "<a href="#RFC4610" class="internal xref">Anycast-RP Using Protocol Independent Multicast (PIM)</a>" <span>[<a href="#RFC4610" class="cite xref">RFC4610</a>]</span>).  If those implementations already
6828,6829c6856,6857
<         of performing only service discovery.<a href="#section-a.5-1" class="pilcrow">¶</a></p>
< <p id="section-a.5-2">Some future ASA may need high-performance, in-network data replication.  That is the case
---
>         of performing only service discovery.<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.5-2">Some future ASA may need high-performance, in-network data replication.  That is the case
6831c6859
<         from ACP GRASP, and then they do not need ASM but only SSM (see "<a href="#RFC4607" class="xref">Source-Specific Multicast for IP</a>" <span>[<a href="#RFC4607" class="xref">RFC4607</a>]</span>)
---
>         from ACP GRASP, and then they do not need ASM but only SSM (see "<a href="#RFC4607" class="internal xref">Source-Specific Multicast for IP</a>" <span>[<a href="#RFC4607" class="cite xref">RFC4607</a>]</span>)
6834,6835c6862,6863
<         on all nodes, and it only requires a simpler version of MLD (see "<a href="#RFC5790" class="xref">Lightweight Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Version 2 (MLDv2) Protocols</a>" <span>[<a href="#RFC5790" class="xref">RFC5790</a>]</span>).<a href="#section-a.5-2" class="pilcrow">¶</a></p>
< <p id="section-a.5-3">IGP routing protocols based on LSP (Link State Protocol) typically have a mechanism to
---
>         on all nodes, and it only requires a simpler version of MLD (see "<a href="#RFC5790" class="internal xref">Lightweight Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Version 2 (MLDv2) Protocols</a>" <span>[<a href="#RFC5790" class="cite xref">RFC5790</a>]</span>).<a href="#appendix-A.5-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.5-3">IGP routing protocols based on LSP (Link State Protocol) typically have a mechanism to
6842,6843c6870,6871
<         the M_DISCOVERY method is more efficient than flooding across the whole domain.<a href="#section-a.5-3" class="pilcrow">¶</a></p>
< <p id="section-a.5-4">Because the ACP uses RPL, one desirable future extension is to use RPL's existing 
---
>         the M_DISCOVERY method is more efficient than flooding across the whole domain.<a href="#appendix-A.5-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.5-4">Because the ACP uses RPL, one desirable future extension is to use RPL's existing 
6845c6873
<         both for M_FLOOD and M_DISCOVERY. See <a href="#ACP_interfaces" class="xref">Section 6.13.5</a> for how this will be
---
>         both for M_FLOOD and M_DISCOVERY. See <a href="#ACP_interfaces" class="auto internal xref">Section 6.13.5</a> for how this will be
6849c6877
<         and how difficult it would be to let GRASP flooding access the DODAG information.<a href="#section-a.5-4" class="pilcrow">¶</a></p>
---
>         and how difficult it would be to let GRASP flooding access the DODAG information.<a href="#appendix-A.5-4" class="pilcrow">¶</a></p>
6853,6864c6881,6892
< <section id="section-a.6">
<         <h2 id="name-cas-domains-and-routing-sub">
< <a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-cas-domains-and-routing-sub" class="section-name selfRef">CAs, Domains, and Routing Subdomains</a>
<         </h2>
< <p id="section-a.6-1">There is a wide range of setting up different ACP solutions by appropriately using CAs and the domain and rsub elements in the acp-node-name in the domain certificate.  We summarize these options here as they have been explained in different parts of the document and discuss possible and desirable extensions.<a href="#section-a.6-1" class="pilcrow">¶</a></p>
< <p id="section-a.6-2">An ACP domain is the set of all ACP nodes that can authenticate each other as belonging to the same ACP network using the ACP domain membership check (<a href="#certcheck" class="xref">Section 6.2.3</a>).  GRASP inside the ACP is run across all transitively connected ACP nodes in a domain.<a href="#section-a.6-2" class="pilcrow">¶</a></p>
< <p id="section-a.6-3">The rsub element in the acp-node-name permits the use of addresses from different ULA prefixes.  One use case is the creation of multiple physical networks that initially may be separated with one ACP domain but different routing subdomains, so that all nodes can mutually trust their ACP certificates (not depending on rsub) and so that they could connect later together into a contiguous ACP network.<a href="#section-a.6-3" class="pilcrow">¶</a></p>
< <p id="section-a.6-4">One instance of such a use case is an ACP for regions interconnected via a non-ACP enabled core, for example, due to the absence of product support for ACP on the core nodes. ACP connect configurations as defined in this document can be used to extend and interconnect those ACP islands to the NOC and merge them into a single ACP when later that product support gap is closed.<a href="#section-a.6-4" class="pilcrow">¶</a></p>
< <p id="section-a.6-5">Note that RPL scales very well.  It is not necessary to use multiple routing subdomains to scale ACP domains in a way that would be required if other routing protocols where used.  They exist only as options for the above mentioned reasons.<a href="#section-a.6-5" class="pilcrow">¶</a></p>
< <p id="section-a.6-6"> If ACP domains need to be created that are not allowed to connect to each other by default, simply use different domain elements in the acp-node-name.  These domain elements can be arbitrary, including subdomains of one another: domains "example.com" and "research.example.com" are separate domains if both are domain elements in the acp-node-name of certificates.<a href="#section-a.6-6" class="pilcrow">¶</a></p>
< <p id="section-a.6-7">It is not necessary to have a separate CA for different ACP domains: an operator can use a single CA to sign certificates for multiple ACP domains that are not allowed to connect to each other because the checks for ACP adjacencies include the comparison of the domain part.<a href="#section-a.6-7" class="pilcrow">¶</a></p>
< <p id="section-a.6-8">If multiple, independent networks chose the same domain name but had their own CAs, these would not form a single ACP domain because of CA mismatch.  Therefore, there is no problem in choosing domain names that are potentially also used by others.  Nevertheless, it is highly recommended to use domain names that have a high probability of being unique.  It is recommended to use domain names that start with a DNS domain name owned by the assigning organization and unique within it, for example, "acp.example.com" if you own "example.com".<a href="#section-a.6-8" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.6">
>         <h3 id="name-cas-domains-and-routing-sub">
> <a href="#appendix-A.6" class="section-number selfRef">A.6. </a><a href="#name-cas-domains-and-routing-sub" class="section-name selfRef">CAs, Domains, and Routing Subdomains</a>
>         </h3>
> <p id="appendix-A.6-1">There is a wide range of setting up different ACP solutions by appropriately using CAs and the domain and rsub elements in the acp-node-name in the domain certificate.  We summarize these options here as they have been explained in different parts of the document and discuss possible and desirable extensions.<a href="#appendix-A.6-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-2">An ACP domain is the set of all ACP nodes that can authenticate each other as belonging to the same ACP network using the ACP domain membership check (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>).  GRASP inside the ACP is run across all transitively connected ACP nodes in a domain.<a href="#appendix-A.6-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-3">The rsub element in the acp-node-name permits the use of addresses from different ULA prefixes.  One use case is the creation of multiple physical networks that initially may be separated with one ACP domain but different routing subdomains, so that all nodes can mutually trust their ACP certificates (not depending on rsub) and so that they could connect later together into a contiguous ACP network.<a href="#appendix-A.6-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-4">One instance of such a use case is an ACP for regions interconnected via a non-ACP enabled core, for example, due to the absence of product support for ACP on the core nodes. ACP connect configurations as defined in this document can be used to extend and interconnect those ACP islands to the NOC and merge them into a single ACP when later that product support gap is closed.<a href="#appendix-A.6-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-5">Note that RPL scales very well.  It is not necessary to use multiple routing subdomains to scale ACP domains in a way that would be required if other routing protocols where used.  They exist only as options for the above mentioned reasons.<a href="#appendix-A.6-5" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-6"> If ACP domains need to be created that are not allowed to connect to each other by default, simply use different domain elements in the acp-node-name.  These domain elements can be arbitrary, including subdomains of one another: domains "example.com" and "research.example.com" are separate domains if both are domain elements in the acp-node-name of certificates.<a href="#appendix-A.6-6" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-7">It is not necessary to have a separate CA for different ACP domains: an operator can use a single CA to sign certificates for multiple ACP domains that are not allowed to connect to each other because the checks for ACP adjacencies include the comparison of the domain part.<a href="#appendix-A.6-7" class="pilcrow">¶</a></p>
> <p id="appendix-A.6-8">If multiple, independent networks chose the same domain name but had their own CAs, these would not form a single ACP domain because of CA mismatch.  Therefore, there is no problem in choosing domain names that are potentially also used by others.  Nevertheless, it is highly recommended to use domain names that have a high probability of being unique.  It is recommended to use domain names that start with a DNS domain name owned by the assigning organization and unique within it, for example, "acp.example.com" if you own "example.com".<a href="#appendix-A.6-8" class="pilcrow">¶</a></p>
6868,6873c6896,6901
< <section id="section-a.7">
<         <h2 id="name-intent-for-the-acp">
< <a href="#section-a.7" class="section-number selfRef">A.7. </a><a href="#name-intent-for-the-acp" class="section-name selfRef">Intent for the ACP</a>
<         </h2>
< <p id="section-a.7-1">Intent is the architecture component of Autonomic Networks according to
<  <span>[<a href="#RFC8993" class="xref">RFC8993</a>]</span> that allows operators to issue policies to
---
> <section id="appendix-A.7">
>         <h3 id="name-intent-for-the-acp">
> <a href="#appendix-A.7" class="section-number selfRef">A.7. </a><a href="#name-intent-for-the-acp" class="section-name selfRef">Intent for the ACP</a>
>         </h3>
> <p id="appendix-A.7-1">Intent is the architecture component of Autonomic Networks according to
>  <span>[<a href="#RFC8993" class="cite xref">RFC8993</a>]</span> that allows operators to issue policies to
6875,6878c6903,6906
< policies flooded across ACP GRASP and interpreted on every ACP node.<a href="#section-a.7-1" class="pilcrow">¶</a></p>
< <p id="section-a.7-2">One concern for future definitions of Intent solutions is the problem of circular dependencies
< when expressing Intent policies about the ACP itself.<a href="#section-a.7-2" class="pilcrow">¶</a></p>
< <p id="section-a.7-3">For example, Intent could indicate the desire to build an ACP across all domains
---
> policies flooded across ACP GRASP and interpreted on every ACP node.<a href="#appendix-A.7-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-2">One concern for future definitions of Intent solutions is the problem of circular dependencies
> when expressing Intent policies about the ACP itself.<a href="#appendix-A.7-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-3">For example, Intent could indicate the desire to build an ACP across all domains
6882,6883c6910,6911
< should all establish one single ACP.<a href="#section-a.7-3" class="pilcrow">¶</a></p>
< <p id="section-a.7-4">If each domain has its own source of Intent, then the Intent would simply have to
---
> should all establish one single ACP.<a href="#appendix-A.7-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-4">If each domain has its own source of Intent, then the Intent would simply have to
6885,6886c6913,6914
< (<a href="#certcheck" class="xref">Section 6.2.3</a>) so that nodes from those other domains are accepted as ACP peers.<a href="#section-a.7-4" class="pilcrow">¶</a></p>
< <p id="section-a.7-5">If this Intent was to be originated only from one domain, it could likely not be made
---
> (<a href="#certcheck" class="auto internal xref">Section 6.2.3</a>) so that nodes from those other domains are accepted as ACP peers.<a href="#appendix-A.7-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-5">If this Intent was to be originated only from one domain, it could likely not be made
6888,6889c6916,6917
< whether they use the same or different CA due to the ACP domain membership check.<a href="#section-a.7-5" class="pilcrow">¶</a></p>
< <p id="section-a.7-6">If the  domains use the same CA, one could change the ACP setup to permit the
---
> whether they use the same or different CA due to the ACP domain membership check.<a href="#appendix-A.7-5" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-6">If the  domains use the same CA, one could change the ACP setup to permit the
6894,6895c6922,6923
<  to happen across domain boundaries.<a href="#section-a.7-6" class="pilcrow">¶</a></p>
< <p id="section-a.7-7">This type of approach, where the ACP first allows Intent to operate and only then
---
>  to happen across domain boundaries.<a href="#appendix-A.7-6" class="pilcrow">¶</a></p>
> <p id="appendix-A.7-7">This type of approach, where the ACP first allows Intent to operate and only then
6899c6927
< reachability across the ACP to certain types of nodes or locations of nodes.<a href="#section-a.7-7" class="pilcrow">¶</a></p>
---
> reachability across the ACP to certain types of nodes or locations of nodes.<a href="#appendix-A.7-7" class="pilcrow">¶</a></p>
6903,6907c6931,6935
< <section id="section-a.8">
<         <h2 id="name-adopting-acp-concepts-for-o">
< <a href="#section-a.8" class="section-number selfRef">A.8. </a><a href="#name-adopting-acp-concepts-for-o" class="section-name selfRef">Adopting ACP Concepts for Other Environments</a>
<         </h2>
< <p id="section-a.8-1">The ACP as specified in this document is very explicit about the choice of options to
---
> <section id="appendix-A.8">
>         <h3 id="name-adopting-acp-concepts-for-o">
> <a href="#appendix-A.8" class="section-number selfRef">A.8. </a><a href="#name-adopting-acp-concepts-for-o" class="section-name selfRef">Adopting ACP Concepts for Other Environments</a>
>         </h3>
> <p id="appendix-A.8-1">The ACP as specified in this document is very explicit about the choice of options to
6909,6910c6937,6938
< but the concepts used by the ACP can be used to build derived solutions.<a href="#section-a.8-1" class="pilcrow">¶</a></p>
< <p id="section-a.8-2">The ACP specifies the use of ULA and the derivation of its prefix from the domain name
---
> but the concepts used by the ACP can be used to build derived solutions.<a href="#appendix-A.8-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-2">The ACP specifies the use of ULA and the derivation of its prefix from the domain name
6914,6915c6942,6943
< of the ACP registrar deriving the /48 ULA prefix from the AN domain name.<a href="#section-a.8-2" class="pilcrow">¶</a></p>
< <p id="section-a.8-3">Some solutions may already have an auto-addressing scheme, for example, derived from 
---
> of the ACP registrar deriving the /48 ULA prefix from the AN domain name.<a href="#appendix-A.8-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-3">Some solutions may already have an auto-addressing scheme, for example, derived from 
6925,6926c6953,6954
< to store that local ID also in the certificate.<a href="#section-a.8-3" class="pilcrow">¶</a></p>
< <p id="section-a.8-4">The ACP is defined as a separate VRF because it intends to support well-managed
---
> to store that local ID also in the certificate.<a href="#appendix-A.8-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-4">The ACP is defined as a separate VRF because it intends to support well-managed
6934,6935c6962,6963
< solution derived from "<a href="#RFC8992" class="xref">Autonomic IPv6 Edge Prefix Management in Large-Scale Networks</a>" <span>[<a href="#RFC8992" class="xref">RFC8992</a>]</span>.<a href="#section-a.8-4" class="pilcrow">¶</a></p>
< <p id="section-a.8-5">TCP/TLS as the protocols to provide reliability and security to GRASP in the ACP
---
> solution derived from "<a href="#RFC8992" class="internal xref">Autonomic IPv6 Edge Prefix Management in Large-Scale Networks</a>" <span>[<a href="#RFC8992" class="cite xref">RFC8992</a>]</span>.<a href="#appendix-A.8-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-5">TCP/TLS as the protocols to provide reliability and security to GRASP in the ACP
6945,6946c6973,6974
< of the GRASP objective through which the transport endpoint is discovered.<a href="#section-a.8-5" class="pilcrow">¶</a></p>
< <p id="section-a.8-6">RPL, the routing protocol used for the ACP, explicitly does not optimize
---
> of the GRASP objective through which the transport endpoint is discovered.<a href="#appendix-A.8-5" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-6">RPL, the routing protocol used for the ACP, explicitly does not optimize
6948,6949c6976,6977
< different routing protocol or introduce more advanced RPL profiles.<a href="#section-a.8-6" class="pilcrow">¶</a></p>
< <p id="section-a.8-7">Variations such as which routing protocol to use, or whether to instantiate an ACP
---
> different routing protocol or introduce more advanced RPL profiles.<a href="#appendix-A.8-6" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-7">Variations such as which routing protocol to use, or whether to instantiate an ACP
6958,6959c6986,6987
< connectivity requirements.<a href="#section-a.8-7" class="pilcrow">¶</a></p>
< <p id="section-a.8-8">Last but not least, secure channel protocols including their encapsulations are
---
> connectivity requirements.<a href="#appendix-A.8-7" class="pilcrow">¶</a></p>
> <p id="appendix-A.8-8">Last but not least, secure channel protocols including their encapsulations are
6964c6992
< provided by ACP secure channels.<a href="#section-a.8-8" class="pilcrow">¶</a></p>
---
> provided by ACP secure channels.<a href="#appendix-A.8-8" class="pilcrow">¶</a></p>
6968,6975c6996,6998
< <section id="section-a.9">
<         <h2 id="name-further-future-options">
< <a href="#section-a.9" class="section-number selfRef">A.9. </a><a href="#name-further-future-options" class="section-name selfRef">Further (Future) Options</a>
<         </h2>
< <div id="auto-aggregation">
< <section id="section-a.9.1">
<           <h3 id="name-auto-aggregation-of-routes">
< <a href="#section-a.9.1" class="section-number selfRef">A.9.1. </a><a href="#name-auto-aggregation-of-routes" class="section-name selfRef">Auto-Aggregation of Routes</a>
---
> <section id="appendix-A.9">
>         <h3 id="name-further-future-options">
> <a href="#appendix-A.9" class="section-number selfRef">A.9. </a><a href="#name-further-future-options" class="section-name selfRef">Further (Future) Options</a>
6977c7000,7005
< <p id="section-a.9.1-1">Routing in the ACP according to this specification only leverages the
---
> <div id="auto-aggregation">
> <section id="appendix-A.9.1">
>           <h4 id="name-auto-aggregation-of-routes">
> <a href="#appendix-A.9.1" class="section-number selfRef">A.9.1. </a><a href="#name-auto-aggregation-of-routes" class="section-name selfRef">Auto-Aggregation of Routes</a>
>           </h4>
> <p id="appendix-A.9.1-1">Routing in the ACP according to this specification only leverages the
6981,6982c7009,7010
< in the acp-node-name) and/or Zone-ID based prefixes.<a href="#section-a.9.1-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.1-2">Automatic assignment of Zone-ID and auto-aggregation of routes could
---
> in the acp-node-name) and/or Zone-ID based prefixes.<a href="#appendix-A.9.1-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.1-2">Automatic assignment of Zone-ID and auto-aggregation of routes could
6986c7014
< even the /48 prefix based on the GRASP announcements.<a href="#section-a.9.1-2" class="pilcrow">¶</a></p>
---
> even the /48 prefix based on the GRASP announcements.<a href="#appendix-A.9.1-2" class="pilcrow">¶</a></p>
6990,6994c7018,7022
< <section id="section-a.9.2">
<           <h3 id="name-more-options-for-avoiding-i">
< <a href="#section-a.9.2" class="section-number selfRef">A.9.2. </a><a href="#name-more-options-for-avoiding-i" class="section-name selfRef">More Options for Avoiding IPv6 Data Plane Dependencies</a>
<           </h3>
< <p id="section-a.9.2-1">As described in <a href="#general_addressing" class="xref">Section 6.13.2</a>, the ACP depends on the
---
> <section id="appendix-A.9.2">
>           <h4 id="name-more-options-for-avoiding-i">
> <a href="#appendix-A.9.2" class="section-number selfRef">A.9.2. </a><a href="#name-more-options-for-avoiding-i" class="section-name selfRef">More Options for Avoiding IPv6 Data Plane Dependencies</a>
>           </h4>
> <p id="appendix-A.9.2-1">As described in <a href="#general_addressing" class="auto internal xref">Section 6.13.2</a>, the ACP depends on the
6999c7027
< <span>[<a href="#SR" class="xref">SR</a>]</span>)
---
> <span>[<a href="#SR" class="cite xref">SR</a>]</span>)
7001,7002c7029,7030
< different SR-IOV interfaces use different MAC addresses.<a href="#section-a.9.2-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.2-2">When additional MAC address(es) are not available, separation of the
---
> different SR-IOV interfaces use different MAC addresses.<a href="#appendix-A.9.2-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.2-2">When additional MAC address(es) are not available, separation of the
7007,7008c7035,7036
< impact interoperability.<a href="#section-a.9.2-2" class="pilcrow">¶</a></p>
< <p id="section-a.9.2-3">An option that would require additional specification is to use a different
---
> impact interoperability.<a href="#appendix-A.9.2-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.2-3">An option that would require additional specification is to use a different
7010c7038
< be a similar approach as used for IP authentication packets in <span>[<a href="#IEEE-802.1X" class="xref">IEEE-802.1X</a>]</span>,
---
> be a similar approach as used for IP authentication packets in <span>[<a href="#IEEE-802.1X" class="cite xref">IEEE-802.1X</a>]</span>,
7012,7014c7040,7042
< Ethertype (0x88A2).<a href="#section-a.9.2-3" class="pilcrow">¶</a></p>
< <p id="section-a.9.2-4">Note that in the case of ANI nodes, all of the above considerations equally
< apply to the encapsulation of BRSKI packets including GRASP used for BRSKI.<a href="#section-a.9.2-4" class="pilcrow">¶</a></p>
---
> Ethertype (0x88A2).<a href="#appendix-A.9.2-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.2-4">Note that in the case of ANI nodes, all of the above considerations equally
> apply to the encapsulation of BRSKI packets including GRASP used for BRSKI.<a href="#appendix-A.9.2-4" class="pilcrow">¶</a></p>
7018,7025c7046,7053
< <section id="section-a.9.3">
<           <h3 id="name-acp-apis-and-operational-mo">
< <a href="#section-a.9.3" class="section-number selfRef">A.9.3. </a><a href="#name-acp-apis-and-operational-mo" class="section-name selfRef">ACP APIs and Operational Models (YANG)</a>
<           </h3>
< <p id="section-a.9.3-1">Future work should define a YANG data model <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> 
< and/or node-internal APIs to monitor and manage the ACP.<a href="#section-a.9.3-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.3-2">Support for the ACP adjacency table (<a href="#adj-table" class="xref">Section 6.3</a>) and ACP GRASP needs to
< be included in such model and/or API.<a href="#section-a.9.3-2" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.9.3">
>           <h4 id="name-acp-apis-and-operational-mo">
> <a href="#appendix-A.9.3" class="section-number selfRef">A.9.3. </a><a href="#name-acp-apis-and-operational-mo" class="section-name selfRef">ACP APIs and Operational Models (YANG)</a>
>           </h4>
> <p id="appendix-A.9.3-1">Future work should define a YANG data model <span>[<a href="#RFC7950" class="cite xref">RFC7950</a>]</span> 
> and/or node-internal APIs to monitor and manage the ACP.<a href="#appendix-A.9.3-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.3-2">Support for the ACP adjacency table (<a href="#adj-table" class="auto internal xref">Section 6.3</a>) and ACP GRASP needs to
> be included in such model and/or API.<a href="#appendix-A.9.3-2" class="pilcrow">¶</a></p>
7029,7032c7057,7060
< <section id="section-a.9.4">
<           <h3 id="name-rpl-enhancements">
< <a href="#section-a.9.4" class="section-number selfRef">A.9.4. </a><a href="#name-rpl-enhancements" class="section-name selfRef">RPL Enhancements</a>
<           </h3>
---
> <section id="appendix-A.9.4">
>           <h4 id="name-rpl-enhancements">
> <a href="#appendix-A.9.4" class="section-number selfRef">A.9.4. </a><a href="#name-rpl-enhancements" class="section-name selfRef">RPL Enhancements</a>
>           </h4>
7035c7063
<             <div class="artwork art-text alignLeft" id="section-a.9.4-1.1">
---
>             <div class="alignLeft art-text artwork" id="appendix-A.9.4-1.1">
7059,7061c7087,7089
< <p id="section-a.9.4-2">The profile for RPL specified in this document builds only one spanning-tree path set to a root, typically a registrar in one NOC. In the presence of multiple NOCs, routing toward the non-root NOCs may be suboptimal. <a href="#dual-noc" class="xref">Figure 17</a> shows an extreme example. Assuming that node ACP1 becomes the RPL root, traffic between ACP11 and NOC2 will pass through ACP4-ACP3-ACP1-ACP2 instead of ACP4-ACP2 because the RPL-calculated DODAG and routes are shortest paths towards the RPL root.<a href="#section-a.9.4-2" class="pilcrow">¶</a></p>
< <p id="section-a.9.4-3">To overcome these limitations, extensions and/or modifications to the RPL profile can optimize for multiple NOCs.  This requires utilizing data plane artifacts, including IP-in-IP encapsulation/decapsulation on ACP routers and processing of IPv6 RPI headers.  Alternatively, (Src,Dst) routing table entries could be used.<a href="#section-a.9.4-3" class="pilcrow">¶</a></p>
< <p id="section-a.9.4-4">Flooding of ACP GRASP messages can be further constrained and therefore optimized by flooding only via links that are part of the RPL DODAG.<a href="#section-a.9.4-4" class="pilcrow">¶</a></p>
---
> <p id="appendix-A.9.4-2">The profile for RPL specified in this document builds only one spanning-tree path set to a root, typically a registrar in one NOC. In the presence of multiple NOCs, routing toward the non-root NOCs may be suboptimal. <a href="#dual-noc" class="auto internal xref">Figure 17</a> shows an extreme example. Assuming that node ACP1 becomes the RPL root, traffic between ACP11 and NOC2 will pass through ACP4-ACP3-ACP1-ACP2 instead of ACP4-ACP2 because the RPL-calculated DODAG and routes are shortest paths towards the RPL root.<a href="#appendix-A.9.4-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.4-3">To overcome these limitations, extensions and/or modifications to the RPL profile can optimize for multiple NOCs.  This requires utilizing data plane artifacts, including IP-in-IP encapsulation/decapsulation on ACP routers and processing of IPv6 RPI headers.  Alternatively, (Src,Dst) routing table entries could be used.<a href="#appendix-A.9.4-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.4-4">Flooding of ACP GRASP messages can be further constrained and therefore optimized by flooding only via links that are part of the RPL DODAG.<a href="#appendix-A.9.4-4" class="pilcrow">¶</a></p>
7065,7069c7093,7097
< <section id="section-a.9.5">
<           <h3 id="name-role-assignments">
< <a href="#section-a.9.5" class="section-number selfRef">A.9.5. </a><a href="#name-role-assignments" class="section-name selfRef">Role Assignments</a>
<           </h3>
< <p id="section-a.9.5-1">ACP connect is an explicit mechanism to "leak" ACP traffic explicitly (for example,
---
> <section id="appendix-A.9.5">
>           <h4 id="name-role-assignments">
> <a href="#appendix-A.9.5" class="section-number selfRef">A.9.5. </a><a href="#name-role-assignments" class="section-name selfRef">Role Assignments</a>
>           </h4>
> <p id="appendix-A.9.5-1">ACP connect is an explicit mechanism to "leak" ACP traffic explicitly (for example,
7071,7072c7099,7100
<  connect on arbitrary compromised ACP nodes.<a href="#section-a.9.5-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.5-2">One simple solution is to define an extension in the ACP certificate's ACP information
---
>  connect on arbitrary compromised ACP nodes.<a href="#appendix-A.9.5-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.5-2">One simple solution is to define an extension in the ACP certificate's ACP information
7074,7075c7102,7103
< could similarly be done to decide whether a node is permitted to be a registrar or not.<a href="#section-a.9.5-2" class="pilcrow">¶</a></p>
< <p id="section-a.9.5-3">Tying the permitted "roles" of an ACP node to the ACP certificate provides
---
> could similarly be done to decide whether a node is permitted to be a registrar or not.<a href="#appendix-A.9.5-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.5-3">Tying the permitted "roles" of an ACP node to the ACP certificate provides
7077,7078c7105,7106
< modifications.<a href="#section-a.9.5-3" class="pilcrow">¶</a></p>
< <p id="section-a.9.5-4">Another interesting role to assign to certificates is that of a NOC node. This would allow the
---
> modifications.<a href="#appendix-A.9.5-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.5-4">Another interesting role to assign to certificates is that of a NOC node. This would allow the
7080c7108
< or responders.<a href="#section-a.9.5-4" class="pilcrow">¶</a></p>
---
> or responders.<a href="#appendix-A.9.5-4" class="pilcrow">¶</a></p>
7084,7088c7112,7116
< <section id="section-a.9.6">
<           <h3 id="name-autonomic-l3-transit">
< <a href="#section-a.9.6" class="section-number selfRef">A.9.6. </a><a href="#name-autonomic-l3-transit" class="section-name selfRef">Autonomic L3 Transit</a>
<           </h3>
< <p id="section-a.9.6-1">In this specification, the ACP can only establish autonomic connectivity across L2
---
> <section id="appendix-A.9.6">
>           <h4 id="name-autonomic-l3-transit">
> <a href="#appendix-A.9.6" class="section-number selfRef">A.9.6. </a><a href="#name-autonomic-l3-transit" class="section-name selfRef">Autonomic L3 Transit</a>
>           </h4>
> <p id="appendix-A.9.6-1">In this specification, the ACP can only establish autonomic connectivity across L2
7092c7120
< a peer-to-peer tunneling mechanism could tunnel ACP islands across an L3VPN infrastructure.<a href="#section-a.9.6-1" class="pilcrow">¶</a></p>
---
> a peer-to-peer tunneling mechanism could tunnel ACP islands across an L3VPN infrastructure.<a href="#appendix-A.9.6-1" class="pilcrow">¶</a></p>
7096,7105c7124,7133
< <section id="section-a.9.7">
<           <h3 id="name-diagnostics">
< <a href="#section-a.9.7" class="section-number selfRef">A.9.7. </a><a href="#name-diagnostics" class="section-name selfRef">Diagnostics</a>
<           </h3>
< <p id="section-a.9.7-1"><a href="#diagnostics" class="xref">Section 9.1</a> describes diagnostics options that can be applied
< without changing the external, interoperability-affecting characteristics of ACP implementations.<a href="#section-a.9.7-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.7-2">Even better diagnostics of ACP operations are possible with additional
< signaling extensions, such as the following:<a href="#section-a.9.7-2" class="pilcrow">¶</a></p>
< <ol start="1" type="1" class="normal type-1" id="section-a.9.7-3">
<             <li id="section-a.9.7-3.1">Consider if LLDP should be a recommended functionality for ANI devices
---
> <section id="appendix-A.9.7">
>           <h4 id="name-diagnostics">
> <a href="#appendix-A.9.7" class="section-number selfRef">A.9.7. </a><a href="#name-diagnostics" class="section-name selfRef">Diagnostics</a>
>           </h4>
> <p id="appendix-A.9.7-1"><a href="#diagnostics" class="auto internal xref">Section 9.1</a> describes diagnostics options that can be applied
> without changing the external, interoperability-affecting characteristics of ACP implementations.<a href="#appendix-A.9.7-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.7-2">Even better diagnostics of ACP operations are possible with additional
> signaling extensions, such as the following:<a href="#appendix-A.9.7-2" class="pilcrow">¶</a></p>
> <ol start="1" type="1" class="normal type-1" id="appendix-A.9.7-3">
>             <li id="appendix-A.9.7-3.1">Consider if LLDP should be a recommended functionality for ANI devices
7107c7135
<     signal (noting that such information is conveyed in an insecure manner). This includes potentially new information elements.<a href="#section-a.9.7-3.1" class="pilcrow">¶</a>
---
>     signal (noting that such information is conveyed in an insecure manner). This includes potentially new information elements.<a href="#appendix-A.9.7-3.1" class="pilcrow">¶</a>
7109,7110c7137,7138
<             <li id="section-a.9.7-3.2">As an alternative to LLDP, a DULL GRASP diagnostics objective could
<     be defined to carry these information elements.<a href="#section-a.9.7-3.2" class="pilcrow">¶</a>
---
>             <li id="appendix-A.9.7-3.2">As an alternative to LLDP, a DULL GRASP diagnostics objective could
>     be defined to carry these information elements.<a href="#appendix-A.9.7-3.2" class="pilcrow">¶</a>
7112,7113c7140,7141
<             <li id="section-a.9.7-3.3">The IDevID certificate of BRSKI pledges should be included in the selected
<     insecure diagnostics option. This may be undesirable when exposure of device information is seen as too much of a security issue (the ability to deduce possible attack vectors from device model, for example).<a href="#section-a.9.7-3.3" class="pilcrow">¶</a>
---
>             <li id="appendix-A.9.7-3.3">The IDevID certificate of BRSKI pledges should be included in the selected
>     insecure diagnostics option. This may be undesirable when exposure of device information is seen as too much of a security issue (the ability to deduce possible attack vectors from device model, for example).<a href="#appendix-A.9.7-3.3" class="pilcrow">¶</a>
7115c7143
<             <li id="section-a.9.7-3.4">A richer set of diagnostics information should be made available
---
>             <li id="appendix-A.9.7-3.4">A richer set of diagnostics information should be made available
7117c7145
<     network-wide "topology discovery" mechanisms.<a href="#section-a.9.7-3.4" class="pilcrow">¶</a>
---
>     network-wide "topology discovery" mechanisms.<a href="#appendix-A.9.7-3.4" class="pilcrow">¶</a>
7123,7127c7151,7155
< <section id="section-a.9.8">
<           <h3 id="name-avoiding-and-dealing-with-c">
< <a href="#section-a.9.8" class="section-number selfRef">A.9.8. </a><a href="#name-avoiding-and-dealing-with-c" class="section-name selfRef">Avoiding and Dealing with Compromised ACP Nodes</a>
<           </h3>
< <p id="section-a.9.8-1">Compromised ACP nodes pose the biggest risk to the operations of the network.
---
> <section id="appendix-A.9.8">
>           <h4 id="name-avoiding-and-dealing-with-c">
> <a href="#appendix-A.9.8" class="section-number selfRef">A.9.8. </a><a href="#name-avoiding-and-dealing-with-c" class="section-name selfRef">Avoiding and Dealing with Compromised ACP Nodes</a>
>           </h4>
> <p id="appendix-A.9.8-1">Compromised ACP nodes pose the biggest risk to the operations of the network.
7132,7133c7160,7161
< that introduce malicious software should be a lot harder.<a href="#section-a.9.8-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-2">The most important aspect of security design against these types of attacks is
---
> that introduce malicious software should be a lot harder.<a href="#appendix-A.9.8-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-2">The most important aspect of security design against these types of attacks is
7136,7137c7164,7165
< the private keys cannot leak. This limits unexpected propagation of credentials.<a href="#section-a.9.8-2" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-3">If password-based credentials to configure devices still need to be supported, they must not be
---
> the private keys cannot leak. This limits unexpected propagation of credentials.<a href="#appendix-A.9.8-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-3">If password-based credentials to configure devices still need to be supported, they must not be
7141,7142c7169,7170
< be autoconfiguring across the ACP. See <span>[<a href="#I-D.eckert-anima-noc-autoconfig" class="xref">NOC-AUTOCONFIG</a>]</span>.<a href="#section-a.9.8-3" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-4">Without physical access to the compromised device, attackers with access to
---
> be autoconfiguring across the ACP. See <span>[<a href="#I-D.eckert-anima-noc-autoconfig" class="cite xref">NOC-AUTOCONFIG</a>]</span>.<a href="#appendix-A.9.8-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-4">Without physical access to the compromised device, attackers with access to
7147,7148c7175,7176
< ACP configuration that locks down the current ACP configuration unless factory reset is done.<a href="#section-a.9.8-4" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-5">With such means, the valid administration has the best chances to maintain
---
> ACP configuration that locks down the current ACP configuration unless factory reset is done.<a href="#appendix-A.9.8-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-5">With such means, the valid administration has the best chances to maintain
7150,7151c7178,7179
< tracking from central locations, for example, and to react accordingly.<a href="#section-a.9.8-5" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-6">The primary reaction is to withdraw or change credentials, terminate malicious
---
> tracking from central locations, for example, and to react accordingly.<a href="#appendix-A.9.8-5" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-6">The primary reaction is to withdraw or change credentials, terminate malicious
7154,7155c7182,7183
< likely require new work.<a href="#section-a.9.8-6" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-7">Only when these steps are infeasible, would it be necessary
---
> likely require new work.<a href="#appendix-A.9.8-6" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-7">Only when these steps are infeasible, would it be necessary
7157,7158c7185,7186
< until the situation can be further rectified, likely requiring direct physical access to the node.<a href="#section-a.9.8-7" class="pilcrow">¶</a></p>
< <p id="section-a.9.8-8">Without extensions, compromised ACP nodes can only be removed from the ACP
---
> until the situation can be further rectified, likely requiring direct physical access to the node.<a href="#appendix-A.9.8-7" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.8-8">Without extensions, compromised ACP nodes can only be removed from the ACP
7162c7190
< the explicit removal indication of the compromised node's domain certificate.<a href="#section-a.9.8-8" class="pilcrow">¶</a></p>
---
> the explicit removal indication of the compromised node's domain certificate.<a href="#appendix-A.9.8-8" class="pilcrow">¶</a></p>
7166,7173c7194,7201
< <section id="section-a.9.9">
<           <h3 id="name-detecting-acp-secure-channe">
< <a href="#section-a.9.9" class="section-number selfRef">A.9.9. </a><a href="#name-detecting-acp-secure-channe" class="section-name selfRef">Detecting ACP Secure Channel Downgrade Attacks</a>
<           </h3>
< <p id="section-a.9.9-1">The following text proposes a mechanism to protect against downgrade attacks without introducing a new specialized GRASP secure channel mechanism. Instead, it relies on running GRASP after establishing a secure channel protocol to verify if the established secure channel option could have been the result of a MITM downgrade attack.<a href="#section-a.9.9-1" class="pilcrow">¶</a></p>
< <p id="section-a.9.9-2">MITM attackers can force downgrade attacks for ACP secure channel selection by filtering and/or modifying DULL GRASP messages and/or actual secure channel data packets. For example, if at some point in time, DTLS traffic could be more easily decrypted than traffic of IKEv2, the MITM could filter all IKEv2 packets to force ACP nodes to use DTLS (assuming that the ACP nodes in question supported both DTLS and IKEv2).<a href="#section-a.9.9-2" class="pilcrow">¶</a></p>
< <p id="section-a.9.9-3">For cases where such MITM attacks are not capable of injecting malicious traffic (but only of decrypting the traffic), a downgrade attack could be discovered after a secure channel connection is established, for example, by using the following type of mechanism.<a href="#section-a.9.9-3" class="pilcrow">¶</a></p>
< <p id="section-a.9.9-4">After the secure channel connection is established, the two ACP peers negotiate, via an appropriate (to be defined) GRASP negotiation, which ACP secure channel protocol should have been selected between them (in the absence of a MITM attacker). This negotiation would signal the ACP secure channel options announced by DULL GRASP by each peer followed by an announcement of the preferred secure channel protocol by the ACP peer that is the Decider in the secure channel setup, i.e., the ACP peer that decides which secure channel protocol to use.  If that chosen secure channel protocol is different from the one that actually was chosen, then this mismatch is an indication that there is a MITM attacker or other similar issue (e.g., a firewall prohibiting the use of specific protocols) that caused a non-preferred secure channel protocol to be chosen. This discovery could then result in mitigation options such as logging and ensuing investigations.<a href="#section-a.9.9-4" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.9.9">
>           <h4 id="name-detecting-acp-secure-channe">
> <a href="#appendix-A.9.9" class="section-number selfRef">A.9.9. </a><a href="#name-detecting-acp-secure-channe" class="section-name selfRef">Detecting ACP Secure Channel Downgrade Attacks</a>
>           </h4>
> <p id="appendix-A.9.9-1">The following text proposes a mechanism to protect against downgrade attacks without introducing a new specialized GRASP secure channel mechanism. Instead, it relies on running GRASP after establishing a secure channel protocol to verify if the established secure channel option could have been the result of a MITM downgrade attack.<a href="#appendix-A.9.9-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.9-2">MITM attackers can force downgrade attacks for ACP secure channel selection by filtering and/or modifying DULL GRASP messages and/or actual secure channel data packets. For example, if at some point in time, DTLS traffic could be more easily decrypted than traffic of IKEv2, the MITM could filter all IKEv2 packets to force ACP nodes to use DTLS (assuming that the ACP nodes in question supported both DTLS and IKEv2).<a href="#appendix-A.9.9-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.9-3">For cases where such MITM attacks are not capable of injecting malicious traffic (but only of decrypting the traffic), a downgrade attack could be discovered after a secure channel connection is established, for example, by using the following type of mechanism.<a href="#appendix-A.9.9-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.9.9-4">After the secure channel connection is established, the two ACP peers negotiate, via an appropriate (to be defined) GRASP negotiation, which ACP secure channel protocol should have been selected between them (in the absence of a MITM attacker). This negotiation would signal the ACP secure channel options announced by DULL GRASP by each peer followed by an announcement of the preferred secure channel protocol by the ACP peer that is the Decider in the secure channel setup, i.e., the ACP peer that decides which secure channel protocol to use.  If that chosen secure channel protocol is different from the one that actually was chosen, then this mismatch is an indication that there is a MITM attacker or other similar issue (e.g., a firewall prohibiting the use of specific protocols) that caused a non-preferred secure channel protocol to be chosen. This discovery could then result in mitigation options such as logging and ensuing investigations.<a href="#appendix-A.9.9-4" class="pilcrow">¶</a></p>
7181c7209
< <section id="section-appendix.b">
---
> <section id="appendix-B">
7185,7189c7213,7217
< <p id="section-appendix.b-1">This work originated from an Autonomic Networking project at Cisco
<       Systems, which started in early 2010. Many people contributed to this project and the idea of the Autonomic Control Plane, amongst whom (in alphabetical order): <span class="contact-name">Ignas Bagdonas</span>, <span class="contact-name">Parag Bhide</span>, <span class="contact-name">Balaji BL</span>, <span class="contact-name">Alex Clemm</span>, <span class="contact-name">Yves Hertoghs</span>, <span class="contact-name">Bruno Klauser</span>, <span class="contact-name">Max Pritikin</span>, <span class="contact-name">Michael Richardson</span>, and <span class="contact-name">Ravi Kumar Vadapalli</span>.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-2">Special thanks to <span class="contact-name">Brian Carpenter</span>, <span class="contact-name">Elwyn Davies</span>, <span class="contact-name">Joel Halpern</span>, and <span class="contact-name">Sheng Jiang</span> for their thorough reviews.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-3">Many thanks to <span class="contact-name">Ben Kaduk</span>, <span class="contact-name">Roman Danyliw</span>, and <span class="contact-name">Eric Rescorla</span> for their thorough SEC AD reviews, <span class="contact-name">Russ Housley</span> and <span class="contact-name">Erik Kline</span> for their reviews, and to <span class="contact-name">Valery Smyslov</span>, <span class="contact-name">Tero Kivinen</span>, <span class="contact-name">Paul Wouters</span>, and <span class="contact-name">Yoav Nir</span> for review of IPsec and IKEv2 parameters and helping to understand those and other security protocol details better. Thanks to <span class="contact-name">Carsten Bormann</span> for CBOR/CDDL help.<a href="#section-appendix.b-3" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-4">Further input, review, or suggestions were received from <span class="contact-name">Rene Struik</span>, <span class="contact-name">Benoit Claise</span>, <span class="contact-name">William Atwood</span>, and <span class="contact-name">Yongkang Zhang</span>.<a href="#section-appendix.b-4" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-1">This work originated from an Autonomic Networking project at Cisco
>       Systems, which started in early 2010. Many people contributed to this project and the idea of the Autonomic Control Plane, amongst whom (in alphabetical order): <span class="contact-name">Ignas Bagdonas</span>, <span class="contact-name">Parag Bhide</span>, <span class="contact-name">Balaji BL</span>, <span class="contact-name">Alex Clemm</span>, <span class="contact-name">Yves Hertoghs</span>, <span class="contact-name">Bruno Klauser</span>, <span class="contact-name">Max Pritikin</span>, <span class="contact-name">Michael Richardson</span>, and <span class="contact-name">Ravi Kumar Vadapalli</span>.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
> <p id="appendix-B-2">Special thanks to <span class="contact-name">Brian Carpenter</span>, <span class="contact-name">Elwyn Davies</span>, <span class="contact-name">Joel Halpern</span>, and <span class="contact-name">Sheng Jiang</span> for their thorough reviews.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
> <p id="appendix-B-3">Many thanks to <span class="contact-name">Ben Kaduk</span>, <span class="contact-name">Roman Danyliw</span>, and <span class="contact-name">Eric Rescorla</span> for their thorough SEC AD reviews, <span class="contact-name">Russ Housley</span> and <span class="contact-name">Erik Kline</span> for their reviews, and to <span class="contact-name">Valery Smyslov</span>, <span class="contact-name">Tero Kivinen</span>, <span class="contact-name">Paul Wouters</span>, and <span class="contact-name">Yoav Nir</span> for review of IPsec and IKEv2 parameters and helping to understand those and other security protocol details better. Thanks to <span class="contact-name">Carsten Bormann</span> for CBOR/CDDL help.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
> <p id="appendix-B-4">Further input, review, or suggestions were received from <span class="contact-name">Rene Struik</span>, <span class="contact-name">Benoit Claise</span>, <span class="contact-name">William Atwood</span>, and <span class="contact-name">Yongkang Zhang</span>.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
7193c7221
< <section id="section-appendix.c">
---
> <section id="appendix-C">
7197c7225
< <p id="section-appendix.c-1">For all things GRASP including validation code, ongoing document text support, and technical input:<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
---
> <p id="appendix-C-1">For all things GRASP including validation code, ongoing document text support, and technical input:<a href="#appendix-C-1" class="pilcrow">¶</a></p>
7210c7238
< <p id="section-appendix.c-2">For RPL contributions and all things BRSKI/bootstrap including validation code, ongoing document text support, and technical input:<a href="#section-appendix.c-2" class="pilcrow">¶</a></p>
---
> <p id="appendix-C-2">For RPL contributions and all things BRSKI/bootstrap including validation code, ongoing document text support, and technical input:<a href="#appendix-C-2" class="pilcrow">¶</a></p>
7223c7251
< <p id="section-appendix.c-3">For the RPL technology choices and text:<a href="#section-appendix.c-3" class="pilcrow">¶</a></p>
---
> <p id="appendix-C-3">For the RPL technology choices and text:<a href="#appendix-C-3" class="pilcrow">¶</a></p>
7244c7272
< <section id="section-appendix.d">
---
> <section id="appendix-D">
