14c14
< <meta content="xml2rfc 3.6.0" name="generator">
---
> <meta content="xml2rfc 3.18.2" name="generator">
17,34c17,30
<   xml2rfc 3.6.0
<     Python 3.6.10
<     appdirs 1.4.4
<     ConfigArgParse 1.2.3
<     google-i18n-address 2.3.5
<     html5lib 1.0.1
<     intervaltree 3.0.2
<     Jinja2 2.11.2
<     kitchen 1.2.6
<     lxml 4.4.2
<     pycairo 1.19.0
<     pycountry 19.8.18
<     pyflakes 2.1.1
<     PyYAML 5.3.1
<     requests 2.22.0
<     setuptools 40.6.2
<     six 1.14.0
<     WeasyPrint 51
---
>   xml2rfc 3.18.2
>     Python 3.11.6
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.2
>     lxml 4.9.3
>     platformdirs 3.11.0
>     pycountry 22.3.5
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.9
36c32
< <link href="rfc9006.xml" rel="alternate" type="application/rfc+xml">
---
> <link href="rfc/rfc9006.xml" rel="alternate" type="application/rfc+xml">
46c42
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
55a52,57
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
58d59
<   width: extend-to-zoom;
73c74
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
75a77
>   overflow-wrap: break-word;
161a164,172
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
176,179d186
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
180a188
>   border: none;
203a212,214
> ul.ulBare, li.ulBare {
>   margin-left: 0em !important;
> }
245c256,257
< a[href].selfRef {
---
> a[href].selfRef,
> .iref + a[href].internal {
255c267
< tt, code, pre, code {
---
> tt, code, pre {
257c269
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
296a309,311
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
386a402,407
> /* Fix PDF info block run off issue */
> @media print {
>   #identifiers dd {
>     float: none;
>   }
> }
488c509
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
628d648
< 
650a671,673
>   .breakable pre {
>     break-inside: auto;
>   }
718c741
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
818c841
< tt, code, pre, code {
---
> tt, code, pre {
823c846
< pre.sourcecode,
---
> .sourcecode pre,
859c882
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
1040a1064
>   .artwork > pre,
1055c1079
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1061a1086,1088
> tr {
>   break-inside: avoid;
> }
1081c1108
<   break-before: avoid-page;
---
>   break-before: auto;
1112c1139
< /* Text in compact lists should not get extra bottim margin space,
---
> /* Text in compact lists should not get extra bottom margin space,
1137c1164
< /* Tweak the comact list text */
---
> /* Tweak the compact list text */
1155c1182
< dd > div:first-child > pre.sourcecode,
---
> dd > div.sourcecode:first-child,
1169c1196
< li > p:last-of-type {
---
> li > p:last-of-type:only-child {
1173a1201
> <link href="https://datatracker.ietf.org/doc/draft-ietf-lwig-tcp-constrained-node-networks-13" rel="prev">
1176c1204
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-lwig-tcp-constrained-node-networks-13" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1178,1179c1206,1207
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1276,1284c1304,1312
< <nav class="toc"><ul class="ulEmpty compact toc">
< <li class="ulEmpty compact toc" id="section-toc.1-1.1">
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
< </li>
<           <li class="ulEmpty compact toc" id="section-toc.1-1.2">
<             <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-characteristics-of-cnns-rel" class="xref">Characteristics of CNNs Relevant for TCP</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.1">
<                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-network-and-link-properties" class="xref">Network and Link Properties</a></p>
---
> <nav class="toc"><ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
> </li>
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
>             <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-characteristics-of-cnns-rel" class="internal xref">Characteristics of CNNs Relevant for TCP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
>                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-network-and-link-properties" class="internal xref">Network and Link Properties</a></p>
1286,1287c1314,1315
<               <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.2">
<                 <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-usage-scenarios" class="xref">Usage Scenarios</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
>                 <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-usage-scenarios" class="internal xref">Usage Scenarios</a></p>
1289,1290c1317,1318
<               <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3">
<                 <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-communication-and-traffic-p" class="xref">Communication and Traffic Patterns</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
>                 <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-communication-and-traffic-p" class="internal xref">Communication and Traffic Patterns</a></p>
1294,1301c1322,1329
<           <li class="ulEmpty compact toc" id="section-toc.1-1.3">
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-tcp-implementation-and-conf" class="xref">TCP Implementation and Configuration in CNNs</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.1">
<                 <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-addressing-path-properties" class="xref">Addressing Path Properties</a></p>
< <ul class="ulEmpty compact toc">
< <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1.2.1">
<                     <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-maximum-segment-size-mss" class="xref">Maximum Segment Size (MSS)</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
>             <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-tcp-implementation-and-conf" class="internal xref">TCP Implementation and Configuration in CNNs</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
>                 <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-addressing-path-properties" class="internal xref">Addressing Path Properties</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
>                     <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-maximum-segment-size-mss" class="internal xref">Maximum Segment Size (MSS)</a></p>
1303,1304c1331,1332
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1.2.2">
<                     <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-explicit-congestion-notific" class="xref">Explicit Congestion Notification (ECN)</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
>                     <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-explicit-congestion-notific" class="internal xref">Explicit Congestion Notification (ECN)</a></p>
1306,1307c1334,1335
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1.2.3">
<                     <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="xref">3.1.3</a>.  <a href="#name-explicit-loss-notifications" class="xref">Explicit Loss Notifications</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.3">
>                     <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="auto internal xref">3.1.3</a>.  <a href="#name-explicit-loss-notifications" class="internal xref">Explicit Loss Notifications</a></p>
1311,1315c1339,1343
<               <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2">
<                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-tcp-guidance-for-single-mss" class="xref">TCP Guidance for Single-MSS Stacks</a></p>
< <ul class="ulEmpty compact toc">
< <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.1">
<                     <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-single-mss-stacks-benefits-" class="xref">Single-MSS Stacks -- Benefits and Issues</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
>                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-tcp-guidance-for-single-mss" class="internal xref">TCP Guidance for Single-MSS Stacks</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
>                     <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-single-mss-stacks-benefits-" class="internal xref">Single-MSS Stacks -- Benefits and Issues</a></p>
1317,1318c1345,1346
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.2">
<                     <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="xref">3.2.2</a>.  <a href="#name-tcp-options-for-single-mss-" class="xref">TCP Options for Single-MSS Stacks</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
>                     <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="auto internal xref">3.2.2</a>.  <a href="#name-tcp-options-for-single-mss-" class="internal xref">TCP Options for Single-MSS Stacks</a></p>
1320,1321c1348,1349
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.3">
<                     <p id="section-toc.1-1.3.2.2.2.3.1"><a href="#section-3.2.3" class="xref">3.2.3</a>.  <a href="#name-delayed-acknowledgments-for" class="xref">Delayed Acknowledgments for Single-MSS Stacks</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.3">
>                     <p id="section-toc.1-1.3.2.2.2.3.1"><a href="#section-3.2.3" class="auto internal xref">3.2.3</a>.  <a href="#name-delayed-acknowledgments-for" class="internal xref">Delayed Acknowledgments for Single-MSS Stacks</a></p>
1323,1324c1351,1352
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.4">
<                     <p id="section-toc.1-1.3.2.2.2.4.1"><a href="#section-3.2.4" class="xref">3.2.4</a>.  <a href="#name-rto-calculation-for-single-" class="xref">RTO Calculation for Single-MSS Stacks</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.4">
>                     <p id="section-toc.1-1.3.2.2.2.4.1"><a href="#section-3.2.4" class="auto internal xref">3.2.4</a>.  <a href="#name-rto-calculation-for-single-" class="internal xref">RTO Calculation for Single-MSS Stacks</a></p>
1328,1335c1356,1363
<               <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3">
<                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-general-recommendations-for" class="xref">General Recommendations for TCP in CNNs</a></p>
< <ul class="ulEmpty compact toc">
< <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.3.2.1">
<                     <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-loss-recovery-and-congestio" class="xref">Loss Recovery and Congestion/Flow Control</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.1.2.1">
<                         <p id="section-toc.1-1.3.2.3.2.1.2.1.1"><a href="#section-3.3.1.1" class="xref">3.3.1.1</a>.  <a href="#name-selective-acknowledgments-s" class="xref">Selective Acknowledgments (SACKs)</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
>                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-general-recommendations-for" class="internal xref">General Recommendations for TCP in CNNs</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
>                     <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="auto internal xref">3.3.1</a>.  <a href="#name-loss-recovery-and-congestio" class="internal xref">Loss Recovery and Congestion/Flow Control</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.1">
>                         <p id="section-toc.1-1.3.2.3.2.1.2.1.1"><a href="#section-3.3.1.1" class="auto internal xref">3.3.1.1</a>.  <a href="#name-selective-acknowledgments-s" class="internal xref">Selective Acknowledgments (SACKs)</a></p>
1339,1340c1367,1368
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.3.2.2">
<                     <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-delayed-acknowledgments" class="xref">Delayed Acknowledgments</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.2">
>                     <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="auto internal xref">3.3.2</a>.  <a href="#name-delayed-acknowledgments" class="internal xref">Delayed Acknowledgments</a></p>
1342,1343c1370,1371
<                   <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.3.2.3">
<                     <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="xref">3.3.3</a>.  <a href="#name-initial-window" class="xref">Initial Window</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.3">
>                     <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="auto internal xref">3.3.3</a>.  <a href="#name-initial-window" class="internal xref">Initial Window</a></p>
1349,1353c1377,1381
<           <li class="ulEmpty compact toc" id="section-toc.1-1.4">
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-tcp-usage-recommendations-i" class="xref">TCP Usage Recommendations in CNNs</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
<                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-tcp-connection-initiation" class="xref">TCP Connection Initiation</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-tcp-usage-recommendations-i" class="internal xref">TCP Usage Recommendations in CNNs</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
>                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-tcp-connection-initiation" class="internal xref">TCP Connection Initiation</a></p>
1355,1356c1383,1384
<               <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
<                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-number-of-concurrent-connec" class="xref">Number of Concurrent Connections</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
>                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-number-of-concurrent-connec" class="internal xref">Number of Concurrent Connections</a></p>
1358,1359c1386,1387
<               <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.3">
<                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-tcp-connection-lifetime" class="xref">TCP Connection Lifetime</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
>                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-tcp-connection-lifetime" class="internal xref">TCP Connection Lifetime</a></p>
1363,1364c1391,1392
<           <li class="ulEmpty compact toc" id="section-toc.1-1.5">
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1366,1367c1394,1395
<           <li class="ulEmpty compact toc" id="section-toc.1-1.6">
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1369,1373c1397,1401
<           <li class="ulEmpty compact toc" id="section-toc.1-1.7">
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-references" class="xref">References</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
<                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-references" class="internal xref">References</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
>                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1375,1376c1403,1404
<               <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
<                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
>                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1380,1384c1408,1412
<           <li class="ulEmpty compact toc" id="section-toc.1-1.8">
<             <p id="section-toc.1-1.8.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-tcp-implementations-for-con" class="xref">TCP Implementations for Constrained Devices</a></p>
< <ul class="ulEmpty toc compact">
< <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
<                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-uip" class="xref">uIP</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
>             <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-tcp-implementations-for-con" class="internal xref">TCP Implementations for Constrained Devices</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
>                 <p id="section-toc.1-1.8.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-uip" class="internal xref">uIP</a></p>
1386,1387c1414,1415
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
<                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-lwip" class="xref">lwIP</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
>                 <p id="section-toc.1-1.8.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-lwip" class="internal xref">lwIP</a></p>
1389,1390c1417,1418
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.3">
<                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-riot" class="xref">RIOT</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
>                 <p id="section-toc.1-1.8.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-riot" class="internal xref">RIOT</a></p>
1392,1393c1420,1421
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.4">
<                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-tinyos" class="xref">TinyOS</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
>                 <p id="section-toc.1-1.8.2.4.1"><a href="#appendix-A.4" class="auto internal xref">A.4</a>.  <a href="#name-tinyos" class="internal xref">TinyOS</a></p>
1395,1396c1423,1424
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.5">
<                 <p id="section-toc.1-1.8.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-freertos" class="xref">FreeRTOS</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
>                 <p id="section-toc.1-1.8.2.5.1"><a href="#appendix-A.5" class="auto internal xref">A.5</a>.  <a href="#name-freertos" class="internal xref">FreeRTOS</a></p>
1398,1399c1426,1427
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.6">
<                 <p id="section-toc.1-1.8.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-uc-os" class="xref">uC/OS</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
>                 <p id="section-toc.1-1.8.2.6.1"><a href="#appendix-A.6" class="auto internal xref">A.6</a>.  <a href="#name-uc-os" class="internal xref">uC/OS</a></p>
1401,1402c1429,1430
<               <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.7">
<                 <p id="section-toc.1-1.8.2.7.1"><a href="#section-a.7" class="xref">A.7</a>.  <a href="#name-summary" class="xref">Summary</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7">
>                 <p id="section-toc.1-1.8.2.7.1"><a href="#appendix-A.7" class="auto internal xref">A.7</a>.  <a href="#name-summary" class="internal xref">Summary</a></p>
1406,1407c1434,1435
<           <li class="ulEmpty compact toc" id="section-toc.1-1.9">
<             <p id="section-toc.1-1.9.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
>             <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
1409,1410c1437,1438
<           <li class="ulEmpty compact toc" id="section-toc.1-1.10">
<             <p id="section-toc.1-1.10.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
>             <p id="section-toc.1-1.10.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1420c1448
< <p id="section-1-1">The Internet Protocol suite is being used for connecting Constrained-Node Networks (CNNs) to the Internet, enabling the so-called Internet of Things (IoT) <span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span>. In order to meet the requirements that stem from CNNs, the IETF has produced a suite of new protocols specifically designed for such environments (see, e.g., <span>[<a href="#RFC8352" class="xref">RFC8352</a>]</span>).
---
> <p id="section-1-1">The Internet Protocol suite is being used for connecting Constrained-Node Networks (CNNs) to the Internet, enabling the so-called Internet of Things (IoT) <span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span>. In order to meet the requirements that stem from CNNs, the IETF has produced a suite of new protocols specifically designed for such environments (see, e.g., <span>[<a href="#RFC8352" class="cite xref">RFC8352</a>]</span>).
1422,1423c1450,1451
<          <span>[<a href="#RFC4944" class="xref">RFC4944</a>]</span><span>[<a href="#RFC6282" class="xref">RFC6282</a>]</span><span>[<a href="#RFC6775" class="xref">RFC6775</a>]</span>, the IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL)
<          <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>, and the Constrained Application Protocol (CoAP) <span>[<a href="#RFC7252" class="xref">RFC7252</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
---
>          <span>[<a href="#RFC4944" class="cite xref">RFC4944</a>]</span><span>[<a href="#RFC6282" class="cite xref">RFC6282</a>]</span><span>[<a href="#RFC6775" class="cite xref">RFC6775</a>]</span>, the IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL)
>          <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>, and the Constrained Application Protocol (CoAP) <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
1428,1429c1456,1457
<          in wireless links) are not valid, can be solved, or are also found in well-accepted IoT end-to-end reliability mechanisms (see a detailed analysis in <span>[<a href="#IntComp" class="xref">IntComp</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
< <p id="section-1-3">At the application layer, CoAP was developed over UDP <span>[<a href="#RFC7252" class="xref">RFC7252</a>]</span>.  However, the integration of some
---
>          in wireless links) are not valid, can be solved, or are also found in well-accepted IoT end-to-end reliability mechanisms (see a detailed analysis in <span>[<a href="#IntComp" class="cite xref">IntComp</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
> <p id="section-1-3">At the application layer, CoAP was developed over UDP <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>.  However, the integration of some
1433c1461
<       specification has been developed  <span>[<a href="#RFC8323" class="xref">RFC8323</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
---
>       specification has been developed  <span>[<a href="#RFC8323" class="cite xref">RFC8323</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
1437,1438c1465,1466
<    by default  <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>, and the Extensible Messaging and Presence Protocol (XMPP) <span>[<a href="#RFC6120" class="xref">RFC6120</a>]</span>.  TCP is also used by non-IETF
<    application-layer protocols in the IoT space such as the Message Queuing Telemetry Transport (MQTT) <span>[<a href="#MQTT" class="xref">MQTT</a>]</span> and its
---
>    by default  <span>[<a href="#RFC7230" class="cite xref">RFC7230</a>]</span> <span>[<a href="#RFC7540" class="cite xref">RFC7540</a>]</span>, and the Extensible Messaging and Presence Protocol (XMPP) <span>[<a href="#RFC6120" class="cite xref">RFC6120</a>]</span>.  TCP is also used by non-IETF
>    application-layer protocols in the IoT space such as the Message Queuing Telemetry Transport (MQTT) <span>[<a href="#MQTT" class="cite xref">MQTT</a>]</span> and its
1449c1477
< <p id="section-1-7">This document assumes that the reader is familiar with TCP. A comprehensive survey of the TCP standards can be found in RFC 7414 <span>[<a href="#RFC7414" class="xref">RFC7414</a>]</span>. Similar guidance regarding the use of TCP in special environments has been published before, e.g., for cellular wireless networks <span>[<a href="#RFC3481" class="xref">RFC3481</a>]</span>.<a href="#section-1-7" class="pilcrow">¶</a></p>
---
> <p id="section-1-7">This document assumes that the reader is familiar with TCP. A comprehensive survey of the TCP standards can be found in RFC 7414 <span>[<a href="#RFC7414" class="cite xref">RFC7414</a>]</span>. Similar guidance regarding the use of TCP in special environments has been published before, e.g., for cellular wireless networks <span>[<a href="#RFC3481" class="cite xref">RFC3481</a>]</span>.<a href="#section-1-7" class="pilcrow">¶</a></p>
1459,1464c1487,1492
< <p id="section-2.1-1">CNNs are defined in <span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span> as networks whose characteristics are influenced by being composed of a significant portion of constrained nodes. 
<          The latter are characterized by significant limitations on processing, memory, and energy resources, among others <span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span>. 
<          The first two dimensions pose constraints on the complexity and memory footprint of the protocols that constrained nodes can support. The latter requires techniques to save energy, such as radio duty-cycling in wireless devices <span>[<a href="#RFC8352" class="xref">RFC8352</a>]</span> and the minimization of the number of messages transmitted/received (and their size).<a href="#section-2.1-1" class="pilcrow">¶</a></p>
< <p id="section-2.1-2"><span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span> lists typical network constraints in CNNs, including low achievable bitrate/throughput, high packet loss and high variability of packet loss, highly asymmetric link characteristics, severe penalties for using larger packets, limits on reachability over time, etc. CNNs may use wireless or wired technologies (e.g., Power Line Communication), and the transmission rates are typically low (e.g., below 1 Mbps).<a href="#section-2.1-2" class="pilcrow">¶</a></p>
< <p id="section-2.1-3">For use of TCP, one challenge is that not all technologies in a CNN may be aligned with typical Internet subnetwork design principles <span>[<a href="#RFC3819" class="xref">RFC3819</a>]</span>. For instance, constrained nodes often use physical- / link-layer technologies that
<    have been characterized as 'lossy', i.e., exhibit a relatively high bit error rate. Dealing with corruption loss is one of the open issues in the Internet <span>[<a href="#RFC6077" class="xref">RFC6077</a>]</span>.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
---
> <p id="section-2.1-1">CNNs are defined in <span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span> as networks whose characteristics are influenced by being composed of a significant portion of constrained nodes. 
>          The latter are characterized by significant limitations on processing, memory, and energy resources, among others <span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span>. 
>          The first two dimensions pose constraints on the complexity and memory footprint of the protocols that constrained nodes can support. The latter requires techniques to save energy, such as radio duty-cycling in wireless devices <span>[<a href="#RFC8352" class="cite xref">RFC8352</a>]</span> and the minimization of the number of messages transmitted/received (and their size).<a href="#section-2.1-1" class="pilcrow">¶</a></p>
> <p id="section-2.1-2"><span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span> lists typical network constraints in CNNs, including low achievable bitrate/throughput, high packet loss and high variability of packet loss, highly asymmetric link characteristics, severe penalties for using larger packets, limits on reachability over time, etc. CNNs may use wireless or wired technologies (e.g., Power Line Communication), and the transmission rates are typically low (e.g., below 1 Mbps).<a href="#section-2.1-2" class="pilcrow">¶</a></p>
> <p id="section-2.1-3">For use of TCP, one challenge is that not all technologies in a CNN may be aligned with typical Internet subnetwork design principles <span>[<a href="#RFC3819" class="cite xref">RFC3819</a>]</span>. For instance, constrained nodes often use physical- / link-layer technologies that
>    have been characterized as 'lossy', i.e., exhibit a relatively high bit error rate. Dealing with corruption loss is one of the open issues in the Internet <span>[<a href="#RFC6077" class="cite xref">RFC6077</a>]</span>.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
1471,1472c1499,1500
<          device that acts as a router connecting the CNN to the Internet. Alternatively, CNNs may also follow the multihop topology <span>[<a href="#RFC6606" class="xref">RFC6606</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
< <p id="section-2.2-2">In constrained environments, there can be different types of devices <span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span>.
---
>          device that acts as a router connecting the CNN to the Internet. Alternatively, CNNs may also follow the multihop topology <span>[<a href="#RFC6606" class="cite xref">RFC6606</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
> <p id="section-2.2-2">In constrained environments, there can be different types of devices <span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span>.
1499c1527
<           <div class="artwork art-text alignLeft" id="section-2.2-5.1">
---
>           <div class="alignLeft art-text artwork" id="section-2.2-5.1">
1537c1565
< <p id="section-2.3-3">A typical communication pattern is that a constrained device communicates with an unconstrained device (cf. <a href="#fig_scenario" class="xref">Figure 1</a>). But it is also possible that constrained devices communicate amongst themselves.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
---
> <p id="section-2.3-3">A typical communication pattern is that a constrained device communicates with an unconstrained device (cf. <a href="#fig_scenario" class="auto internal xref">Figure 1</a>). But it is also possible that constrained devices communicate amongst themselves.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
1556,1557c1584,1585
<           1280 bytes in order to avoid the need to support Path MTU Discovery <span>[<a href="#RFC8201" class="xref">RFC8201</a>]</span>.
<           In addition, an IP datagram size of 1280 bytes avoids incurring IPv6-layer fragmentation <span>[<a href="#RFC8900" class="xref">RFC8900</a>]</span>.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
---
>           1280 bytes in order to avoid the need to support Path MTU Discovery <span>[<a href="#RFC8201" class="cite xref">RFC8201</a>]</span>.
>           In addition, an IP datagram size of 1280 bytes avoids incurring IPv6-layer fragmentation <span>[<a href="#RFC8900" class="cite xref">RFC8900</a>]</span>.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
1560c1588
<    in an IP packet to be sent <span>[<a href="#RFC6691" class="xref">RFC6691</a>]</span>.  Therefore, it is not required to advertise an MSS smaller than 1220 bytes in order to accommodate TCP options.<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
---
>    in an IP packet to be sent <span>[<a href="#RFC6691" class="cite xref">RFC6691</a>]</span>.  Therefore, it is not required to advertise an MSS smaller than 1220 bytes in order to accommodate TCP options.<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
1564,1567c1592,1595
<           since IPv6 requires the layer below to support an MTU of 1280 bytes <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>, while IEEE 802.15.4 lacks fragmentation mechanisms. 
<           6LoWPAN defines an IEEE 802.15.4 link MTU of 1280 bytes <span>[<a href="#RFC4944" class="xref">RFC4944</a>]</span>. Other technologies, such as Bluetooth low energy <span>[<a href="#RFC7668" class="xref">RFC7668</a>]</span>, 
<           ITU-T G.9959 <span>[<a href="#RFC7428" class="xref">RFC7428</a>]</span>, or Digital Enhanced Cordless
<             Telecommunications (DECT) Ultra Low Energy (ULE) <span>[<a href="#RFC8105" class="xref">RFC8105</a>]</span>, also use 6LoWPAN-based adaptation layers in order to enable 
---
>           since IPv6 requires the layer below to support an MTU of 1280 bytes <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>, while IEEE 802.15.4 lacks fragmentation mechanisms. 
>           6LoWPAN defines an IEEE 802.15.4 link MTU of 1280 bytes <span>[<a href="#RFC4944" class="cite xref">RFC4944</a>]</span>. Other technologies, such as Bluetooth low energy <span>[<a href="#RFC7668" class="cite xref">RFC7668</a>]</span>, 
>           ITU-T G.9959 <span>[<a href="#RFC7428" class="cite xref">RFC7428</a>]</span>, or Digital Enhanced Cordless
>             Telecommunications (DECT) Ultra Low Energy (ULE) <span>[<a href="#RFC8105" class="cite xref">RFC8105</a>]</span>, also use 6LoWPAN-based adaptation layers in order to enable 
1570,1571c1598,1599
< <p id="section-3.1.1-4">On the other hand, there exist technologies also used in the CNN space, such as Master Slave (MS) / Token Passing (TP) <span>[<a href="#RFC8163" class="xref">RFC8163</a>]</span>, 
<              Narrowband IoT (NB-IoT) <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>, or IEEE 802.11ah <span>[<a href="#I-D.delcarpio-6lo-wlanah" class="xref">6LO-WLANAH</a>]</span>, 
---
> <p id="section-3.1.1-4">On the other hand, there exist technologies also used in the CNN space, such as Master Slave (MS) / Token Passing (TP) <span>[<a href="#RFC8163" class="cite xref">RFC8163</a>]</span>, 
>              Narrowband IoT (NB-IoT) <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>, or IEEE 802.11ah <span>[<a href="#I-D.delcarpio-6lo-wlanah" class="cite xref">6LO-WLANAH</a>]</span>, 
1573c1601
<       It is recommended that the MTU for MS/TP be 1500 bytes <span>[<a href="#RFC8163" class="xref">RFC8163</a>]</span>;
---
>       It is recommended that the MTU for MS/TP be 1500 bytes <span>[<a href="#RFC8163" class="cite xref">RFC8163</a>]</span>;
1584,1585c1612,1613
<               mechanism <span>[<a href="#RFC4944" class="xref">RFC4944</a>]</span> does not offer reliable fragment delivery, fragment recovery functionality for 6LoWPAN or 6Lo environments
<               has been standardized <span>[<a href="#RFC8931" class="xref">RFC8931</a>]</span>.<a href="#section-3.1.1-5" class="pilcrow">¶</a></p>
---
>               mechanism <span>[<a href="#RFC4944" class="cite xref">RFC4944</a>]</span> does not offer reliable fragment delivery, fragment recovery functionality for 6LoWPAN or 6Lo environments
>               has been standardized <span>[<a href="#RFC8931" class="cite xref">RFC8931</a>]</span>.<a href="#section-3.1.1-5" class="pilcrow">¶</a></p>
1591c1619
< <p id="section-3.1.2-1">ECN <span>[<a href="#RFC3168" class="xref">RFC3168</a>]</span> allows a router to signal
---
> <p id="section-3.1.2-1">ECN <span>[<a href="#RFC3168" class="cite xref">RFC3168</a>]</span> allows a router to signal
1597c1625
< <p id="section-3.1.2-2">RFC 8087 <span>[<a href="#RFC8087" class="xref">RFC8087</a>]</span> outlines the principal gains in terms of increased throughput,
---
> <p id="section-3.1.2-2">RFC 8087 <span>[<a href="#RFC8087" class="cite xref">RFC8087</a>]</span> outlines the principal gains in terms of increased throughput,
1601c1629
<    measures can be applied earlier <span>[<a href="#RFC2884" class="xref">RFC2884</a>]</span>.  Fewer lost packets implies
---
>    measures can be applied earlier <span>[<a href="#RFC2884" class="cite xref">RFC2884</a>]</span>.  Fewer lost packets implies
1621c1649
<   ACK-clocked transmission of segments <span>[<a href="#RFC3168" class="xref">RFC3168</a>]</span>.<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
---
>   ACK-clocked transmission of segments <span>[<a href="#RFC3168" class="cite xref">RFC3168</a>]</span>.<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
1623c1651
<    incrementally deployed in the Internet.  Guidance on configuration and usage of ECN is provided in RFC 7567 <span>[<a href="#RFC7567" class="xref">RFC7567</a>]</span>.
---
>    incrementally deployed in the Internet.  Guidance on configuration and usage of ECN is provided in RFC 7567 <span>[<a href="#RFC7567" class="cite xref">RFC7567</a>]</span>.
1625c1653
<    environments such as CNNs. As of this writing, there is ongoing work to extend the types of TCP packets that are ECN capable, including pure ACKs <span>[<a href="#I-D.ietf-tcpm-generalized-ecn" class="xref">TCPM-ECN</a>]</span>. 
---
>    environments such as CNNs. As of this writing, there is ongoing work to extend the types of TCP packets that are ECN capable, including pure ACKs <span>[<a href="#I-D.ietf-tcpm-generalized-ecn" class="cite xref">TCPM-ECN</a>]</span>. 
1632c1660
< <p id="section-3.1.3-1">There has been a significant body of research on solutions capable of explicitly indicating whether a TCP segment loss is due to corruption, in order to avoid activation of congestion control mechanisms <span>[<a href="#ETEN" class="xref">ETEN</a>]</span> <span>[<a href="#RFC2757" class="xref">RFC2757</a>]</span>. While such solutions may provide significant improvement, they have not been widely deployed and remain as experimental work. In fact, as of today, the IETF has not standardized any such solution.<a href="#section-3.1.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-3.1.3-1">There has been a significant body of research on solutions capable of explicitly indicating whether a TCP segment loss is due to corruption, in order to avoid activation of congestion control mechanisms <span>[<a href="#ETEN" class="cite xref">ETEN</a>]</span> <span>[<a href="#RFC2757" class="cite xref">RFC2757</a>]</span>. While such solutions may provide significant improvement, they have not been widely deployed and remain as experimental work. In fact, as of today, the IETF has not standardized any such solution.<a href="#section-3.1.3-1" class="pilcrow">¶</a></p>
1639c1667
< <p id="section-3.2-1">This section discusses TCP stacks that allow transferring a single MSS. More general guidance is provided in <a href="#Beyond1MSS" class="xref">Section 3.3</a>.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-3.2-1">This section discusses TCP stacks that allow transferring a single MSS. More general guidance is provided in <a href="#Beyond1MSS" class="auto internal xref">Section 3.3</a>.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
1650,1651c1678,1679
<                 Retransmit and Fast Recovery (which requires a larger window size; see <a href="#loss_recovery_flow" class="xref">Section 3.3.1</a>).<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
< <p id="section-3.2.1-2">If CoAP is used over TCP with the default setting for NSTART in RFC 7252 <span>[<a href="#RFC7252" class="xref">RFC7252</a>]</span>, a CoAP endpoint is not allowed to send 
---
>                 Retransmit and Fast Recovery (which requires a larger window size; see <a href="#loss_recovery_flow" class="auto internal xref">Section 3.3.1</a>).<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
> <p id="section-3.2.1-2">If CoAP is used over TCP with the default setting for NSTART in RFC 7252 <span>[<a href="#RFC7252" class="cite xref">RFC7252</a>]</span>, a CoAP endpoint is not allowed to send 
1665c1693
<              the No-Operation option, and the End Of Option List marker <span>[<a href="#RFC0793" class="xref">RFC0793</a>]</span>. None of these are a substantial burden to support. 
---
>              the No-Operation option, and the End Of Option List marker <span>[<a href="#RFC0793" class="cite xref">RFC0793</a>]</span>. None of these are a substantial burden to support. 
1668c1696
< <p id="section-3.2.2-2">A TCP implementation for a constrained device that uses a single-MSS TCP receive or transmit window size may not benefit from supporting the following TCP options: Window Scale <span>[<a href="#RFC7323" class="xref">RFC7323</a>]</span>, TCP Timestamps <span>[<a href="#RFC7323" class="xref">RFC7323</a>]</span>, Selective Acknowledgment (SACK) <span>[<a href="#RFC2018" class="xref">RFC2018</a>]</span>, and SACK-Permitted <span>[<a href="#RFC2018" class="xref">RFC2018</a>]</span>. Also, other TCP options may not be required on a constrained device with a very lightweight implementation. With regard to 
---
> <p id="section-3.2.2-2">A TCP implementation for a constrained device that uses a single-MSS TCP receive or transmit window size may not benefit from supporting the following TCP options: Window Scale <span>[<a href="#RFC7323" class="cite xref">RFC7323</a>]</span>, TCP Timestamps <span>[<a href="#RFC7323" class="cite xref">RFC7323</a>]</span>, Selective Acknowledgment (SACK) <span>[<a href="#RFC2018" class="cite xref">RFC2018</a>]</span>, and SACK-Permitted <span>[<a href="#RFC2018" class="cite xref">RFC2018</a>]</span>. Also, other TCP options may not be required on a constrained device with a very lightweight implementation. With regard to 
1671c1699
<       Note that a TCP sender can benefit from the TCP Timestamps option <span>[<a href="#RFC7323" class="xref">RFC7323</a>]</span> in detecting spurious RTOs. The latter are quite likely to occur
---
>       Note that a TCP sender can benefit from the TCP Timestamps option <span>[<a href="#RFC7323" class="cite xref">RFC7323</a>]</span> in detecting spurious RTOs. The latter are quite likely to occur
1682,1683c1710,1711
<              scenario (see <a href="#delayed_ACKs" class="xref">Section 3.3.2</a>).  There can be interactions with single-MSS stacks.<a href="#section-3.2.3-1" class="pilcrow">¶</a></p>
< <p id="section-3.2.3-2">When traffic is unidirectional, if the sender can send at most 1 MSS of data or the receiver advertises a receive window not greater than the MSS, Delayed ACKs may unnecessarily contribute delay (up to 500 ms) to the RTT <span>[<a href="#RFC5681" class="xref">RFC5681</a>]</span>, which limits the throughput and can increase data delivery time. Note that, in some cases, it may not be possible to disable Delayed ACKs.    One known workaround is to split the
---
>              scenario (see <a href="#delayed_ACKs" class="auto internal xref">Section 3.3.2</a>).  There can be interactions with single-MSS stacks.<a href="#section-3.2.3-1" class="pilcrow">¶</a></p>
> <p id="section-3.2.3-2">When traffic is unidirectional, if the sender can send at most 1 MSS of data or the receiver advertises a receive window not greater than the MSS, Delayed ACKs may unnecessarily contribute delay (up to 500 ms) to the RTT <span>[<a href="#RFC5681" class="cite xref">RFC5681</a>]</span>, which limits the throughput and can increase data delivery time. Note that, in some cases, it may not be possible to disable Delayed ACKs.    One known workaround is to split the
1698c1726
< <p id="section-3.2.4-1">The RTO calculation is one of the fundamental TCP algorithms <span>[<a href="#RFC6298" class="xref">RFC6298</a>]</span>. There is a fundamental trade-off: 
---
> <p id="section-3.2.4-1">The RTO calculation is one of the fundamental TCP algorithms <span>[<a href="#RFC6298" class="cite xref">RFC6298</a>]</span>. There is a fundamental trade-off: 
1704,1706c1732,1734
<             assessment of possible drawbacks is recommended <span>[<a href="#RFC8961" class="xref">RFC8961</a>]</span>.<a href="#section-3.2.4-2" class="pilcrow">¶</a></p>
< <p id="section-3.2.4-3">As an example, adaptive RTO algorithms defined for CoAP over UDP have been found to perform well in CNN scenarios <span>[<a href="#Commag" class="xref">Commag</a>]</span>
<             <span>[<a href="#I-D.ietf-core-fasor" class="xref">CORE-FASOR</a>]</span>.<a href="#section-3.2.4-3" class="pilcrow">¶</a></p>
---
>             assessment of possible drawbacks is recommended <span>[<a href="#RFC8961" class="cite xref">RFC8961</a>]</span>.<a href="#section-3.2.4-2" class="pilcrow">¶</a></p>
> <p id="section-3.2.4-3">As an example, adaptive RTO algorithms defined for CoAP over UDP have been found to perform well in CNN scenarios <span>[<a href="#Commag" class="cite xref">Commag</a>]</span>
>             <span>[<a href="#I-D.ietf-core-fasor" class="cite xref">CORE-FASOR</a>]</span>.<a href="#section-3.2.4-3" class="pilcrow">¶</a></p>
1714c1742
< <p id="section-3.3-1">This section summarizes some widely used techniques to improve TCP, with a focus on their use in CNNs. The TCP extensions discussed here are useful in a wide range of network scenarios, including CNNs. This section is not comprehensive. A comprehensive survey of TCP extensions is published in RFC 7414 <span>[<a href="#RFC7414" class="xref">RFC7414</a>]</span>.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-3.3-1">This section summarizes some widely used techniques to improve TCP, with a focus on their use in CNNs. The TCP extensions discussed here are useful in a wide range of network scenarios, including CNNs. This section is not comprehensive. A comprehensive survey of TCP extensions is published in RFC 7414 <span>[<a href="#RFC7414" class="cite xref">RFC7414</a>]</span>.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
1721,1722c1749,1750
<              than the timer-based approach used for a smaller TCP window size (see <a href="#single_MSS_stacks_benefits" class="xref">Section 3.2.1</a>) by 
<              using Fast Retransmit and Fast Recovery <span>[<a href="#RFC5681" class="xref">RFC5681</a>]</span>, at the expense of slightly greater complexity and Transmission Control Block (TCB) size. 
---
>              than the timer-based approach used for a smaller TCP window size (see <a href="#single_MSS_stacks_benefits" class="auto internal xref">Section 3.2.1</a>) by 
>              using Fast Retransmit and Fast Recovery <span>[<a href="#RFC5681" class="cite xref">RFC5681</a>]</span>, at the expense of slightly greater complexity and Transmission Control Block (TCB) size. 
1728c1756
< <p id="section-3.3.1-2">The example in the previous paragraph did not use a further TCP improvement such as Limited Transmit <span>[<a href="#RFC3042" class="xref">RFC3042</a>]</span>. The latter
---
> <p id="section-3.3.1-2">The example in the previous paragraph did not use a further TCP improvement such as Limited Transmit <span>[<a href="#RFC3042" class="cite xref">RFC3042</a>]</span>. The latter
1762c1790
< <p id="section-3.3.2-1">For certain traffic patterns, Delayed ACKs may have a detrimental effect, as already noted in <a href="#DelAck" class="xref">Section 3.2.3</a>. Advanced TCP stacks may use heuristics to determine the maximum delay for an ACK. For CNNs, the recommendation depends on the expected communication patterns.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-3.3.2-1">For certain traffic patterns, Delayed ACKs may have a detrimental effect, as already noted in <a href="#DelAck" class="auto internal xref">Section 3.2.3</a>. Advanced TCP stacks may use heuristics to determine the maximum delay for an ACK. For CNNs, the recommendation depends on the expected communication patterns.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
1779c1807
< <p id="section-3.3.3-1"><span>[<a href="#RFC5681" class="xref">RFC5681</a>]</span> specifies a TCP Initial Window (IW) of roughly 4 kB. Subsequently, RFC 6928 <span>[<a href="#RFC6928" class="xref">RFC6928</a>]</span> defines an experimental new value for the IW,
---
> <p id="section-3.3.3-1"><span>[<a href="#RFC5681" class="cite xref">RFC5681</a>]</span> specifies a TCP Initial Window (IW) of roughly 4 kB. Subsequently, RFC 6928 <span>[<a href="#RFC6928" class="cite xref">RFC6928</a>]</span> defines an experimental new value for the IW,
1815c1843
<            For example, the HTTP/1.1 specification encourages clients to be conservative when opening multiple connections <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.
---
>            For example, the HTTP/1.1 specification encourages clients to be conservative when opening multiple connections <span>[<a href="#RFC7230" class="cite xref">RFC7230</a>]</span>.
1830c1858
<          RFC 5382 <span>[<a href="#RFC5382" class="xref">RFC5382</a>]</span> specifies a minimum value for such an interval of 124 minutes. Measurement studies have reported that TCP NAT binding timeouts are highly 
---
>          RFC 5382 <span>[<a href="#RFC5382" class="cite xref">RFC5382</a>]</span> specifies a minimum value for such an interval of 124 minutes. Measurement studies have reported that TCP NAT binding timeouts are highly 
1833c1861
<         aforementioned minimum timeout of 124 minutes <span>[<a href="#HomeGateway" class="xref">HomeGateway</a>]</span>. The timeout duration used by a
---
>         aforementioned minimum timeout of 124 minutes <span>[<a href="#HomeGateway" class="cite xref">HomeGateway</a>]</span>. The timeout duration used by a
1845c1873
<         The message and latency overhead that stems from using a sequence of short-lived connections could be reduced by TCP Fast Open (TFO) <span>[<a href="#RFC7413" class="xref">RFC7413</a>]</span>,
---
>         The message and latency overhead that stems from using a sequence of short-lived connections could be reduced by TCP Fast Open (TFO) <span>[<a href="#RFC7413" class="cite xref">RFC7413</a>]</span>,
1856c1884
<         and may be used to perform SYN flood attacks, as well as amplified reflection attacks to victim hosts (see <span><a href="https://www.rfc-editor.org/rfc/rfc7413#section-5" class="relref">Section 5</a> of [<a href="#RFC7413" class="xref">RFC7413</a>]</span>). 
---
>         and may be used to perform SYN flood attacks, as well as amplified reflection attacks to victim hosts (see <span><a href="https://rfc-editor.org/rfc/rfc7413#section-5" class="relref">Section 5</a> of [<a href="#RFC7413" class="cite xref">RFC7413</a>]</span>). 
1860c1888
<         connections. However, as stated in <span>[<a href="#RFC7413" class="xref">RFC7413</a>]</span>, TFO deviates from the standard TCP semantics, since the data in the SYN could be replayed
---
>         connections. However, as stated in <span>[<a href="#RFC7413" class="cite xref">RFC7413</a>]</span>, TFO deviates from the standard TCP semantics, since the data in the SYN could be replayed
1862c1890
<         TLS <span>[<a href="#RFC7413" class="xref">RFC7413</a>]</span>. A comprehensive discussion on TFO can be found in RFC 7413 <span>[<a href="#RFC7413" class="xref">RFC7413</a>]</span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
---
>         TLS <span>[<a href="#RFC7413" class="cite xref">RFC7413</a>]</span>. A comprehensive discussion on TFO can be found in RFC 7413 <span>[<a href="#RFC7413" class="cite xref">RFC7413</a>]</span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
1865c1893
<           support such heartbeat messages (e.g., CoAP over TCP <span>[<a href="#RFC8323" class="xref">RFC8323</a>]</span>).   
---
>           support such heartbeat messages (e.g., CoAP over TCP <span>[<a href="#RFC8323" class="cite xref">RFC8323</a>]</span>).   
1870c1898
<           of possible values <span>[<a href="#HomeGateway" class="xref">HomeGateway</a>]</span>, and it may be hard to find a proper heartbeat period for application-layer heartbeat messages.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
---
>           of possible values <span>[<a href="#HomeGateway" class="cite xref">HomeGateway</a>]</span>, and it may be hard to find a proper heartbeat period for application-layer heartbeat messages.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
1880c1908
<         According to <span>[<a href="#RFC1122" class="xref">RFC1122</a>]</span>, keep-alives are an optional TCP mechanism that is
---
>         According to <span>[<a href="#RFC1122" class="cite xref">RFC1122</a>]</span>, keep-alives are an optional TCP mechanism that is
1894c1922
< <p id="section-5-1">Best current practices for securing TCP and TCP-based communication also applies to CNN. As an example, use of TLS <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> is strongly recommended if it is applicable.
---
> <p id="section-5-1">Best current practices for securing TCP and TCP-based communication also applies to CNN. As an example, use of TLS <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> is strongly recommended if it is applicable.
1896c1924
< <p id="section-5-2">There are TCP options that can actually protect the transport layer.  One example is the TCP Authentication Option (TCP-AO) <span>[<a href="#RFC5925" class="xref">RFC5925</a>]</span>. 
---
> <p id="section-5-2">There are TCP options that can actually protect the transport layer.  One example is the TCP Authentication Option (TCP-AO) <span>[<a href="#RFC5925" class="cite xref">RFC5925</a>]</span>. 
1900c1928
< <p id="section-5-3">For the mechanisms discussed in this document, the corresponding considerations apply. For instance, if TFO is used, the security considerations of  RFC 7413 <span>[<a href="#RFC7413" class="xref">RFC7413</a>]</span> apply.<a href="#section-5-3" class="pilcrow">¶</a></p>
---
> <p id="section-5-3">For the mechanisms discussed in this document, the corresponding considerations apply. For instance, if TFO is used, the security considerations of  RFC 7413 <span>[<a href="#RFC7413" class="cite xref">RFC7413</a>]</span> apply.<a href="#section-5-3" class="pilcrow">¶</a></p>
1904c1932
<          "shrew" Denial-of-Service (DoS) attack <span>[<a href="#SHREW" class="xref">SHREW</a>]</span>, whereby one or more sources generate a packet spike targeted to coincide with consecutive 
---
>          "shrew" Denial-of-Service (DoS) attack <span>[<a href="#SHREW" class="cite xref">SHREW</a>]</span>, whereby one or more sources generate a packet spike targeted to coincide with consecutive 
2161c2189
< <section id="section-appendix.a">
---
> <section id="appendix-A">
2163c2191
< <a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-tcp-implementations-for-con" class="section-name selfRef">TCP Implementations for Constrained Devices</a>
---
> <a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-tcp-implementations-for-con" class="section-name selfRef">TCP Implementations for Constrained Devices</a>
2165,2170c2193,2198
< <p id="section-appendix.a-1">This section overviews the main features of TCP implementations for constrained devices. The survey is limited to open-source stacks with a small footprint. It is not meant to be all-encompassing. For more powerful embedded systems (e.g., with 32-bit processors), there are further stacks that comprehensively implement TCP. On the other hand, please be aware that this Annex is based on information available as of the writing.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
< <section id="section-a.1">
<         <h2 id="name-uip">
< <a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-uip" class="section-name selfRef">uIP</a>
<         </h2>
< <p id="section-a.1-1">uIP is a TCP/IP stack, targeted for 8- and 16-bit microcontrollers, which pioneered TCP/IP implementations for constrained devices.
---
> <p id="appendix-A-1">This section overviews the main features of TCP implementations for constrained devices. The survey is limited to open-source stacks with a small footprint. It is not meant to be all-encompassing. For more powerful embedded systems (e.g., with 32-bit processors), there are further stacks that comprehensively implement TCP. On the other hand, please be aware that this Annex is based on information available as of the writing.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
> <section id="appendix-A.1">
>         <h3 id="name-uip">
> <a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-uip" class="section-name selfRef">uIP</a>
>         </h3>
> <p id="appendix-A.1-1">uIP is a TCP/IP stack, targeted for 8- and 16-bit microcontrollers, which pioneered TCP/IP implementations for constrained devices.
2172,2173c2200,2201
<            has been reported for uIP <span>[<a href="#Dunk" class="xref">Dunk</a>]</span>. Later versions of uIP implement IPv6 as well.<a href="#section-a.1-1" class="pilcrow">¶</a></p>
< <p id="section-a.1-2">uIP uses the same global buffer for both incoming and outgoing traffic, which has a
---
>            has been reported for uIP <span>[<a href="#Dunk" class="cite xref">Dunk</a>]</span>. Later versions of uIP implement IPv6 as well.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-2">uIP uses the same global buffer for both incoming and outgoing traffic, which has a
2175,2205c2203,2233
<            transmitted. Multiple connections are supported but need to share the global buffer.<a href="#section-a.1-2" class="pilcrow">¶</a></p>
< <p id="section-a.1-3">The MSS is announced via the MSS option on connection establishment, and the receive window size (of 1 MSS) is not modified during a connection. Stop-and-wait operation is used for sending data. Among other optimizations, this allows for the avoidance of sliding window operations, which use 32-bit arithmetic extensively and are expensive on 8-bit CPUs.<a href="#section-a.1-3" class="pilcrow">¶</a></p>
< <p id="section-a.1-4">Contiki uses the "split hack" technique (see <a href="#DelAck" class="xref">Section 3.2.3</a>) to avoid Delayed ACKs for senders using a single segment.<a href="#section-a.1-4" class="pilcrow">¶</a></p>
< <p id="section-a.1-5">The code size of the TCP implementation in Contiki-NG has been measured to be 3.2 kB on CC2538DK, cross-compiling on Linux.<a href="#section-a.1-5" class="pilcrow">¶</a></p>
< </section>
< <section id="section-a.2">
<         <h2 id="name-lwip">
< <a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-lwip" class="section-name selfRef">lwIP</a>
<         </h2>
< <p id="section-a.2-1">lwIP is a TCP/IP stack, targeted for 8- and 16-bit microcontrollers. lwIP has a total code size of ~14 kB to ~22 kB 
<           (which comprises memory management, checksumming, network interfaces, IPv4, ICMP, and TCP) and a TCP code size of ~9 kB to ~14 kB <span>[<a href="#Dunk" class="xref">Dunk</a>]</span>.
<         Both IPv4 and IPv6 are supported in lwIP since v2.0.0.<a href="#section-a.2-1" class="pilcrow">¶</a></p>
< <p id="section-a.2-2">In contrast with uIP, lwIP decouples applications from the network stack. lwIP supports a TCP transmission window greater than a single segment, as well as the buffering of incoming and outgoing data. Other implemented mechanisms comprise slow start, congestion avoidance, fast retransmit, and fast recovery. 
<            SACK and Window Scale support has been recently added to lwIP.<a href="#section-a.2-2" class="pilcrow">¶</a></p>
< </section>
< <section id="section-a.3">
<         <h2 id="name-riot">
< <a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-riot" class="section-name selfRef">RIOT</a>
<         </h2>
< <p id="section-a.3-1"> The RIOT TCP implementation (called "GNRC TCP") has been designed for Class 1 devices <span>[<a href="#RFC7228" class="xref">RFC7228</a>]</span>. The main target platforms are 8- and 16-bit microcontrollers, with 32-bit platforms also supported. GNRC TCP 
<             offers a similar function set as uIP, but it provides and maintains an independent receive buffer for each connection. In contrast to uIP, retransmission is also handled by GNRC TCP. For simplicity, GNRC TCP uses a single-MSS implementation. The application programmer does not need to know anything about the TCP internals; therefore, GNRC TCP can be seen as a user-friendly uIP TCP implementation.<a href="#section-a.3-1" class="pilcrow">¶</a></p>
< <p id="section-a.3-2"> The MSS is set on connections establishment and cannot be changed during connection lifetime. GNRC TCP allows multiple connections in parallel, but each TCB must 
<             be allocated somewhere in the system. By default, there is only enough memory allocated for a single TCP connection, but it can be increased at compile time if the user needs multiple parallel connections.<a href="#section-a.3-2" class="pilcrow">¶</a></p>
< <p id="section-a.3-3"> The RIOT TCP implementation offers an optional Portable Operating System Interface (POSIX) socket wrapper that enables POSIX compliance, if needed.<a href="#section-a.3-3" class="pilcrow">¶</a></p>
< <p id="section-a.3-4"> Further details on RIOT and GNRC can be found in <span>[<a href="#RIOT" class="xref">RIOT</a>]</span> and <span>[<a href="#GNRC" class="xref">GNRC</a>]</span>.<a href="#section-a.3-4" class="pilcrow">¶</a></p>
< </section>
< <section id="section-a.4">
<         <h2 id="name-tinyos">
< <a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-tinyos" class="section-name selfRef">TinyOS</a>
<         </h2>
< <p id="section-a.4-1">TinyOS was important as a platform for early constrained devices. TinyOS has an experimental TCP stack that uses a simple non-blocking library-based implementation of TCP, which provides a subset of the socket interface primitives. The application is responsible for buffering. The TCP library does not do any receive-side buffering. Instead, it will immediately dispatch new, in-order data to the application or otherwise drop the segment. A send buffer is provided by the application. Multiple TCP connections are possible. Recently, there has been little work on the stack.<a href="#section-a.4-1" class="pilcrow">¶</a></p>
---
>            transmitted. Multiple connections are supported but need to share the global buffer.<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-3">The MSS is announced via the MSS option on connection establishment, and the receive window size (of 1 MSS) is not modified during a connection. Stop-and-wait operation is used for sending data. Among other optimizations, this allows for the avoidance of sliding window operations, which use 32-bit arithmetic extensively and are expensive on 8-bit CPUs.<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-4">Contiki uses the "split hack" technique (see <a href="#DelAck" class="auto internal xref">Section 3.2.3</a>) to avoid Delayed ACKs for senders using a single segment.<a href="#appendix-A.1-4" class="pilcrow">¶</a></p>
> <p id="appendix-A.1-5">The code size of the TCP implementation in Contiki-NG has been measured to be 3.2 kB on CC2538DK, cross-compiling on Linux.<a href="#appendix-A.1-5" class="pilcrow">¶</a></p>
> </section>
> <section id="appendix-A.2">
>         <h3 id="name-lwip">
> <a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-lwip" class="section-name selfRef">lwIP</a>
>         </h3>
> <p id="appendix-A.2-1">lwIP is a TCP/IP stack, targeted for 8- and 16-bit microcontrollers. lwIP has a total code size of ~14 kB to ~22 kB 
>           (which comprises memory management, checksumming, network interfaces, IPv4, ICMP, and TCP) and a TCP code size of ~9 kB to ~14 kB <span>[<a href="#Dunk" class="cite xref">Dunk</a>]</span>.
>         Both IPv4 and IPv6 are supported in lwIP since v2.0.0.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.2-2">In contrast with uIP, lwIP decouples applications from the network stack. lwIP supports a TCP transmission window greater than a single segment, as well as the buffering of incoming and outgoing data. Other implemented mechanisms comprise slow start, congestion avoidance, fast retransmit, and fast recovery. 
>            SACK and Window Scale support has been recently added to lwIP.<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
> </section>
> <section id="appendix-A.3">
>         <h3 id="name-riot">
> <a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-riot" class="section-name selfRef">RIOT</a>
>         </h3>
> <p id="appendix-A.3-1"> The RIOT TCP implementation (called "GNRC TCP") has been designed for Class 1 devices <span>[<a href="#RFC7228" class="cite xref">RFC7228</a>]</span>. The main target platforms are 8- and 16-bit microcontrollers, with 32-bit platforms also supported. GNRC TCP 
>             offers a similar function set as uIP, but it provides and maintains an independent receive buffer for each connection. In contrast to uIP, retransmission is also handled by GNRC TCP. For simplicity, GNRC TCP uses a single-MSS implementation. The application programmer does not need to know anything about the TCP internals; therefore, GNRC TCP can be seen as a user-friendly uIP TCP implementation.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
> <p id="appendix-A.3-2"> The MSS is set on connections establishment and cannot be changed during connection lifetime. GNRC TCP allows multiple connections in parallel, but each TCB must 
>             be allocated somewhere in the system. By default, there is only enough memory allocated for a single TCP connection, but it can be increased at compile time if the user needs multiple parallel connections.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
> <p id="appendix-A.3-3"> The RIOT TCP implementation offers an optional Portable Operating System Interface (POSIX) socket wrapper that enables POSIX compliance, if needed.<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
> <p id="appendix-A.3-4"> Further details on RIOT and GNRC can be found in <span>[<a href="#RIOT" class="cite xref">RIOT</a>]</span> and <span>[<a href="#GNRC" class="cite xref">GNRC</a>]</span>.<a href="#appendix-A.3-4" class="pilcrow">¶</a></p>
> </section>
> <section id="appendix-A.4">
>         <h3 id="name-tinyos">
> <a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-tinyos" class="section-name selfRef">TinyOS</a>
>         </h3>
> <p id="appendix-A.4-1">TinyOS was important as a platform for early constrained devices. TinyOS has an experimental TCP stack that uses a simple non-blocking library-based implementation of TCP, which provides a subset of the socket interface primitives. The application is responsible for buffering. The TCP library does not do any receive-side buffering. Instead, it will immediately dispatch new, in-order data to the application or otherwise drop the segment. A send buffer is provided by the application. Multiple TCP connections are possible. Recently, there has been little work on the stack.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
2207,2212c2235,2240
< <section id="section-a.5">
<         <h2 id="name-freertos">
< <a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-freertos" class="section-name selfRef">FreeRTOS</a>
<         </h2>
< <p id="section-a.5-1">FreeRTOS is a real-time operating system kernel for embedded devices that 
<               is supported by 16- and 32-bit microprocessors. Its TCP implementation is based on multiple-segment window size, although a "Tiny-TCP" option, which is a single-MSS variant, can be enabled. Delayed ACKs are supported, with a 20 ms Delayed ACK timer as a technique intended "to gain performance".<a href="#section-a.5-1" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.5">
>         <h3 id="name-freertos">
> <a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-freertos" class="section-name selfRef">FreeRTOS</a>
>         </h3>
> <p id="appendix-A.5-1">FreeRTOS is a real-time operating system kernel for embedded devices that 
>               is supported by 16- and 32-bit microprocessors. Its TCP implementation is based on multiple-segment window size, although a "Tiny-TCP" option, which is a single-MSS variant, can be enabled. Delayed ACKs are supported, with a 20 ms Delayed ACK timer as a technique intended "to gain performance".<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
2214,2218c2242,2246
< <section id="section-a.6">
<         <h2 id="name-uc-os">
< <a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-uc-os" class="section-name selfRef">uC/OS</a>
<         </h2>
< <p id="section-a.6-1">uC/OS is a real-time operating system kernel for embedded devices, which is maintained by Micrium.  uC/OS is intended for 8-, 16-, and 32-bit microprocessors. The uC/OS TCP implementation supports a multiple-segment window size.<a href="#section-a.6-1" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.6">
>         <h3 id="name-uc-os">
> <a href="#appendix-A.6" class="section-number selfRef">A.6. </a><a href="#name-uc-os" class="section-name selfRef">uC/OS</a>
>         </h3>
> <p id="appendix-A.6-1">uC/OS is a real-time operating system kernel for embedded devices, which is maintained by Micrium.  uC/OS is intended for 8-, 16-, and 32-bit microprocessors. The uC/OS TCP implementation supports a multiple-segment window size.<a href="#appendix-A.6-1" class="pilcrow">¶</a></p>
2220,2224c2248,2252
< <section id="section-a.7">
<         <h2 id="name-summary">
< <a href="#section-a.7" class="section-number selfRef">A.7. </a><a href="#name-summary" class="section-name selfRef">Summary</a>
<         </h2>
< <p id="section-a.7-1">None of the implementations considered in this Annex support ECN or TFO.<a href="#section-a.7-1" class="pilcrow">¶</a></p>
---
> <section id="appendix-A.7">
>         <h3 id="name-summary">
> <a href="#appendix-A.7" class="section-number selfRef">A.7. </a><a href="#name-summary" class="section-name selfRef">Summary</a>
>         </h3>
> <p id="appendix-A.7-1">None of the implementations considered in this Annex support ECN or TFO.<a href="#appendix-A.7-1" class="pilcrow">¶</a></p>
2380,2383c2408,2411
< <p id="section-a.7-3">Legend:<a href="#section-a.7-3" class="pilcrow">¶</a></p>
< <span class="break"></span><dl class="dlParallel" id="section-a.7-4">
<           <dt id="section-a.7-4.1">(T1):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.2">TCP-only, on x86 and AVR platforms<a href="#section-a.7-4.2" class="pilcrow">¶</a>
---
> <p id="appendix-A.7-3">Legend:<a href="#appendix-A.7-3" class="pilcrow">¶</a></p>
> <span class="break"></span><dl class="dlParallel" id="appendix-A.7-4">
>           <dt id="appendix-A.7-4.1">(T1):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.2">TCP-only, on x86 and AVR platforms<a href="#appendix-A.7-4.2" class="pilcrow">¶</a>
2386,2387c2414,2415
< <dt id="section-a.7-4.3">(T2):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.4">TCP-only, on ARM Cortex-M platform<a href="#section-a.7-4.4" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.3">(T2):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.4">TCP-only, on ARM Cortex-M platform<a href="#appendix-A.7-4.4" class="pilcrow">¶</a>
2390,2392c2418,2420
< <dt id="section-a.7-4.5">(T3):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.6">TCP-only, on ARM Cortex-M0+ platform (NOTE: RAM usage for the same platform 
<              is ~2.5 kB for one TCP connection plus ~1.2 kB for each additional connection)<a href="#section-a.7-4.6" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.5">(T3):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.6">TCP-only, on ARM Cortex-M0+ platform (NOTE: RAM usage for the same platform 
>              is ~2.5 kB for one TCP connection plus ~1.2 kB for each additional connection)<a href="#appendix-A.7-4.6" class="pilcrow">¶</a>
2395,2396c2423,2424
< <dt id="section-a.7-4.7">(T4):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.8">TCP-only, on CC2538DK, cross-compiling on Linux<a href="#section-a.7-4.8" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.7">(T4):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.8">TCP-only, on CC2538DK, cross-compiling on Linux<a href="#appendix-A.7-4.8" class="pilcrow">¶</a>
2399,2400c2427,2428
< <dt id="section-a.7-4.9">(a):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.10">Includes IP, ICMP, and TCP on x86 and AVR platforms. The Contiki-NG TCP implementation has a code size of 3.2 kB on CC2538DK, cross-compiling on Linux<a href="#section-a.7-4.10" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.9">(a):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.10">Includes IP, ICMP, and TCP on x86 and AVR platforms. The Contiki-NG TCP implementation has a code size of 3.2 kB on CC2538DK, cross-compiling on Linux<a href="#appendix-A.7-4.10" class="pilcrow">¶</a>
2403,2404c2431,2432
< <dt id="section-a.7-4.11">(I):</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.12">Optional POSIX socket wrapper that enables POSIX compliance if needed<a href="#section-a.7-4.12" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.11">(I):</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.12">Optional POSIX socket wrapper that enables POSIX compliance if needed<a href="#appendix-A.7-4.12" class="pilcrow">¶</a>
2407,2408c2435,2436
< <dt id="section-a.7-4.13">Mult.:</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.14">Multiple<a href="#section-a.7-4.14" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.13">Mult.:</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.14">Multiple<a href="#appendix-A.7-4.14" class="pilcrow">¶</a>
2411,2412c2439,2440
< <dt id="section-a.7-4.15">N/A:</dt>
<           <dd style="margin-left: 4.0em" id="section-a.7-4.16">Not Available<a href="#section-a.7-4.16" class="pilcrow">¶</a>
---
> <dt id="appendix-A.7-4.15">N/A:</dt>
>           <dd style="margin-left: 4.0em" id="appendix-A.7-4.16">Not Available<a href="#appendix-A.7-4.16" class="pilcrow">¶</a>
2419c2447
< <section id="section-appendix.b">
---
> <section id="appendix-B">
2423c2451
< <p id="section-appendix.b-1">The work of <span class="contact-name">Carles Gomez</span> has been funded in part by the Spanish Government (Ministerio de Educacion, Cultura y Deporte) through Jose Castillejo grants CAS15/00336
---
> <p id="appendix-B-1">The work of <span class="contact-name">Carles Gomez</span> has been funded in part by the Spanish Government (Ministerio de Educacion, Cultura y Deporte) through Jose Castillejo grants CAS15/00336
2426,2427c2454,2455
<       Part of his contribution to this work has been carried out during his stays as a visiting scholar at the Computer Laboratory of the University of Cambridge.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-2"> The authors appreciate the feedback received for this document. The    
---
>       Part of his contribution to this work has been carried out during his stays as a visiting scholar at the Computer Laboratory of the University of Cambridge.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
> <p id="appendix-B-2"> The authors appreciate the feedback received for this document. The    
2432c2460
<    <span class="contact-name">Rahul Jadhav</span> kindly performed code size measurements on the Contiki-NG and lwIP 2.1.2 TCP implementations. He also provided details on the uIP TCP implementation.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
---
>    <span class="contact-name">Rahul Jadhav</span> kindly performed code size measurements on the Contiki-NG and lwIP 2.1.2 TCP implementations. He also provided details on the uIP TCP implementation.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
2436c2464
< <section id="section-appendix.c">
---
> <section id="appendix-C">
