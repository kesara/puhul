19c19
< <meta content="xml2rfc 2.35.0" name="generator">
---
> <meta content="xml2rfc 3.18.2" name="generator">
24c24,40
< <link href="rfc8664.xml" type="application/rfc+xml" rel="alternate">
---
> <!-- Generator version information:
>   xml2rfc 3.18.2
>     Python 3.11.7
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.2
>     lxml 4.9.3
>     platformdirs 4.1.0
>     pycountry 23.12.7
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.12
> -->
> <link href="rfc/rfc8664.xml" rel="alternate" type="application/rfc+xml">
34c50
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
43a60,65
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
46d67
<   width: extend-to-zoom;
61c82
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
63a85
>   overflow-wrap: break-word;
149a172,180
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
164,167d194
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
168a196
>   border: none;
191a220,222
> ul.ulBare, li.ulBare {
>   margin-left: 0em !important;
> }
233c264,265
< a[href].selfRef {
---
> a[href].selfRef,
> .iref + a[href].internal {
243c275
< tt, code, pre, code {
---
> tt, code, pre {
245c277
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
284a317,319
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
374a410,415
> /* Fix PDF info block run off issue */
> @media print {
>   #identifiers dd {
>     float: none;
>   }
> }
476c517
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
616d656
< 
638a679,681
>   .breakable pre {
>     break-inside: auto;
>   }
706c749
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
806c849
< tt, code, pre, code {
---
> tt, code, pre {
811c854
< pre.sourcecode,
---
> .sourcecode pre,
847c890
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
925,930d967
< /* Avoid wrapping of URLs in references */
< @media screen {
<   .references a {
<     white-space: nowrap;
<   }
< }
1001c1038
<   margin: 0 0 0.25em 0;
---
>   margin-bottom: 0.25em;
1015c1052
<   margin-bottom: 0;
---
>   margin-bottom: 0.5em;
1033a1071,1072
>   .artwork,
>   .artwork > pre,
1037,1038c1076,1209
< }</style>
< <link href="rfc-local.css" type="text/css" rel="stylesheet">
---
> }
> /* Avoid narrow tables forcing too narrow table captions, which may render badly */
> table {
>   min-width: 20em;
> }
> /* ol type a */
> ol.type-a { list-style-type: lower-alpha; }
> ol.type-A { list-style-type: upper-alpha; }
> ol.type-i { list-style-type: lower-roman; }
> ol.type-I { list-style-type: lower-roman; }
> /* Apply the print table and row borders in general, on request from the RPC,
> and increase the contrast between border and odd row background slightly */
> table {
>   border: 1px solid #ddd;
> }
> td {
>   border-top: 1px solid #ddd;
> }
> tr {
>   break-inside: avoid;
> }
> tr:nth-child(2n+1) > td {
>   background-color: #f8f8f8;
> }
> /* Use style rules to govern display of the TOC. */
> @media screen and (max-width: 1023px) {
>   #toc nav { display: none; }
>   #toc.active nav { display: block; }
> }
> /* Add support for keepWithNext */
> .keepWithNext {
>   break-after: avoid-page;
>   break-after: avoid-page;
> }
> /* Add support for keepWithPrevious */
> .keepWithPrevious {
>   break-before: avoid-page;
> }
> /* Change the approach to avoiding breaks inside artwork etc. */
> figure, pre, table, .artwork, .sourcecode  {
>   break-before: auto;
>   break-after: auto;
> }
> /* Avoid breaks between <dt> and <dd> */
> dl {
>   break-before: auto;
>   break-inside: auto;
> }
> dt {
>   break-before: auto;
>   break-after: avoid-page;
> }
> dd {
>   break-before: avoid-page;
>   break-after: auto;
>   orphans: 3;
>   widows: 3
> }
> span.break, dd.break {
>   margin-bottom: 0;
>   min-height: 0;
>   break-before: auto;
>   break-inside: auto;
>   break-after: auto;
> }
> /* Undo break-before ToC */
> @media print {
>   #toc {
>     break-before: auto;
>   }
> }
> /* Text in compact lists should not get extra bottom margin space,
>    since that would makes the list not compact */
> ul.compact p, .ulCompact p,
> ol.compact p, .olCompact p {
>  margin: 0;
> }
> /* But the list as a whole needs the extra space at the end */
> section ul.compact,
> section .ulCompact,
> section ol.compact,
> section .olCompact {
>   margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
> }
> /* The tt and code background above interferes with for instance table cell
>    backgrounds.  Changed to something a bit more selective. */
> tt, code {
>   background-color: transparent;
> }
> p tt, p code, li tt, li code {
>   background-color: #f8f8f8;
> }
> /* Tweak the pre margin -- 0px doesn't come out well */
> pre {
>    margin-top: 0.5px;
> }
> /* Tweak the compact list text */
> ul.compact, .ulCompact,
> ol.compact, .olCompact,
> dl.compact, .dlCompact {
>   line-height: normal;
> }
> /* Don't add top margin for nested lists */
> li > ul, li > ol, li > dl,
> dd > ul, dd > ol, dd > dl,
> dl > dd > dl {
>   margin-top: initial;
> }
> /* Elements that should not be rendered on the same line as a <dt> */
> /* This should match the element list in writer.text.TextWriter.render_dl() */
> dd > div.artwork:first-child,
> dd > aside:first-child,
> dd > figure:first-child,
> dd > ol:first-child,
> dd > div.sourcecode:first-child,
> dd > table:first-child,
> dd > ul:first-child {
>   clear: left;
> }
> /* fix for weird browser behaviour when <dd/> is empty */
> dt+dd:empty::before{
>   content: "\00a0";
> }
> /* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
> li > p {
>   margin-bottom: 0.5em
> }
> /* Don't let p margin spill out from inside list items */
> li > p:last-of-type:only-child {
>   margin-bottom: 0;
> }
> </style>
> <link href="rfc-local.css" rel="stylesheet" type="text/css">
> <link href="https://datatracker.ietf.org/doc/draft-ietf-pce-segment-routing-16" rel="prev">
1041c1212
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-pce-segment-routing-16" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1043,1044c1214,1215
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1153,1155c1324,1326
< <nav class="toc"><ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.1">
<             <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
---
> <nav class="toc"><ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
1157,1161c1328,1332
<           <li class="toc ulEmpty" id="section-toc.1-1.2">
<             <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
<                 <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
>             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
>                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
1165,1166c1336,1337
<           <li class="toc ulEmpty" id="section-toc.1-1.3">
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-overview-of-pcep-operation-" class="xref">Overview of PCEP Operation in SR Networks</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
>             <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-overview-of-pcep-operation-" class="internal xref">Overview of PCEP Operation in SR Networks</a></p>
1168,1175c1339,1346
<           <li class="toc ulEmpty" id="section-toc.1-1.4">
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-object-formats" class="xref">Object Formats</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
<                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-the-open-object" class="xref">The OPEN Object</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.1">
<                     <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-the-path-setup-type-capabil" class="xref">The Path Setup Type Capability TLV</a><a href="#section-toc.1-1.4.2.1.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
>             <p id="section-toc.1-1.4.1" class="keepWithNext"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-object-formats" class="internal xref">Object Formats</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
>                 <p id="section-toc.1-1.4.2.1.1" class="keepWithNext"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-the-open-object" class="internal xref">The OPEN Object</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
>                     <p id="section-toc.1-1.4.2.1.2.1.1" class="keepWithNext"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-the-path-setup-type-capabil" class="internal xref">The Path Setup Type Capability TLV</a></p>
1177,1178c1348,1349
<                   <li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.2">
<                     <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-the-sr-pce-capability-sub-t" class="xref">The SR PCE Capability Sub-TLV</a><a href="#section-toc.1-1.4.2.1.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
>                     <p id="section-toc.1-1.4.2.1.2.2.1" class="keepWithNext"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-the-sr-pce-capability-sub-t" class="internal xref">The SR PCE Capability Sub-TLV</a></p>
1182,1183c1353,1354
<               <li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
<                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-the-rp-srp-object" class="xref">The RP/SRP Object</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
>                 <p id="section-toc.1-1.4.2.2.1" class="keepWithNext"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-the-rp-srp-object" class="internal xref">The RP/SRP Object</a></p>
1185,1189c1356,1360
<               <li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
<                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-ero" class="xref">ERO</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
<                     <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-sr-ero-subobject" class="xref">SR-ERO Subobject</a><a href="#section-toc.1-1.4.2.3.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
>                 <p id="section-toc.1-1.4.2.3.1" class="keepWithNext"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-ero" class="internal xref">ERO</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
>                     <p id="section-toc.1-1.4.2.3.2.1.1" class="keepWithNext"><a href="#section-4.3.1" class="auto internal xref">4.3.1</a>.  <a href="#name-sr-ero-subobject" class="internal xref">SR-ERO Subobject</a></p>
1191,1192c1362,1363
<                   <li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.2">
<                     <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="xref">4.3.2</a>.  <a href="#name-nai-associated-with-sid" class="xref">NAI Associated with SID</a><a href="#section-toc.1-1.4.2.3.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.2">
>                     <p id="section-toc.1-1.4.2.3.2.2.1" class="keepWithNext"><a href="#section-4.3.2" class="auto internal xref">4.3.2</a>.  <a href="#name-nai-associated-with-sid" class="internal xref">NAI Associated with SID</a></p>
1196,1197c1367,1368
<               <li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
<                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-rro" class="xref">RRO</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
>                 <p id="section-toc.1-1.4.2.4.1" class="keepWithNext"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-rro" class="internal xref">RRO</a></p>
1199,1200c1370,1371
<               <li class="toc ulEmpty" id="section-toc.1-1.4.2.5">
<                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-metric-object" class="xref">METRIC Object</a><a href="#section-toc.1-1.4.2.5.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
>                 <p id="section-toc.1-1.4.2.5.1" class="keepWithNext"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-metric-object" class="internal xref">METRIC Object</a></p>
1204,1208c1375,1379
<           <li class="toc ulEmpty" id="section-toc.1-1.5">
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-procedures" class="xref">Procedures</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.5.2.1">
<                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-exchanging-the-sr-pce-capab" class="xref">Exchanging the SR PCE Capability</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
>             <p id="section-toc.1-1.5.1" class="keepWithNext"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-procedures" class="internal xref">Procedures</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
>                 <p id="section-toc.1-1.5.2.1.1" class="keepWithNext"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-exchanging-the-sr-pce-capab" class="internal xref">Exchanging the SR PCE Capability</a></p>
1210,1214c1381,1385
<               <li class="toc ulEmpty" id="section-toc.1-1.5.2.2">
<                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-ero-processing" class="xref">ERO Processing</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.5.2.2.2.1">
<                     <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-sr-ero-validation" class="xref">SR-ERO Validation</a><a href="#section-toc.1-1.5.2.2.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
>                 <p id="section-toc.1-1.5.2.2.1" class="keepWithNext"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-ero-processing" class="internal xref">ERO Processing</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
>                     <p id="section-toc.1-1.5.2.2.2.1.1" class="keepWithNext"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-sr-ero-validation" class="internal xref">SR-ERO Validation</a></p>
1216,1217c1387,1388
<                   <li class="toc ulEmpty" id="section-toc.1-1.5.2.2.2.2">
<                     <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-interpreting-the-sr-ero" class="xref">Interpreting the SR-ERO</a><a href="#section-toc.1-1.5.2.2.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
>                     <p id="section-toc.1-1.5.2.2.2.2.1" class="keepWithNext"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-interpreting-the-sr-ero" class="internal xref">Interpreting the SR-ERO</a></p>
1221,1222c1392,1393
<               <li class="toc ulEmpty" id="section-toc.1-1.5.2.3">
<                 <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-rro-processing" class="xref">RRO Processing</a><a href="#section-toc.1-1.5.2.3.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
>                 <p id="section-toc.1-1.5.2.3.1" class="keepWithNext"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-rro-processing" class="internal xref">RRO Processing</a></p>
1226,1230c1397,1401
<           <li class="toc ulEmpty" id="section-toc.1-1.6">
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-management-considerations" class="xref">Management Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.6.2.1">
<                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-controlling-the-path-setup-" class="xref">Controlling the Path Setup Type</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
>             <p id="section-toc.1-1.6.1" class="keepWithNext"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-management-considerations" class="internal xref">Management Considerations</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
>                 <p id="section-toc.1-1.6.2.1.1" class="keepWithNext"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-controlling-the-path-setup-" class="internal xref">Controlling the Path Setup Type</a></p>
1232,1233c1403,1404
<               <li class="toc ulEmpty" id="section-toc.1-1.6.2.2">
<                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-migrating-a-network-to-use-" class="xref">Migrating a Network to Use PCEP Segment-Routed Paths</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
>                 <p id="section-toc.1-1.6.2.2.1" class="keepWithNext"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-migrating-a-network-to-use-" class="internal xref">Migrating a Network to Use PCEP Segment-Routed Paths</a></p>
1235,1236c1406,1407
<               <li class="toc ulEmpty" id="section-toc.1-1.6.2.3">
<                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-verification-of-network-ope" class="xref">Verification of Network Operation</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
>                 <p id="section-toc.1-1.6.2.3.1" class="keepWithNext"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-verification-of-network-ope" class="internal xref">Verification of Network Operation</a></p>
1238,1239c1409,1410
<               <li class="toc ulEmpty" id="section-toc.1-1.6.2.4">
<                 <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-relationship-to-existing-ma" class="xref">Relationship to Existing Management Models</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
>                 <p id="section-toc.1-1.6.2.4.1" class="keepWithNext"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-relationship-to-existing-ma" class="internal xref">Relationship to Existing Management Models</a></p>
1243,1244c1414,1415
<           <li class="toc ulEmpty" id="section-toc.1-1.7">
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
>             <p id="section-toc.1-1.7.1" class="keepWithNext"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1246,1250c1417,1421
<           <li class="toc ulEmpty" id="section-toc.1-1.8">
<             <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
<                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-pcep-ero-and-rro-subobjects" class="xref">PCEP ERO and RRO Subobjects</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
>             <p id="section-toc.1-1.8.1" class="keepWithNext"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
>                 <p id="section-toc.1-1.8.2.1.1" class="keepWithNext"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-pcep-ero-and-rro-subobjects" class="internal xref">PCEP ERO and RRO Subobjects</a></p>
1252,1253c1423,1424
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
<                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-new-nai-type-registry" class="xref">New NAI Type Registry</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
>                 <p id="section-toc.1-1.8.2.2.1" class="keepWithNext"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-new-nai-type-registry" class="internal xref">New NAI Type Registry</a></p>
1255,1256c1426,1427
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.3">
<                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-new-sr-ero-flag-registry" class="xref">New SR-ERO Flag Registry</a><a href="#section-toc.1-1.8.2.3.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
>                 <p id="section-toc.1-1.8.2.3.1" class="keepWithNext"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-new-sr-ero-flag-registry" class="internal xref">New SR-ERO Flag Registry</a></p>
1258,1259c1429,1430
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.4">
<                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-pcep-error-object" class="xref">PCEP-Error Object</a><a href="#section-toc.1-1.8.2.4.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
>                 <p id="section-toc.1-1.8.2.4.1" class="keepWithNext"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-pcep-error-object" class="internal xref">PCEP-Error Object</a></p>
1261,1262c1432,1433
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.5">
<                 <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="xref">8.5</a>.  <a href="#name-pcep-tlv-type-indicators" class="xref">PCEP TLV Type Indicators</a><a href="#section-toc.1-1.8.2.5.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
>                 <p id="section-toc.1-1.8.2.5.1" class="keepWithNext"><a href="#section-8.5" class="auto internal xref">8.5</a>.  <a href="#name-pcep-tlv-type-indicators" class="internal xref">PCEP TLV Type Indicators</a></p>
1264,1265c1435,1436
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.6">
<                 <p id="section-toc.1-1.8.2.6.1"><a href="#section-8.6" class="xref">8.6</a>.  <a href="#name-path-setup-type-capability-" class="xref">PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators</a><a href="#section-toc.1-1.8.2.6.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
>                 <p id="section-toc.1-1.8.2.6.1" class="keepWithNext"><a href="#section-8.6" class="auto internal xref">8.6</a>.  <a href="#name-path-setup-type-capability-" class="internal xref">PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators</a></p>
1267,1268c1438,1439
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.7">
<                 <p id="section-toc.1-1.8.2.7.1"><a href="#section-8.7" class="xref">8.7</a>.  <a href="#name-new-path-setup-type" class="xref">New Path Setup Type</a><a href="#section-toc.1-1.8.2.7.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7">
>                 <p id="section-toc.1-1.8.2.7.1" class="keepWithNext"><a href="#section-8.7" class="auto internal xref">8.7</a>.  <a href="#name-new-path-setup-type" class="internal xref">New Path Setup Type</a></p>
1270,1271c1441,1442
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.8">
<                 <p id="section-toc.1-1.8.2.8.1"><a href="#section-8.8" class="xref">8.8</a>.  <a href="#name-new-metric-type" class="xref">New Metric Type</a><a href="#section-toc.1-1.8.2.8.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.8">
>                 <p id="section-toc.1-1.8.2.8.1" class="keepWithNext"><a href="#section-8.8" class="auto internal xref">8.8</a>.  <a href="#name-new-metric-type" class="internal xref">New Metric Type</a></p>
1273,1274c1444,1445
<               <li class="toc ulEmpty" id="section-toc.1-1.8.2.9">
<                 <p id="section-toc.1-1.8.2.9.1"><a href="#section-8.9" class="xref">8.9</a>.  <a href="#name-sr-pce-capability-flags" class="xref">SR PCE Capability Flags</a><a href="#section-toc.1-1.8.2.9.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.9">
>                 <p id="section-toc.1-1.8.2.9.1" class="keepWithNext"><a href="#section-8.9" class="auto internal xref">8.9</a>.  <a href="#name-sr-pce-capability-flags" class="internal xref">SR PCE Capability Flags</a></p>
1278,1282c1449,1453
<           <li class="toc ulEmpty" id="section-toc.1-1.9">
<             <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.9.2.1">
<                 <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.9.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
>             <p id="section-toc.1-1.9.1" class="keepWithNext"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-references" class="internal xref">References</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
>                 <p id="section-toc.1-1.9.2.1.1" class="keepWithNext"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1284,1285c1455,1456
<               <li class="toc ulEmpty" id="section-toc.1-1.9.2.2">
<                 <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.9.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
>                 <p id="section-toc.1-1.9.2.2.1" class="keepWithNext"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1289,1290c1460,1461
<           <li class="toc ulEmpty" id="section-toc.1-1.10">
<             <p id="section-toc.1-1.10.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-compatibility-with-early-im" class="xref">Compatibility with Early Implementations</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
>             <p id="section-toc.1-1.10.1" class="keepWithNext"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-compatibility-with-early-im" class="internal xref">Compatibility with Early Implementations</a></p>
1292,1293c1463,1464
<           <li class="toc ulEmpty" id="section-toc.1-1.11">
<             <p id="section-toc.1-1.11.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
>             <p id="section-toc.1-1.11.1" class="keepWithNext"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
1295,1296c1466,1467
<           <li class="toc ulEmpty" id="section-toc.1-1.12">
<             <p id="section-toc.1-1.12.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
>             <p id="section-toc.1-1.12.1" class="keepWithNext"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
1298,1299c1469,1470
<           <li class="toc ulEmpty" id="section-toc.1-1.13">
<             <p id="section-toc.1-1.13.1"><a href="#section-appendix.d" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
>             <p id="section-toc.1-1.13.1" class="keepWithNext"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1323,1324c1494,1495
< <p id="section-1-2"><span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> describes the SR architecture.  The
< corresponding IS-IS and OSPF extensions are specified in <span>[<a href="#RFC8667" class="xref">RFC8667</a>]</span> and <span>[<a href="#RFC8665" class="xref">RFC8665</a>]</span>, respectively.<a href="#section-1-2" class="pilcrow">¶</a></p>
---
> <p id="section-1-2"><span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span> describes the SR architecture.  The
> corresponding IS-IS and OSPF extensions are specified in <span>[<a href="#RFC8667" class="cite xref">RFC8667</a>]</span> and <span>[<a href="#RFC8665" class="cite xref">RFC8665</a>]</span>, respectively.<a href="#section-1-2" class="pilcrow">¶</a></p>
1326,1327c1497,1498
< forwarding plane <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span> or an IPv6 forwarding plane
< <span>[<a href="#I-D.ietf-6man-segment-routing-header" class="xref">IPv6-SRH</a>]</span>.  The MPLS forwarding plane can be applied
---
> forwarding plane <span>[<a href="#RFC8660" class="cite xref">RFC8660</a>]</span> or an IPv6 forwarding plane
> <span>[<a href="#I-D.ietf-6man-segment-routing-header" class="cite xref">IPv6-SRH</a>]</span>.  The MPLS forwarding plane can be applied
1338c1509
< <p id="section-1-5"><span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> describes the Path Computation Element
---
> <p id="section-1-5"><span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span> describes the Path Computation Element
1343c1514
< optimization criteria. <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span> specifies extensions
---
> optimization criteria. <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span> specifies extensions
1345c1516
< paths in compliance with <span>[<a href="#RFC4657" class="xref">RFC4657</a>]</span>.  It also defines objects
---
> paths in compliance with <span>[<a href="#RFC4657" class="cite xref">RFC4657</a>]</span>.  It also defines objects
1353,1356c1524,1527
< <p id="section-1-6">A mechanism to dynamically initiate LSPs on a PCC based on the requests from a stateful PCE or a controller using stateful PCE is specified in <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>. This mechanism is useful in Software-Defined Networking (SDN) applications, such as on-demand engineering or bandwidth calendaring <span>[<a href="#RFC8413" class="xref">RFC8413</a>]</span>.<a href="#section-1-6" class="pilcrow">¶</a></p>
< <p id="section-1-7">It is possible to use a stateful PCE for computing one or more SR-TE paths, taking into account various constraints and objective functions. Once a path is chosen, the stateful PCE can initiate an SR-TE path on a PCC using the PCEP extensions specified in <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span> and the SR-specific PCEP extensions specified in this document. Additionally, using procedures described in this document, a PCC can request an SR path from either a stateful or a stateless PCE.<a href="#section-1-7" class="pilcrow">¶</a></p>
< <p id="section-1-8">This specification relies on the procedures specified in <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> to exchange the Segment Routing capability and to specify that the path setup type of an LSP is Segment Routing.  This specification also updates <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> to clarify the use of sub-TLVs in the PATH-SETUP-TYPE-CAPABILITY TLV.  See <a href="#pst-cap-tlv" class="xref">Section 4.1.1</a> for details.<a href="#section-1-8" class="pilcrow">¶</a></p>
< <p id="section-1-9">This specification provides a mechanism for a network controller (acting as a PCE) to instantiate candidate paths for an SR Policy onto a head-end node (acting as a PCC) using PCEP.  For more information on the SR Policy Architecture, see <span>[<a href="#I-D.ietf-spring-segment-routing-policy" class="xref">SR-POLICY</a>]</span>.<a href="#section-1-9" class="pilcrow">¶</a></p>
---
> <p id="section-1-6">A mechanism to dynamically initiate LSPs on a PCC based on the requests from a stateful PCE or a controller using stateful PCE is specified in <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span>. This mechanism is useful in Software-Defined Networking (SDN) applications, such as on-demand engineering or bandwidth calendaring <span>[<a href="#RFC8413" class="cite xref">RFC8413</a>]</span>.<a href="#section-1-6" class="pilcrow">¶</a></p>
> <p id="section-1-7">It is possible to use a stateful PCE for computing one or more SR-TE paths, taking into account various constraints and objective functions. Once a path is chosen, the stateful PCE can initiate an SR-TE path on a PCC using the PCEP extensions specified in <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span> and the SR-specific PCEP extensions specified in this document. Additionally, using procedures described in this document, a PCC can request an SR path from either a stateful or a stateless PCE.<a href="#section-1-7" class="pilcrow">¶</a></p>
> <p id="section-1-8">This specification relies on the procedures specified in <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span> to exchange the Segment Routing capability and to specify that the path setup type of an LSP is Segment Routing.  This specification also updates <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span> to clarify the use of sub-TLVs in the PATH-SETUP-TYPE-CAPABILITY TLV.  See <a href="#pst-cap-tlv" class="auto internal xref">Section 4.1.1</a> for details.<a href="#section-1-8" class="pilcrow">¶</a></p>
> <p id="section-1-9">This specification provides a mechanism for a network controller (acting as a PCE) to instantiate candidate paths for an SR Policy onto a head-end node (acting as a PCC) using PCEP.  For more information on the SR Policy Architecture, see <span>[<a href="#I-D.ietf-spring-segment-routing-policy" class="cite xref">SR-POLICY</a>]</span>.<a href="#section-1-9" class="pilcrow">¶</a></p>
1363c1534
< <dl class="dlParallel" id="section-2-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-2-2">
1366a1538
>         <dd class="break"></dd>
1369a1542
>         <dd class="break"></dd>
1372a1546
>         <dd class="break"></dd>
1375a1550
>         <dd class="break"></dd>
1377c1552
<         <dd style="margin-left: 4.0em" id="section-2-2.10"> Base MPLS Imposition Maximum SID Depth, as defined in <span>[<a href="#RFC8491" class="xref">RFC8491</a>]</span><a href="#section-2-2.10" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 4.0em" id="section-2-2.10"> Base MPLS Imposition Maximum SID Depth, as defined in <span>[<a href="#RFC8491" class="cite xref">RFC8491</a>]</span><a href="#section-2-2.10" class="pilcrow">¶</a>
1378a1554
>         <dd class="break"></dd>
1381a1558
>         <dd class="break"></dd>
1384a1562
>         <dd class="break"></dd>
1387a1566
>         <dd class="break"></dd>
1390a1570
>         <dd class="break"></dd>
1393a1574
>         <dd class="break"></dd>
1396a1578
>         <dd class="break"></dd>
1399a1582
>         <dd class="break"></dd>
1402a1586
>         <dd class="break"></dd>
1405a1590
>         <dd class="break"></dd>
1408a1594
>         <dd class="break"></dd>
1411a1598
>         <dd class="break"></dd>
1414a1602
>       <dd class="break"></dd>
1422c1610
<     described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
---
>     described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
1441,1442c1629,1630
< <ul>
< <li id="section-3-3.1">An ordered set of IP addresses representing network nodes/links.<a href="#section-3-3.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-3-3.1">An ordered set of IP addresses representing network nodes/links.<a href="#section-3-3.1" class="pilcrow">¶</a>
1444c1632
<         <li id="section-3-3.2">An ordered set of SIDs, with or without the corresponding IP addresses.<a href="#section-3-3.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-3.2">An ordered set of SIDs, with or without the corresponding IP addresses.<a href="#section-3-3.2" class="pilcrow">¶</a>
1446c1634
<         <li id="section-3-3.3">An ordered set of MPLS labels, with or without corresponding IP addresses.<a href="#section-3-3.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-3.3">An ordered set of MPLS labels, with or without corresponding IP addresses.<a href="#section-3-3.3" class="pilcrow">¶</a>
1451c1639
< The PCC converts these into an MPLS label stack and next hop, as described in <a href="#SR-ERO-INTERPRET" class="xref">Section 5.2.2</a>.<a href="#section-3-4" class="pilcrow">¶</a></p>
---
> The PCC converts these into an MPLS label stack and next hop, as described in <a href="#SR-ERO-INTERPRET" class="auto internal xref">Section 5.2.2</a>.<a href="#section-3-4" class="pilcrow">¶</a></p>
1453c1641
< An ERO containing SR-ERO subobjects can be included in the PCEP Path Computation Reply (PCRep) message defined in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, the Path Computation LSP Initiate Request (PCInitiate) message defined in <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>, and the Path Computation Update Request (PCUpd) and Path Computation State Report (PCRpt) messages for LSPs defined in <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>.<a href="#section-3-5" class="pilcrow">¶</a></p>
---
> An ERO containing SR-ERO subobjects can be included in the PCEP Path Computation Reply (PCRep) message defined in <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>, the Path Computation LSP Initiate Request (PCInitiate) message defined in <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span>, and the Path Computation Update Request (PCUpd) and Path Computation State Report (PCRpt) messages for LSPs defined in <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>.<a href="#section-3-5" class="pilcrow">¶</a></p>
1457c1645
< delegated the LSP to it <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>.  A PCC can update an
---
> delegated the LSP to it <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>.  A PCC can update an
1464c1652
< path is set up and the old path is torn down, per <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>.<a href="#section-3-7" class="pilcrow">¶</a></p>
---
> path is set up and the old path is torn down, per <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>.<a href="#section-3-7" class="pilcrow">¶</a></p>
1466c1654
< <p id="section-3-9">A PCC <span class="bcp14">MAY</span> include a Record Route Object (RRO) containing the recorded LSP in PCReq and PCRpt messages as specified in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> and <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>, respectively. This document defines a new RRO subobject for SR networks. The methods used by a PCC to record the SR-TE LSP are outside the scope of this document.<a href="#section-3-9" class="pilcrow">¶</a></p>
---
> <p id="section-3-9">A PCC <span class="bcp14">MAY</span> include a Record Route Object (RRO) containing the recorded LSP in PCReq and PCRpt messages as specified in <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span> and <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>, respectively. This document defines a new RRO subobject for SR networks. The methods used by a PCC to record the SR-TE LSP are outside the scope of this document.<a href="#section-3-9" class="pilcrow">¶</a></p>
1468,1469c1656,1657
< <ul>
< <li id="section-3-11.1">Defines a new ERO subobject, a new RRO subobject, and new PCEP error codes.<a href="#section-3-11.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-3-11.1">Defines a new ERO subobject, a new RRO subobject, and new PCEP error codes.<a href="#section-3-11.1" class="pilcrow">¶</a>
1471c1659
<         <li id="section-3-11.2">Specifies how two PCEP speakers can establish a PCEP session that can carry information about SR-TE paths.<a href="#section-3-11.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-11.2">Specifies how two PCEP speakers can establish a PCEP session that can carry information about SR-TE paths.<a href="#section-3-11.2" class="pilcrow">¶</a>
1473c1661
<         <li id="section-3-11.3">Specifies processing rules for the ERO subobject.<a href="#section-3-11.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-11.3">Specifies processing rules for the ERO subobject.<a href="#section-3-11.3" class="pilcrow">¶</a>
1475c1663
<         <li id="section-3-11.4">Defines a new path setup type to be used in the PATH-SETUP-TYPE and PATH-SETUP-TYPE-CAPABILITY TLVs <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span>.<a href="#section-3-11.4" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-11.4">Defines a new path setup type to be used in the PATH-SETUP-TYPE and PATH-SETUP-TYPE-CAPABILITY TLVs <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span>.<a href="#section-3-11.4" class="pilcrow">¶</a>
1477c1665
<         <li id="section-3-11.5">Defines a new sub-TLV for the PATH-SETUP-TYPE-CAPABILITY TLV.<a href="#section-3-11.5" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-11.5">Defines a new sub-TLV for the PATH-SETUP-TYPE-CAPABILITY TLV.<a href="#section-3-11.5" class="pilcrow">¶</a>
1483c1671
< according to <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>, <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>, and any other applicable PCEP specifications.<a href="#section-3-12" class="pilcrow">¶</a></p>
---
> according to <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>, <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span>, and any other applicable PCEP specifications.<a href="#section-3-12" class="pilcrow">¶</a></p>
1501c1689
< <p id="section-4.1.1-1"><span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> defines the PATH-SETUP-TYPE-CAPABILITY TLV
---
> <p id="section-4.1.1-1"><span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span> defines the PATH-SETUP-TYPE-CAPABILITY TLV
1506c1694
< <p id="section-4.1.1-2">This specification updates <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> as follows.  It
---
> <p id="section-4.1.1-2">This specification updates <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span> as follows.  It
1508c1696
< sub-TLVs of the PATH-SETUP-TYPE-CAPABILITY TLV (see <a href="#IANA-subTLV-Type-Indicators" class="xref">Section 8.6</a>).  A PCEP speaker <span class="bcp14">MUST NOT</span>
---
> sub-TLVs of the PATH-SETUP-TYPE-CAPABILITY TLV (see <a href="#IANA-subTLV-Type-Indicators" class="auto internal xref">Section 8.6</a>).  A PCEP speaker <span class="bcp14">MUST NOT</span>
1522,1524c1710,1712
< <ul class="ulEmpty">
< <li class="ulEmpty" id="section-4.1.2-2.1">
<               <dl class="dlParallel" id="section-4.1.2-2.1.1">
---
> <ul class="normal ulEmpty">
> <li class="normal ulEmpty" id="section-4.1.2-2.1">
>               <span class="break"></span><dl class="dlParallel" id="section-4.1.2-2.1.1">
1526c1714
<                 <dd id="section-4.1.2-2.1.1.2">Traffic-engineering path is set up using Segment Routing.<a href="#section-4.1.2-2.1.1.2" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-4.1.2-2.1.1.2">Traffic-engineering path is set up using Segment Routing.<a href="#section-4.1.2-2.1.1.2" class="pilcrow">¶</a>
1527a1716
>               <dd class="break"></dd>
1536c1725
<             <div class="artwork art-text alignCenter" id="section-4.1.2-6.1">
---
>             <div class="alignCenter art-text artwork" id="section-4.1.2-6.1">
1552c1741
< <dl class="dlParallel" id="section-4.1.2-9">
---
> <span class="break"></span><dl class="dlParallel" id="section-4.1.2-9">
1554c1743
<             <dd id="section-4.1.2-9.2">
---
>             <dd style="margin-left: 1.5em" id="section-4.1.2-9.2">
1556a1746
>             <dd class="break"></dd>
1558c1748
<             <dd id="section-4.1.2-9.4">
---
>             <dd style="margin-left: 1.5em" id="section-4.1.2-9.4">
1561,1563c1751,1753
< <ul class="ulEmpty">
< <li class="ulEmpty" id="section-4.1.2-9.4.2.1">
<                   <dl class="dlParallel" id="section-4.1.2-9.4.2.1.1">
---
> <ul class="normal ulEmpty">
> <li class="normal ulEmpty" id="section-4.1.2-9.4.2.1">
>                   <span class="break"></span><dl class="dlParallel" id="section-4.1.2-9.4.2.1.1">
1566a1757
>                     <dd class="break"></dd>
1569a1761
>                   <dd class="break"></dd>
1573a1766
>             <dd class="break"></dd>
1575c1768
<             <dd id="section-4.1.2-9.6"> specifies the maximum number of SIDs (MPLS label stack depth in the context of this document) that a PCC is capable of imposing on a packet.  <a href="#SR-CAP-PROCESS" class="xref">Section 5.1</a> explains the relationship between this field and the X-Flag.<a href="#section-4.1.2-9.6" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.1.2-9.6"> specifies the maximum number of SIDs (MPLS label stack depth in the context of this document) that a PCC is capable of imposing on a packet.  <a href="#SR-CAP-PROCESS" class="auto internal xref">Section 5.1</a> explains the relationship between this field and the X-Flag.<a href="#section-4.1.2-9.6" class="pilcrow">¶</a>
1576a1770
>           <dd class="break"></dd>
1587c1781
< <p id="section-4.2-1">To set up an SR-TE LSP using SR, the Request Parameter (RP) or Stateful PCE Request Parameter (SRP) object <span class="bcp14">MUST</span> include the PATH-SETUP-TYPE TLV, specified in <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span>, with the PST set to 1 (and path setup using SR-TE).<a href="#section-4.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.2-1">To set up an SR-TE LSP using SR, the Request Parameter (RP) or Stateful PCE Request Parameter (SRP) object <span class="bcp14">MUST</span> include the PATH-SETUP-TYPE TLV, specified in <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span>, with the PST set to 1 (and path setup using SR-TE).<a href="#section-4.2-1" class="pilcrow">¶</a></p>
1597c1791
< <p id="section-4.3-2">The ERO specified in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span> is used to carry SR-TE path information. In order to carry a SID and/or NAI, this document defines a new ERO subobject referred to as the "SR-ERO subobject", whose format is specified in the following section. An ERO carrying an SR-TE path consists of one or more ERO subobjects, and it <span class="bcp14">MUST</span> carry only SR-ERO subobjects. Note that an SR-ERO subobject does not need to have both the SID and NAI. However, at least one of them <span class="bcp14">MUST</span> be present.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
---
> <p id="section-4.3-2">The ERO specified in <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span> is used to carry SR-TE path information. In order to carry a SID and/or NAI, this document defines a new ERO subobject referred to as the "SR-ERO subobject", whose format is specified in the following section. An ERO carrying an SR-TE path consists of one or more ERO subobjects, and it <span class="bcp14">MUST</span> carry only SR-ERO subobjects. Note that an SR-ERO subobject does not need to have both the SID and NAI. However, at least one of them <span class="bcp14">MUST</span> be present.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
1607c1801
<             <div class="artwork art-text alignLeft" id="section-4.3.1-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-4.3.1-2.1">
1624c1818
< <dl class="dlParallel" id="section-4.3.1-4">
---
> <span class="break"></span><dl class="dlParallel" id="section-4.3.1-4">
1626c1820
<             <dd id="section-4.3.1-4.2"> Indicates whether the subobject represents a loose hop in the LSP <span>[<a href="#RFC3209" class="xref">RFC3209</a>]</span>. If this flag is set to zero, a PCC <span class="bcp14">MUST NOT</span> overwrite the SID value present in the SR-ERO subobject. Otherwise, a PCC <span class="bcp14">MAY</span> expand or replace one or more SID values in the received SR-ERO based on its local policy.<a href="#section-4.3.1-4.2" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.2"> Indicates whether the subobject represents a loose hop in the LSP <span>[<a href="#RFC3209" class="cite xref">RFC3209</a>]</span>. If this flag is set to zero, a PCC <span class="bcp14">MUST NOT</span> overwrite the SID value present in the SR-ERO subobject. Otherwise, a PCC <span class="bcp14">MAY</span> expand or replace one or more SID values in the received SR-ERO based on its local policy.<a href="#section-4.3.1-4.2" class="pilcrow">¶</a>
1627a1822
>             <dd class="break"></dd>
1629c1824
<             <dd id="section-4.3.1-4.4"> Set to 36.<a href="#section-4.3.1-4.4" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.4"> Set to 36.<a href="#section-4.3.1-4.4" class="pilcrow">¶</a>
1630a1826
>             <dd class="break"></dd>
1632c1828
<             <dd id="section-4.3.1-4.6"> Contains the total length of the subobject in octets. The Length <span class="bcp14">MUST</span> be at least 8 and <span class="bcp14">MUST</span> be a multiple of 4. An SR-ERO subobject <span class="bcp14">MUST</span> contain at least one SID or NAI. The flags described below indicate whether the SID or NAI fields are absent.<a href="#section-4.3.1-4.6" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.6"> Contains the total length of the subobject in octets. The Length <span class="bcp14">MUST</span> be at least 8 and <span class="bcp14">MUST</span> be a multiple of 4. An SR-ERO subobject <span class="bcp14">MUST</span> contain at least one SID or NAI. The flags described below indicate whether the SID or NAI fields are absent.<a href="#section-4.3.1-4.6" class="pilcrow">¶</a>
1633a1830
>             <dd class="break"></dd>
1635c1832
<             <dd id="section-4.3.1-4.8">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.8">
1641c1838
< <dl class="dlParallel" id="section-4.3.1-4.8.2">
---
> <span class="break"></span><dl class="dlParallel" id="section-4.3.1-4.8.2">
1643c1840
<                 <dd id="section-4.3.1-4.8.2.2">The NAI is absent.<a href="#section-4.3.1-4.8.2.2" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.2">The NAI is absent.<a href="#section-4.3.1-4.8.2.2" class="pilcrow">¶</a>
1644a1842
>                 <dd class="break"></dd>
1646c1844
<                 <dd id="section-4.3.1-4.8.2.4">The NAI is an IPv4 node ID.<a href="#section-4.3.1-4.8.2.4" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.4">The NAI is an IPv4 node ID.<a href="#section-4.3.1-4.8.2.4" class="pilcrow">¶</a>
1647a1846
>                 <dd class="break"></dd>
1649c1848
<                 <dd id="section-4.3.1-4.8.2.6">The NAI is an IPv6 node ID.<a href="#section-4.3.1-4.8.2.6" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.6">The NAI is an IPv6 node ID.<a href="#section-4.3.1-4.8.2.6" class="pilcrow">¶</a>
1650a1850
>                 <dd class="break"></dd>
1652c1852
<                 <dd id="section-4.3.1-4.8.2.8">The NAI is an IPv4 adjacency.<a href="#section-4.3.1-4.8.2.8" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.8">The NAI is an IPv4 adjacency.<a href="#section-4.3.1-4.8.2.8" class="pilcrow">¶</a>
1653a1854
>                 <dd class="break"></dd>
1655c1856
<                 <dd id="section-4.3.1-4.8.2.10">The NAI is an IPv6 adjacency with global IPv6
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.10">The NAI is an IPv6 adjacency with global IPv6
1657a1859
>                 <dd class="break"></dd>
1659c1861
<                 <dd id="section-4.3.1-4.8.2.12">The NAI is an unnumbered adjacency with IPv4 node
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.12">The NAI is an unnumbered adjacency with IPv4 node
1661a1864
>                 <dd class="break"></dd>
1663c1866
<                 <dd id="section-4.3.1-4.8.2.14">The NAI is an IPv6 adjacency with link-local IPv6
---
>                 <dd style="margin-left: 1.5em" id="section-4.3.1-4.8.2.14">The NAI is an IPv6 adjacency with link-local IPv6
1665a1869
>               <dd class="break"></dd>
1667a1872
>             <dd class="break"></dd>
1669c1874
<             <dd id="section-4.3.1-4.10">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.10">
1671c1876
< <dl class="dlParallel" id="section-4.3.1-4.10.2">
---
> <span class="break"></span><dl class="dlParallel" id="section-4.3.1-4.10.2">
1673c1878
<                 <dd style="margin-left: 2.5em" id="section-4.3.1-4.10.2.2">If this bit is set to 1, the SID value represents an MPLS label stack entry as specified in <span>[<a href="#RFC3032" class="xref">RFC3032</a>]</span>. Otherwise, the SID value is an administratively configured value that represents an index into an MPLS label space (either SRGB or SRLB) per <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>.<a href="#section-4.3.1-4.10.2.2" class="pilcrow">¶</a>
---
>                 <dd style="margin-left: 2.5em" id="section-4.3.1-4.10.2.2">If this bit is set to 1, the SID value represents an MPLS label stack entry as specified in <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span>. Otherwise, the SID value is an administratively configured value that represents an index into an MPLS label space (either SRGB or SRLB) per <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span>.<a href="#section-4.3.1-4.10.2.2" class="pilcrow">¶</a>
1674a1880
>                 <dd class="break"></dd>
1677a1884
>                 <dd class="break"></dd>
1680a1888
>                 <dd class="break"></dd>
1683a1892
>               <dd class="break"></dd>
1685a1895
>             <dd class="break"></dd>
1687c1897
<             <dd id="section-4.3.1-4.12">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.12">
1689,1690c1899,1900
< <ul>
< <li id="section-4.3.1-4.12.2.1">A 4-octet index defining the offset into an MPLS label space per <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> or<a href="#section-4.3.1-4.12.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-4.3.1-4.12.2.1">A 4-octet index defining the offset into an MPLS label space per <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span> or<a href="#section-4.3.1-4.12.2.1" class="pilcrow">¶</a>
1692c1902
<                 <li id="section-4.3.1-4.12.2.2">A 4-octet MPLS label stack entry, where the 20 most significant bits encode the label value per <span>[<a href="#RFC3032" class="xref">RFC3032</a>]</span>.<a href="#section-4.3.1-4.12.2.2" class="pilcrow">¶</a>
---
>                 <li class="normal" id="section-4.3.1-4.12.2.2">A 4-octet MPLS label stack entry, where the 20 most significant bits encode the label value per <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span>.<a href="#section-4.3.1-4.12.2.2" class="pilcrow">¶</a>
1695a1906
>             <dd class="break"></dd>
1697c1908
<             <dd id="section-4.3.1-4.14"> The NAI associated with the SID. The NAI's format depends on the value in the NT field and is described in the following section.<a href="#section-4.3.1-4.14" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.1-4.14"> The NAI associated with the SID. The NAI's format depends on the value in the NT field and is described in the following section.<a href="#section-4.3.1-4.14" class="pilcrow">¶</a>
1698a1910
>           <dd class="break"></dd>
1710c1922
< <dl class="dlParallel" id="section-4.3.2-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-4.3.2-2">
1712c1924
<             <dd id="section-4.3.2-2.2">Specified as an IPv4 address. In this case, the NT value is 1, and the NAI field length is 4 octets.<a href="#section-4.3.2-2.2" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.2">Specified as an IPv4 address. In this case, the NT value is 1, and the NAI field length is 4 octets.<a href="#section-4.3.2-2.2" class="pilcrow">¶</a>
1713a1926
>             <dd class="break"></dd>
1715c1928
<             <dd id="section-4.3.2-2.4">Specified as an IPv6 address. In this case, the NT value is 2, and the NAI field length is 16 octets.<a href="#section-4.3.2-2.4" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.4">Specified as an IPv6 address. In this case, the NT value is 2, and the NAI field length is 16 octets.<a href="#section-4.3.2-2.4" class="pilcrow">¶</a>
1716a1930
>             <dd class="break"></dd>
1718c1932
<             <dd id="section-4.3.2-2.6">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.6">
1722c1936
<                 <div class="artwork art-text alignLeft" id="section-4.3.2-2.6.2.1">
---
>                 <div class="alignLeft art-text artwork" id="section-4.3.2-2.6.2.1">
1736a1951
>             <dd class="break"></dd>
1738c1953
<             <dd id="section-4.3.2-2.8">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.8">
1742c1957
<                 <div class="artwork art-text alignLeft" id="section-4.3.2-2.8.2.1">
---
>                 <div class="alignLeft art-text artwork" id="section-4.3.2-2.8.2.1">
1756a1972
>             <dd class="break"></dd>
1758c1974
<             <dd id="section-4.3.2-2.10">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.10">
1765c1981
<                 <div class="artwork art-text alignLeft" id="section-4.3.2-2.10.2.1">
---
>                 <div class="alignLeft art-text artwork" id="section-4.3.2-2.10.2.1">
1783a2000
>             <dd class="break"></dd>
1785c2002
<             <dd id="section-4.3.2-2.12">
---
>             <dd style="margin-left: 1.5em" id="section-4.3.2-2.12">
1789c2006
<                 <div class="artwork art-text alignLeft" id="section-4.3.2-2.12.2.1">
---
>                 <div class="alignLeft art-text artwork" id="section-4.3.2-2.12.2.1">
1807a2025
>           <dd class="break"></dd>
1818c2036
< <p id="section-4.4-1">A PCC reports an SR-TE LSP to a PCE by sending a PCRpt message, per <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>.  The RRO on this message represents the SID list that was applied by the PCC, that is, the actual path taken by the LSP.  The procedures of <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span> with respect to the RRO apply equally to this specification without change.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.4-1">A PCC reports an SR-TE LSP to a PCE by sending a PCRpt message, per <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>.  The RRO on this message represents the SID list that was applied by the PCC, that is, the actual path taken by the LSP.  The procedures of <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span> with respect to the RRO apply equally to this specification without change.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
1822c2040
<           <div class="artwork art-text alignLeft" id="section-4.4-3.1">
---
>           <div class="alignLeft art-text artwork" id="section-4.4-3.1">
1847,1850c2065,2068
< <p id="section-4.5-1">A PCC <span class="bcp14">MAY</span> request that PCE optimizes an individual path computation request to minimize the SID depth of the computed path by using the METRIC object defined in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  This document defines a new type for the METRIC object to be used for this purpose, as follows:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
< <ul class="ulEmpty">
< <li class="ulEmpty" id="section-4.5-2.1">
<             <dl class="dlParallel" id="section-4.5-2.1.1">
---
> <p id="section-4.5-1">A PCC <span class="bcp14">MAY</span> request that PCE optimizes an individual path computation request to minimize the SID depth of the computed path by using the METRIC object defined in <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>.  This document defines a new type for the METRIC object to be used for this purpose, as follows:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
> <ul class="normal ulEmpty">
> <li class="normal ulEmpty" id="section-4.5-2.1">
>             <span class="break"></span><dl class="dlParallel" id="section-4.5-2.1.1">
1852c2070
<               <dd id="section-4.5-2.1.1.2">Maximum SID Depth of the requested path.<a href="#section-4.5-2.1.1.2" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-4.5-2.1.1.2">Maximum SID Depth of the requested path.<a href="#section-4.5-2.1.1.2" class="pilcrow">¶</a>
1853a2072
>             <dd class="break"></dd>
1881c2100
< <p id="section-5.1-3">If a PCC sets the N-Flag to 1, then the PCE <span class="bcp14">MAY</span> send an SR-ERO subobject containing an NAI and no SID (see <a href="#SR-ERO-PROCESS" class="xref">Section 5.2</a>).  Otherwise, the PCE <span class="bcp14">MUST NOT</span> send an SR-ERO subobject containing an NAI and no SID.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
---
> <p id="section-5.1-3">If a PCC sets the N-Flag to 1, then the PCE <span class="bcp14">MAY</span> send an SR-ERO subobject containing an NAI and no SID (see <a href="#SR-ERO-PROCESS" class="auto internal xref">Section 5.2</a>).  Otherwise, the PCE <span class="bcp14">MUST NOT</span> send an SR-ERO subobject containing an NAI and no SID.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
1883,1884c2102,2103
< <p id="section-5.1-5">Note that the MSD value exchanged via the SR-PCE-CAPABILITY sub-TLV indicates the SID/label imposition limit for the PCC node.  It is anticipated that, in many deployments, the PCCs will have network interfaces that are homogeneous with respect to MSD (that is, each interface has the same MSD).  In such cases, having a per-node MSD on the PCEP session is sufficient; the PCE <span class="bcp14">SHOULD</span> interpret this to mean that all network interfaces on the PCC have the given MSD.  However, the PCE <span class="bcp14">MAY</span> also learn a per-node MSD and a per-interface MSD from the routing protocols, as specified in <span>[<a href="#RFC8491" class="xref">RFC8491</a>]</span>, <span>[<a href="#RFC8476" class="xref">RFC8476</a>]</span>, and  <span>[<a href="#I-D.ietf-idr-bgp-ls-segment-routing-msd" class="xref">MSD-BGP</a>]</span>.  If the PCE learns the per-node MSD of a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> ignore the per-node MSD value in the SR-PCE-CAPABILITY sub-TLV and use the per-node MSD learned from the routing protocol instead.  If the PCE learns the MSD of a network interface on a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> use the per-interface MSD instead of the MSD value in the SR-PCE-CAPABILITY sub-TLV when it computes a path that uses that interface.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
< <p id="section-5.1-6">Once an SR-capable PCEP session is established with a non-zero MSD value, the corresponding PCE <span class="bcp14">MUST NOT</span> send SR-TE paths with a number of SIDs exceeding that MSD value. If a PCC needs to modify the MSD value, it <span class="bcp14">MUST</span> close the PCEP session and re-establish it with the new MSD value. If a PCEP session is established with a non-zero MSD value, and the PCC receives an SR-TE path containing more SIDs than specified in the MSD value, the PCC <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects"). If a PCEP session is established with an MSD value of zero, then the PCC <span class="bcp14">MAY</span> specify an MSD for each path computation request that it sends to the PCE, by including a "maximum SID depth" METRIC object on the request, as defined in <a href="#SR-METRIC" class="xref">Section 4.5</a>.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
---
> <p id="section-5.1-5">Note that the MSD value exchanged via the SR-PCE-CAPABILITY sub-TLV indicates the SID/label imposition limit for the PCC node.  It is anticipated that, in many deployments, the PCCs will have network interfaces that are homogeneous with respect to MSD (that is, each interface has the same MSD).  In such cases, having a per-node MSD on the PCEP session is sufficient; the PCE <span class="bcp14">SHOULD</span> interpret this to mean that all network interfaces on the PCC have the given MSD.  However, the PCE <span class="bcp14">MAY</span> also learn a per-node MSD and a per-interface MSD from the routing protocols, as specified in <span>[<a href="#RFC8491" class="cite xref">RFC8491</a>]</span>, <span>[<a href="#RFC8476" class="cite xref">RFC8476</a>]</span>, and  <span>[<a href="#I-D.ietf-idr-bgp-ls-segment-routing-msd" class="cite xref">MSD-BGP</a>]</span>.  If the PCE learns the per-node MSD of a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> ignore the per-node MSD value in the SR-PCE-CAPABILITY sub-TLV and use the per-node MSD learned from the routing protocol instead.  If the PCE learns the MSD of a network interface on a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> use the per-interface MSD instead of the MSD value in the SR-PCE-CAPABILITY sub-TLV when it computes a path that uses that interface.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
> <p id="section-5.1-6">Once an SR-capable PCEP session is established with a non-zero MSD value, the corresponding PCE <span class="bcp14">MUST NOT</span> send SR-TE paths with a number of SIDs exceeding that MSD value. If a PCC needs to modify the MSD value, it <span class="bcp14">MUST</span> close the PCEP session and re-establish it with the new MSD value. If a PCEP session is established with a non-zero MSD value, and the PCC receives an SR-TE path containing more SIDs than specified in the MSD value, the PCC <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects"). If a PCEP session is established with an MSD value of zero, then the PCC <span class="bcp14">MAY</span> specify an MSD for each path computation request that it sends to the PCE, by including a "maximum SID depth" METRIC object on the request, as defined in <a href="#SR-METRIC" class="auto internal xref">Section 4.5</a>.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
1898c2117
< <p id="section-5.2.1-1">If a PCC does not support the SR PCE Capability and thus cannot recognize the SR-ERO or SR-RRO subobjects, it will respond according to the rules for a malformed object per <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-5.2.1-1">If a PCC does not support the SR PCE Capability and thus cannot recognize the SR-ERO or SR-RRO subobjects, it will respond according to the rules for a malformed object per <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
1900,1901c2119,2120
< <ul>
< <li id="section-5.2.1-3.1">If NT=0, the F bit <span class="bcp14">MUST</span> be 1, the S bit <span class="bcp14">MUST</span> be zero, and the Length <span class="bcp14">MUST</span> be 8.<a href="#section-5.2.1-3.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-5.2.1-3.1">If NT=0, the F bit <span class="bcp14">MUST</span> be 1, the S bit <span class="bcp14">MUST</span> be zero, and the Length <span class="bcp14">MUST</span> be 8.<a href="#section-5.2.1-3.1" class="pilcrow">¶</a>
1903c2122
<             <li id="section-5.2.1-3.2">If NT=1, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 8; otherwise, the Length <span class="bcp14">MUST</span> be 12.<a href="#section-5.2.1-3.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.2">If NT=1, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 8; otherwise, the Length <span class="bcp14">MUST</span> be 12.<a href="#section-5.2.1-3.2" class="pilcrow">¶</a>
1905c2124
<             <li id="section-5.2.1-3.3">If NT=2, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a href="#section-5.2.1-3.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.3">If NT=2, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a href="#section-5.2.1-3.3" class="pilcrow">¶</a>
1907c2126
<             <li id="section-5.2.1-3.4">If NT=3, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 12; otherwise, the Length <span class="bcp14">MUST</span> be 16.<a href="#section-5.2.1-3.4" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.4">If NT=3, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 12; otherwise, the Length <span class="bcp14">MUST</span> be 16.<a href="#section-5.2.1-3.4" class="pilcrow">¶</a>
1909c2128
<             <li id="section-5.2.1-3.5">If NT=4, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 36; otherwise, the Length <span class="bcp14">MUST</span> be 40.<a href="#section-5.2.1-3.5" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.5">If NT=4, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 36; otherwise, the Length <span class="bcp14">MUST</span> be 40.<a href="#section-5.2.1-3.5" class="pilcrow">¶</a>
1911c2130
<             <li id="section-5.2.1-3.6">If NT=5, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a href="#section-5.2.1-3.6" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.6">If NT=5, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a href="#section-5.2.1-3.6" class="pilcrow">¶</a>
1913c2132
<             <li id="section-5.2.1-3.7">If NT=6, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 44; otherwise, the Length <span class="bcp14">MUST</span> be 48.<a href="#section-5.2.1-3.7" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.2.1-3.7">If NT=6, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 44; otherwise, the Length <span class="bcp14">MUST</span> be 48.<a href="#section-5.2.1-3.7" class="pilcrow">¶</a>
1953,1954c2172,2173
< <ul>
< <li id="section-5.2.2-4.1">
---
> <ul class="normal">
> <li class="normal" id="section-5.2.2-4.1">
1957c2176
<           <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span>.<a href="#section-5.2.2-4.1" class="pilcrow">¶</a>
---
>           <span>[<a href="#RFC8660" class="cite xref">RFC8660</a>]</span>.<a href="#section-5.2.2-4.1" class="pilcrow">¶</a>
1959c2178
<             <li id="section-5.2.2-4.2">
---
>             <li class="normal" id="section-5.2.2-4.2">
1967c2186
<           with it, the PCC behaves as specified in <a href="#SR-ERO-INTERPRET-ERROR" class="xref">Section 5.2.2.1</a>.<a href="#section-5.2.2-4.2" class="pilcrow">¶</a>
---
>           with it, the PCC behaves as specified in <a href="#SR-ERO-INTERPRET-ERROR" class="auto internal xref">Section 5.2.2.1</a>.<a href="#section-5.2.2-4.2" class="pilcrow">¶</a>
1969c2188
<             <li id="section-5.2.2-4.3">
---
>             <li class="normal" id="section-5.2.2-4.3">
1984,1985c2203,2204
< <ul>
< <li id="section-5.2.2.1-2.1">If the PCC cannot find a SID index in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 14 ("Unknown SID").<a href="#section-5.2.2.1-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-5.2.2.1-2.1">If the PCC cannot find a SID index in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 14 ("Unknown SID").<a href="#section-5.2.2.1-2.1" class="pilcrow">¶</a>
1987c2206
<               <li id="section-5.2.2.1-2.2">If the PCC cannot find an NAI in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 15 ("NAI cannot be resolved to a SID").<a href="#section-5.2.2.1-2.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.2">If the PCC cannot find an NAI in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 15 ("NAI cannot be resolved to a SID").<a href="#section-5.2.2.1-2.2" class="pilcrow">¶</a>
1989c2208
<               <li id="section-5.2.2.1-2.3">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRGB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 16 ("Could not find SRGB").<a href="#section-5.2.2.1-2.3" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.3">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRGB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 16 ("Could not find SRGB").<a href="#section-5.2.2.1-2.3" class="pilcrow">¶</a>
1991c2210
<               <li id="section-5.2.2.1-2.4">If the PCC finds that a router's SRGB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 17 ("SID index exceeds SRGB size").<a href="#section-5.2.2.1-2.4" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.4">If the PCC finds that a router's SRGB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 17 ("SID index exceeds SRGB size").<a href="#section-5.2.2.1-2.4" class="pilcrow">¶</a>
1993c2212
<               <li id="section-5.2.2.1-2.5">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRLB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 18 ("Could not find SRLB").<a href="#section-5.2.2.1-2.5" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.5">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRLB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 18 ("Could not find SRLB").<a href="#section-5.2.2.1-2.5" class="pilcrow">¶</a>
1995c2214
<               <li id="section-5.2.2.1-2.6">If the PCC finds that a router's SRLB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 19 ("SID index exceeds SRLB size").<a href="#section-5.2.2.1-2.6" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.6">If the PCC finds that a router's SRLB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 19 ("SID index exceeds SRLB size").<a href="#section-5.2.2.1-2.6" class="pilcrow">¶</a>
1997c2216
<               <li id="section-5.2.2.1-2.7">If the number of labels in the computed label stack exceeds the maximum number of SIDs that the PCC can impose on the packet, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects").<a href="#section-5.2.2.1-2.7" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-5.2.2.1-2.7">If the number of labels in the computed label stack exceeds the maximum number of SIDs that the PCC can impose on the packet, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects").<a href="#section-5.2.2.1-2.7" class="pilcrow">¶</a>
2036,2037c2255,2256
< <ul>
< <li id="section-6.1-2.1">  The available path setup types are constrained to those that
---
> <ul class="normal">
> <li class="normal" id="section-6.1-2.1">  The available path setup types are constrained to those that
2045c2264
<           <li id="section-6.1-2.2">  When a PCE initiates an LSP, it proposes which path setup type
---
>           <li class="normal" id="section-6.1-2.2">  When a PCE initiates an LSP, it proposes which path setup type
2053c2272
<           <li id="section-6.1-2.3">  When a PCC requests a path for an LSP, it can nominate a preferred
---
>           <li class="normal" id="section-6.1-2.3">  When a PCC requests a path for an LSP, it can nominate a preferred
2062,2063c2281,2282
< <ul>
< <li id="section-6.1-4.1">  Implementations <span class="bcp14">MUST</span> allow the operator to enable and disable
---
> <ul class="normal">
> <li class="normal" id="section-6.1-4.1">  Implementations <span class="bcp14">MUST</span> allow the operator to enable and disable
2068c2287
<           <li id="section-6.1-4.2">  PCE implementations <span class="bcp14">MUST</span> allow the operator to specify that an LSP
---
>           <li class="normal" id="section-6.1-4.2">  PCE implementations <span class="bcp14">MUST</span> allow the operator to specify that an LSP
2072c2291
<           <li id="section-6.1-4.3">  PCE implementations <span class="bcp14">MAY</span> allow the operator to configure a
---
>           <li class="normal" id="section-6.1-4.3">  PCE implementations <span class="bcp14">MAY</span> allow the operator to configure a
2076c2295
<           <li id="section-6.1-4.4">  PCC implementations <span class="bcp14">MUST</span> allow the operator to specify that a path
---
>           <li class="normal" id="section-6.1-4.4">  PCC implementations <span class="bcp14">MUST</span> allow the operator to specify that a path
2080c2299
<           <li id="section-6.1-4.5">  PCC implementations <span class="bcp14">MAY</span> allow the operator to configure a preference
---
>           <li class="normal" id="section-6.1-4.5">  PCC implementations <span class="bcp14">MAY</span> allow the operator to configure a preference
2084c2303
<           <li id="section-6.1-4.6">  PCC implementations <span class="bcp14">SHOULD</span> allow the operator to configure a PCC to
---
>           <li class="normal" id="section-6.1-4.6">  PCC implementations <span class="bcp14">SHOULD</span> allow the operator to configure a PCC to
2099,2100c2318,2319
< <ul>
< <li id="section-6.2-2.1">  The operator enables the Segment Routing PST on the PCE servers.<a href="#section-6.2-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-6.2-2.1">  The operator enables the Segment Routing PST on the PCE servers.<a href="#section-6.2-2.1" class="pilcrow">¶</a>
2102c2321
<           <li id="section-6.2-2.2">  The operator enables the Segment Routing PST on the PCCs.<a href="#section-6.2-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.2-2.2">  The operator enables the Segment Routing PST on the PCCs.<a href="#section-6.2-2.2" class="pilcrow">¶</a>
2104c2323
<           <li id="section-6.2-2.3">  The operator resets each PCEP session.  The PCEP sessions come
---
>           <li class="normal" id="section-6.2-2.3">  The operator resets each PCEP session.  The PCEP sessions come
2107c2326
<           <li id="section-6.2-2.4">  If the operator detects a problem, they can roll the network back
---
>           <li class="normal" id="section-6.2-2.4">  If the operator detects a problem, they can roll the network back
2138,2139c2357,2358
< <ul>
< <li id="section-6.3-2.1">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view whether the
---
> <ul class="normal">
> <li class="normal" id="section-6.3-2.1">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view whether the
2145c2364
<           <li id="section-6.3-2.2">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
---
>           <li class="normal" id="section-6.3-2.2">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
2150c2369
<           <li id="section-6.3-2.3">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
---
>           <li class="normal" id="section-6.3-2.3">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
2153c2372
<           <li id="section-6.3-2.4">  If one PCEP speaker advertises the Segment Routing PST capability, but the other
---
>           <li class="normal" id="section-6.3-2.4">  If one PCEP speaker advertises the Segment Routing PST capability, but the other
2157c2376
<           <li id="section-6.3-2.5">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view the PST that was
---
>           <li class="normal" id="section-6.3-2.5">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view the PST that was
2160c2379
<           <li id="section-6.3-2.6">  If a PCEP speaker decides to use a different PST to the one that was
---
>           <li class="normal" id="section-6.3-2.6">  If a PCEP speaker decides to use a different PST to the one that was
2166c2385
<           <li id="section-6.3-2.7">  If a PCEP speaker rejects a Segment Routing path, then it <span class="bcp14">SHOULD</span> create a log
---
>           <li class="normal" id="section-6.3-2.7">  If a PCEP speaker rejects a Segment Routing path, then it <span class="bcp14">SHOULD</span> create a log
2178c2397
< <p id="section-6.4-1">The PCEP YANG module is defined in <span>[<a href="#I-D.ietf-pce-pcep-yang" class="xref">PCE-PCEP-YANG</a>]</span>.  In the future, this
---
> <p id="section-6.4-1">The PCEP YANG module is defined in <span>[<a href="#I-D.ietf-pce-pcep-yang" class="cite xref">PCE-PCEP-YANG</a>]</span>.  In the future, this
2181,2182c2400,2401
< <ul>
< <li id="section-6.4-2.1">  The advertised PST capabilities and MSD per PCEP session.<a href="#section-6.4-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-6.4-2.1">  The advertised PST capabilities and MSD per PCEP session.<a href="#section-6.4-2.1" class="pilcrow">¶</a>
2184c2403
<           <li id="section-6.4-2.2">  The PST configured for, and used by, each LSP.<a href="#section-6.4-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.4-2.2">  The PST configured for, and used by, each LSP.<a href="#section-6.4-2.2" class="pilcrow">¶</a>
2187c2406
< <p id="section-6.4-3">The PCEP MIB <span>[<a href="#RFC7420" class="xref">RFC7420</a>]</span> could also be updated to include this
---
> <p id="section-6.4-3">The PCEP MIB <span>[<a href="#RFC7420" class="cite xref">RFC7420</a>]</span> could also be updated to include this
2198c2417
< <p id="section-7-1">The security considerations described in <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>, <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>, and <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span> are
---
> <p id="section-7-1">The security considerations described in <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>, <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span>, and <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span> are
2203c2422
<    mechanisms of <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span>, and <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span> are not
---
>    mechanisms of <span>[<a href="#RFC5440" class="cite xref">RFC5440</a>]</span>, <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span>, and <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span> are not
2207c2426
< <p id="section-7-3">Note that this specification adds the MSD field to the Open message (see <a href="#cap-negotiation" class="xref">Section 4.1.2</a>),
---
> <p id="section-7-3">Note that this specification adds the MSD field to the Open message (see <a href="#cap-negotiation" class="auto internal xref">Section 4.1.2</a>),
2209c2428
<    it forwards into the network. If the security mechanisms of <span>[<a href="#RFC8231" class="xref">RFC8231</a>]</span> and <span>[<a href="#RFC8281" class="xref">RFC8281</a>]</span>
---
>    it forwards into the network. If the security mechanisms of <span>[<a href="#RFC8231" class="cite xref">RFC8231</a>]</span> and <span>[<a href="#RFC8281" class="cite xref">RFC8281</a>]</span>
2263c2482
< Review <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. The new registry contains the
---
> Review <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>. The new registry contains the
2330c2549
<         Action <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. Each bit should be tracked with the
---
>         Action <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>. Each bit should be tracked with the
2332,2333c2551,2552
< <ul>
< <li id="section-8.3-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-8.3-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.3-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-8.3-2.1" class="pilcrow">¶</a>
2335c2554
<           <li id="section-8.3-2.2">Capability description<a href="#section-8.3-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-8.3-2.2">Capability description<a href="#section-8.3-2.2" class="pilcrow">¶</a>
2337c2556
<           <li id="section-8.3-2.3">Defining RFC<a href="#section-8.3-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-8.3-2.3">Defining RFC<a href="#section-8.3-2.3" class="pilcrow">¶</a>
2504c2723
< <p id="section-8.5-1">IANA has allocated the following codepoint in the "PCEP TLV Type Indicators" registry.  Note that this TLV type indicator is deprecated but retained in the registry to ensure compatibility with early implementations of this specification.  See <a href="#Early" class="xref">Appendix A</a> for details.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
---
> <p id="section-8.5-1">IANA has allocated the following codepoint in the "PCEP TLV Type Indicators" registry.  Note that this TLV type indicator is deprecated but retained in the registry to ensure compatibility with early implementations of this specification.  See <a href="#Early" class="auto internal xref">Appendix A</a> for details.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
2536c2755
<         assigned by Standards Action <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.  The
---
>         assigned by Standards Action <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>.  The
2572c2791
< <p id="section-8.7-1">A sub-registry within the "Path Computation Element Protocol (PCEP) Numbers" registry called "PCEP Path Setup Types" was created in <span>[<a href="#RFC8408" class="xref">RFC8408</a>]</span>. IANA has allocated a new codepoint within this registry, as follows:<a href="#section-8.7-1" class="pilcrow">¶</a></p>
---
> <p id="section-8.7-1">A sub-registry within the "Path Computation Element Protocol (PCEP) Numbers" registry called "PCEP Path Setup Types" was created in <span>[<a href="#RFC8408" class="cite xref">RFC8408</a>]</span>. IANA has allocated a new codepoint within this registry, as follows:<a href="#section-8.7-1" class="pilcrow">¶</a></p>
2630c2849
<         Action <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. Each bit should be tracked with the
---
>         Action <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>. Each bit should be tracked with the
2632,2633c2851,2852
< <ul>
< <li id="section-8.9-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-8.9-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.9-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-8.9-2.1" class="pilcrow">¶</a>
2635c2854
<           <li id="section-8.9-2.2">Capability description<a href="#section-8.9-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-8.9-2.2">Capability description<a href="#section-8.9-2.2" class="pilcrow">¶</a>
2637c2856
<           <li id="section-8.9-2.3">Defining RFC<a href="#section-8.9-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-8.9-2.3">Defining RFC<a href="#section-8.9-2.3" class="pilcrow">¶</a>
2685c2904,2905
< <span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2688c2908,2909
< <span class="refAuthor">Rosen, E.</span><span class="refAuthor">, Tappan, D.</span><span class="refAuthor">, Fedorkow, G.</span><span class="refAuthor">, Rekhter, Y.</span><span class="refAuthor">, Farinacci, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, and A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2691c2912,2913
< <span class="refAuthor">Vasseur, JP., Ed.</span><span class="refAuthor"> and JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Vasseur, JP., Ed.</span> and <span class="refAuthor">JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2694c2916,2917
< <span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2697c2920,2921
< <span class="refAuthor">Crabbe, E.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Medved, J.</span><span class="refAuthor">, and R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE"</span>, <span class="seriesInfo">RFC 8231</span>, <span class="seriesInfo">DOI 10.17487/RFC8231</span>, <time datetime="2017-09">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8231">https://www.rfc-editor.org/info/rfc8231</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Medved, J.</span>, and <span class="refAuthor">R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE"</span>, <span class="seriesInfo">RFC 8231</span>, <span class="seriesInfo">DOI 10.17487/RFC8231</span>, <time datetime="2017-09" class="refDate">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8231">https://www.rfc-editor.org/info/rfc8231</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2700c2924,2925
< <span class="refAuthor">Crabbe, E.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Sivabalan, S.</span><span class="refAuthor">, and R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for PCE-Initiated LSP Setup in a Stateful PCE Model"</span>, <span class="seriesInfo">RFC 8281</span>, <span class="seriesInfo">DOI 10.17487/RFC8281</span>, <time datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8281">https://www.rfc-editor.org/info/rfc8281</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Crabbe, E.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Sivabalan, S.</span>, and <span class="refAuthor">R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for PCE-Initiated LSP Setup in a Stateful PCE Model"</span>, <span class="seriesInfo">RFC 8281</span>, <span class="seriesInfo">DOI 10.17487/RFC8281</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8281">https://www.rfc-editor.org/info/rfc8281</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2703c2928,2929
< <span class="refAuthor">Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2706c2932,2933
< <span class="refAuthor">Sivabalan, S.</span><span class="refAuthor">, Tantsura, J.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Varga, R.</span><span class="refAuthor">, and J. Hardwick</span>, <span class="refTitle">"Conveying Path Setup Type in PCE Communication Protocol (PCEP) Messages"</span>, <span class="seriesInfo">RFC 8408</span>, <span class="seriesInfo">DOI 10.17487/RFC8408</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8408">https://www.rfc-editor.org/info/rfc8408</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Sivabalan, S.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Minei, I.</span>, <span class="refAuthor">Varga, R.</span>, and <span class="refAuthor">J. Hardwick</span>, <span class="refTitle">"Conveying Path Setup Type in PCE Communication Protocol (PCEP) Messages"</span>, <span class="seriesInfo">RFC 8408</span>, <span class="seriesInfo">DOI 10.17487/RFC8408</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8408">https://www.rfc-editor.org/info/rfc8408</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2709c2936,2937
< <span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Aldrin, S.</span><span class="refAuthor">, and L. Ginsberg</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using IS-IS"</span>, <span class="seriesInfo">RFC 8491</span>, <span class="seriesInfo">DOI 10.17487/RFC8491</span>, <time datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8491">https://www.rfc-editor.org/info/rfc8491</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Chunduri, U.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">L. Ginsberg</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using IS-IS"</span>, <span class="seriesInfo">RFC 8491</span>, <span class="seriesInfo">DOI 10.17487/RFC8491</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8491">https://www.rfc-editor.org/info/rfc8491</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2712c2940,2941
< <span class="refAuthor">Bashandy, A., Ed.</span><span class="refAuthor">, Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2722c2951,2952
< <span class="refAuthor">Filsfils, C.</span><span class="refAuthor">, Dukes, D.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Leddy, J.</span><span class="refAuthor">, Matsushima, S.</span><span class="refAuthor">, and D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-segment-routing-header-26</span>, <time datetime="2019-10-22">22 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26">https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Dukes, D.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-segment-routing-header-26</span>, <time datetime="2019-10-22" class="refDate">22 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26">https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2725c2955,2956
< <span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Talaulikar, K.</span><span class="refAuthor">, Mirsky, G.</span><span class="refAuthor">, and N. Triantafillis</span>, <span class="refTitle">"Signaling MSD (Maximum SID Depth) using Border Gateway Protocol Link-State"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-ls-segment-routing-msd-09</span>, <time datetime="2019-10-15">15 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09">https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Chunduri, U.</span>, <span class="refAuthor">Talaulikar, K.</span>, <span class="refAuthor">Mirsky, G.</span>, and <span class="refAuthor">N. Triantafillis</span>, <span class="refTitle">"Signaling MSD (Maximum SID Depth) using Border Gateway Protocol Link-State"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-ls-segment-routing-msd-09</span>, <time datetime="2019-10-15" class="refDate">15 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09">https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2728c2959,2960
< <span class="refAuthor">Dhody, D.</span><span class="refAuthor">, Hardwick, J.</span><span class="refAuthor">, Beeram, V.</span><span class="refAuthor">, and J. Tantsura</span>, <span class="refTitle">"A YANG Data Model for Path Computation Element Communications Protocol (PCEP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pce-pcep-yang-13</span>, <time datetime="2019-10-31">31 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13">https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Dhody, D.</span>, <span class="refAuthor">Hardwick, J.</span>, <span class="refAuthor">Beeram, V.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"A YANG Data Model for Path Computation Element Communications Protocol (PCEP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pce-pcep-yang-13</span>, <time datetime="2019-10-31" class="refDate">31 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13">https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2731c2963,2964
< <span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Srinivasan, V.</span><span class="refAuthor">, and G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Awduche, D.</span>, <span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Gan, D.</span>, <span class="refAuthor">Li, T.</span>, <span class="refAuthor">Srinivasan, V.</span>, and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12" class="refDate">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2734c2967,2968
< <span class="refAuthor">Ash, J., Ed.</span><span class="refAuthor"> and J.L. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol Generic Requirements"</span>, <span class="seriesInfo">RFC 4657</span>, <span class="seriesInfo">DOI 10.17487/RFC4657</span>, <time datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4657">https://www.rfc-editor.org/info/rfc4657</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Ash, J., Ed.</span> and <span class="refAuthor">J.L. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol Generic Requirements"</span>, <span class="seriesInfo">RFC 4657</span>, <span class="seriesInfo">DOI 10.17487/RFC4657</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4657">https://www.rfc-editor.org/info/rfc4657</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2737c2971,2972
< <span class="refAuthor">Koushik, A.</span><span class="refAuthor">, Stephan, E.</span><span class="refAuthor">, Zhao, Q.</span><span class="refAuthor">, King, D.</span><span class="refAuthor">, and J. Hardwick</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Management Information Base (MIB) Module"</span>, <span class="seriesInfo">RFC 7420</span>, <span class="seriesInfo">DOI 10.17487/RFC7420</span>, <time datetime="2014-12">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7420">https://www.rfc-editor.org/info/rfc7420</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Koushik, A.</span>, <span class="refAuthor">Stephan, E.</span>, <span class="refAuthor">Zhao, Q.</span>, <span class="refAuthor">King, D.</span>, and <span class="refAuthor">J. Hardwick</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Management Information Base (MIB) Module"</span>, <span class="seriesInfo">RFC 7420</span>, <span class="seriesInfo">DOI 10.17487/RFC7420</span>, <time datetime="2014-12" class="refDate">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7420">https://www.rfc-editor.org/info/rfc7420</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2740c2975,2976
< <span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Leiba, B.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2743c2979,2980
< <span class="refAuthor">Zhuang, Y.</span><span class="refAuthor">, Wu, Q.</span><span class="refAuthor">, Chen, H.</span><span class="refAuthor">, and A. Farrel</span>, <span class="refTitle">"Framework for Scheduled Use of Resources"</span>, <span class="seriesInfo">RFC 8413</span>, <span class="seriesInfo">DOI 10.17487/RFC8413</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8413">https://www.rfc-editor.org/info/rfc8413</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Zhuang, Y.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Chen, H.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Framework for Scheduled Use of Resources"</span>, <span class="seriesInfo">RFC 8413</span>, <span class="seriesInfo">DOI 10.17487/RFC8413</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8413">https://www.rfc-editor.org/info/rfc8413</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2746c2983,2984
< <span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Aldrin, S.</span><span class="refAuthor">, and P. Psenak</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using OSPF"</span>, <span class="seriesInfo">RFC 8476</span>, <span class="seriesInfo">DOI 10.17487/RFC8476</span>, <time datetime="2018-12">December 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8476">https://www.rfc-editor.org/info/rfc8476</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Chunduri, U.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">P. Psenak</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using OSPF"</span>, <span class="seriesInfo">RFC 8476</span>, <span class="seriesInfo">DOI 10.17487/RFC8476</span>, <time datetime="2018-12" class="refDate">December 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8476">https://www.rfc-editor.org/info/rfc8476</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2749c2987,2988
< <span class="refAuthor">Psenak, P., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Filsfils, C.</span><span class="refAuthor">, Gredler, H.</span><span class="refAuthor">, Shakir, R.</span><span class="refAuthor">, Henderickx, W.</span><span class="refAuthor">, and J. Tantsura</span>, <span class="refTitle">"OSPF Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8665</span>, <span class="seriesInfo">DOI 10.17487/RFC8665</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8665">https://www.rfc-editor.org/info/rfc8665</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"OSPF Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8665</span>, <span class="seriesInfo">DOI 10.17487/RFC8665</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8665">https://www.rfc-editor.org/info/rfc8665</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2752c2991,2992
< <span class="refAuthor">Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L., Ed.</span><span class="refAuthor">, Filsfils, C.</span><span class="refAuthor">, Bashandy, A.</span><span class="refAuthor">, Gredler, H.</span><span class="refAuthor">, and B. Decraene</span>, <span class="refTitle">"IS-IS Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8667</span>, <span class="seriesInfo">DOI 10.17487/RFC8667</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8667">https://www.rfc-editor.org/info/rfc8667</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Gredler, H.</span>, and <span class="refAuthor">B. Decraene</span>, <span class="refTitle">"IS-IS Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8667</span>, <span class="seriesInfo">DOI 10.17487/RFC8667</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8667">https://www.rfc-editor.org/info/rfc8667</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2755c2995,2996
< <span class="refAuthor">Filsfils, C.</span><span class="refAuthor">, Sivabalan, S.</span><span class="refAuthor">, Voyer, D.</span><span class="refAuthor">, Bogdanov, A.</span><span class="refAuthor">, and P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-routing-policy-05</span>, <time datetime="2019-11-17">17 November 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05">https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Sivabalan, S.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Bogdanov, A.</span>, and <span class="refAuthor">P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-routing-policy-05</span>, <time datetime="2019-11-17" class="refDate">17 November 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05">https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05</a>&gt;</span>. </dd>
> <dd class="break"></dd>
2760c3001
< <section id="section-appendix.a">
---
> <section id="appendix-A">
2762c3003
< <a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-compatibility-with-early-im" class="section-name selfRef">Compatibility with Early Implementations</a>
---
> <a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-compatibility-with-early-im" class="section-name selfRef">Compatibility with Early Implementations</a>
2764c3005
< <p id="section-appendix.a-1">
---
> <p id="appendix-A-1">
2776c3017
<   only the PATH-SETUP-TYPE-CAPABILITY TLV.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
---
>   only the PATH-SETUP-TYPE-CAPABILITY TLV.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
2780c3021
< <section id="section-appendix.b">
---
> <section id="appendix-B">
2784c3025
< <p id="section-appendix.b-1">We thank Ina Minei, George Swallow, Marek Zavodsky, Dhruv Dhody, Ing-Wher Chen, and Tomas Janciga for the valuable comments.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-1">We thank Ina Minei, George Swallow, Marek Zavodsky, Dhruv Dhody, Ing-Wher Chen, and Tomas Janciga for the valuable comments.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
2788c3029
< <section id="section-appendix.c">
---
> <section id="appendix-C">
2792,2794c3033,3035
< <p id="section-appendix.c-1">The following people contributed to this document:<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.c-2.1">Lakshmi Sharma<a href="#section-appendix.c-2.1" class="pilcrow">¶</a>
---
> <p id="appendix-C-1">The following people contributed to this document:<a href="#appendix-C-1" class="pilcrow">¶</a></p>
> <ul class="compact">
> <li class="compact" id="appendix-C-2.1">Lakshmi Sharma<a href="#appendix-C-2.1" class="pilcrow">¶</a>
2796c3037
<         <li id="section-appendix.c-2.2">Jan Medved<a href="#section-appendix.c-2.2" class="pilcrow">¶</a>
---
>         <li class="compact" id="appendix-C-2.2">Jan Medved<a href="#appendix-C-2.2" class="pilcrow">¶</a>
2798c3039
<         <li id="section-appendix.c-2.3">Edward Crabbe<a href="#section-appendix.c-2.3" class="pilcrow">¶</a>
---
>         <li class="compact" id="appendix-C-2.3">Edward Crabbe<a href="#appendix-C-2.3" class="pilcrow">¶</a>
2800c3041
<         <li id="section-appendix.c-2.4">Robert Raszuk<a href="#section-appendix.c-2.4" class="pilcrow">¶</a>
---
>         <li class="compact" id="appendix-C-2.4">Robert Raszuk<a href="#appendix-C-2.4" class="pilcrow">¶</a>
2802c3043
<         <li id="section-appendix.c-2.5">Victor Lopez<a href="#section-appendix.c-2.5" class="pilcrow">¶</a>
---
>         <li class="compact" id="appendix-C-2.5">Victor Lopez<a href="#appendix-C-2.5" class="pilcrow">¶</a>
2808c3049
< <section id="section-appendix.d">
---
> <section id="appendix-D">
2877,2905c3118,3123
< <script>var toc = document.getElementById("toc");
< var tocToggle = toc.querySelector("h2");
< var tocNav = toc.querySelector("nav");
< 
< // mobile menu toggle
< tocToggle.onclick = function(event) {
<     if (window.innerWidth < 1024) {
<  var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
<  if (tocNavDisplay == "none") {
<      tocNav.style.display = "block";
<  } else {
<      tocNav.style.display = "none";
<  }
<     }
< }
< 
< // toc anchor scroll to anchor
< tocNav.addEventListener("click", function (event) {
<     event.preventDefault();
<     if (event.target.nodeName == 'A') {
<  if (window.innerWidth < 1024) {
<      tocNav.style.display = "none";
<  }
<  var href = event.target.getAttribute("href");
<  var anchorId = href.substr(1);
<  var anchor =  document.getElementById(anchorId);
<  anchor.scrollIntoView(true);
<  window.history.pushState("","",href);
<     }
---
> <script>const toc = document.getElementById("toc");
> toc.querySelector("h2").addEventListener("click", e => {
>   toc.classList.toggle("active");
> });
> toc.querySelector("nav").addEventListener("click", e => {
>   toc.classList.remove("active");
2907,2915d3124
< 
< // switch toc mode when window resized
< window.onresize = function () {
<     if (window.innerWidth < 1024) {
<  tocNav.style.display = "none";
<     } else {
<  tocNav.style.display = "block";
<     }
< }
