18c18
< <meta content="xml2rfc 3.12.10" name="generator">
---
> <meta content="xml2rfc 3.18.2" name="generator">
22,40c22,35
<   xml2rfc 3.12.10
<     Python 3.6.15
<     appdirs 1.4.4
<     ConfigArgParse 1.4.1
<     google-i18n-address 2.4.0
<     html5lib 1.0.1
<     intervaltree 3.0.2
<     Jinja2 2.11.3
<     kitchen 1.2.6
<     lxml 4.7.1
<     MarkupSafe 2.0.1
<     pycairo 1.15.1
<     pycountry 19.8.18
<     pyflakes 2.1.1
<     PyYAML 5.4.1
<     requests 2.24.0
<     setuptools 40.5.0
<     six 1.14.0
<     WeasyPrint 52.5
---
>   xml2rfc 3.18.2
>     Python 3.11.6
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.2
>     lxml 4.9.3
>     platformdirs 4.0.0
>     pycountry 22.3.5
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.10
42c37
< <link href="rfc9263.xml" rel="alternate" type="application/rfc+xml">
---
> <link href="rfc/rfc9263.xml" rel="alternate" type="application/rfc+xml">
52c47
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
61a57,62
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
64d64
<   width: extend-to-zoom;
79c79
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
81a82
>   overflow-wrap: break-word;
167a169,177
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
181a192
>   display: table;
250c261,262
< a[href].selfRef {
---
> a[href].selfRef,
> .iref + a[href].internal {
260c272
< tt, code, pre, code {
---
> tt, code, pre {
262c274
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
301a314,316
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
499c514
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
639d653
< 
662c676
<   pre.breakable {
---
>   .breakable pre {
732c746
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
832c846
< tt, code, pre, code {
---
> tt, code, pre {
837c851
< pre.sourcecode,
---
> .sourcecode pre,
873c887
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
1054a1069
>   .artwork > pre,
1069c1084
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1075a1091,1093
> tr {
>   break-inside: avoid;
> }
1126c1144
< /* Text in compact lists should not get extra bottim margin space,
---
> /* Text in compact lists should not get extra bottom margin space,
1151c1169
< /* Tweak the comact list text */
---
> /* Tweak the compact list text */
1169c1187
< dd > div:first-child > pre.sourcecode,
---
> dd > div.sourcecode:first-child,
1183c1201
< li > p:last-of-type {
---
> li > p:last-of-type:only-child {
1187a1206
> <link href="https://datatracker.ietf.org/doc/draft-ietf-sfc-nsh-tlv-15" rel="prev">
1190c1209
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-sfc-nsh-tlv-15" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1192,1193c1211,1212
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1301c1320
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
---
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
1304c1323
<             <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions Used in This Document</a></p>
---
>             <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="internal xref">Conventions Used in This Document</a></p>
1307c1326
<                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
---
>                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
1310c1329
<                 <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
---
>                 <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
1315c1334
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-nsh-md-type-2-format" class="xref">NSH MD Type 2 Format</a></p>
---
>             <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-nsh-md-type-2-format" class="internal xref">NSH MD Type 2 Format</a></p>
1318c1337
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-nsh-md-type-2-context-heade" class="xref">NSH MD Type 2 Context Headers</a></p>
---
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-nsh-md-type-2-context-heade" class="internal xref">NSH MD Type 2 Context Headers</a></p>
1321c1340
<                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-forwarding-context" class="xref">Forwarding Context</a></p>
---
>                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-forwarding-context" class="internal xref">Forwarding Context</a></p>
1324c1343
<                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-tenant-id" class="xref">Tenant ID</a></p>
---
>                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-tenant-id" class="internal xref">Tenant ID</a></p>
1327c1346
<                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-ingress-network-node-inform" class="xref">Ingress Network Node Information</a></p>
---
>                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-ingress-network-node-inform" class="internal xref">Ingress Network Node Information</a></p>
1330c1349
<                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-ingress-network-source-inte" class="xref">Ingress Network Source Interface</a></p>
---
>                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-ingress-network-source-inte" class="internal xref">Ingress Network Source Interface</a></p>
1333c1352
<                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-flow-id" class="xref">Flow ID</a></p>
---
>                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-flow-id" class="internal xref">Flow ID</a></p>
1336c1355
<                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-source-and-or-destination-g" class="xref">Source and/or Destination Groups</a></p>
---
>                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-source-and-or-destination-g" class="internal xref">Source and/or Destination Groups</a></p>
1339c1358
<                 <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-policy-id" class="xref">Policy ID</a></p>
---
>                 <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="auto internal xref">4.7</a>.  <a href="#name-policy-id" class="internal xref">Policy ID</a></p>
1344c1363
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
---
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1347c1366
<                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-forwarding-context-2" class="xref">Forwarding Context</a></p>
---
>                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-forwarding-context-2" class="internal xref">Forwarding Context</a></p>
1350c1369
<                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-tenant-id-2" class="xref">Tenant ID</a></p>
---
>                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-tenant-id-2" class="internal xref">Tenant ID</a></p>
1353c1372
<                 <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-ingress-network-node-informa" class="xref">Ingress Network Node Information</a></p>
---
>                 <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-ingress-network-node-informa" class="internal xref">Ingress Network Node Information</a></p>
1356c1375
<                 <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-ingress-node-source-interfa" class="xref">Ingress Node Source Interface</a></p>
---
>                 <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-ingress-node-source-interfa" class="internal xref">Ingress Node Source Interface</a></p>
1359c1378
<                 <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="xref">5.5</a>.  <a href="#name-flow-id-2" class="xref">Flow ID</a></p>
---
>                 <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-flow-id-2" class="internal xref">Flow ID</a></p>
1362c1381
<                 <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="xref">5.6</a>.  <a href="#name-source-and-or-destination-gr" class="xref">Source and/or Destination Groups</a></p>
---
>                 <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-source-and-or-destination-gr" class="internal xref">Source and/or Destination Groups</a></p>
1365c1384
<                 <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="xref">5.7</a>.  <a href="#name-policy-id-3" class="xref">Policy ID</a></p>
---
>                 <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-policy-id-3" class="internal xref">Policy ID</a></p>
1370c1389
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
---
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1373c1392
<                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-md-type-2-context-types" class="xref">MD Type 2 Context Types</a></p>
---
>                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-md-type-2-context-types" class="internal xref">MD Type 2 Context Types</a></p>
1376c1395
<                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-forwarding-context-types" class="xref">Forwarding Context Types</a></p>
---
>                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-forwarding-context-types" class="internal xref">Forwarding Context Types</a></p>
1379c1398
<                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-flow-id-context-types" class="xref">Flow ID Context Types</a></p>
---
>                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-flow-id-context-types" class="internal xref">Flow ID Context Types</a></p>
1384c1403
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-references" class="xref">References</a></p>
---
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-references" class="internal xref">References</a></p>
1387c1406
<                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
---
>                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1390c1409
<                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
---
>                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1395c1414
<             <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
---
>             <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
1398c1417
<             <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
---
>             <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1410,1411c1429,1430
<    The Network Service Header (NSH) <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span> is the
<    Service Function Chaining (SFC) encapsulation that supports the SFC architecture <span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span>.  As such, the NSH provides the following key elements:<a href="#section-1-1" class="pilcrow">¶</a></p>
---
>    The Network Service Header (NSH) <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span> is the
>    Service Function Chaining (SFC) encapsulation that supports the SFC architecture <span>[<a href="#RFC7665" class="cite xref">RFC7665</a>]</span>.  As such, the NSH provides the following key elements:<a href="#section-1-1" class="pilcrow">¶</a></p>
1421c1440
<     <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span> further defines two metadata formats (MD Types): 1 and 2.  MD
---
>     <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span> further defines two metadata formats (MD Types): 1 and 2.  MD
1424c1443
<    These supplement the Subscriber Identifier and Performance Policy MD Type 2 metadata Context Headers specified in <span>[<a href="#RFC8979" class="xref">RFC8979</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
---
>    These supplement the Subscriber Identifier and Performance Policy MD Type 2 metadata Context Headers specified in <span>[<a href="#RFC8979" class="cite xref">RFC8979</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
1427c1446
<    metadata, or other SFP functions.  Those topics are described in <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span>.<a href="#section-1-4" class="pilcrow">¶</a></p>
---
>    metadata, or other SFP functions.  Those topics are described in <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>.<a href="#section-1-4" class="pilcrow">¶</a></p>
1438c1457
< <p id="section-2.1-1">This document uses the terminology defined in the SFC architecture <span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span> and the NSH <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span>.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-2.1-1">This document uses the terminology defined in the SFC architecture <span>[<a href="#RFC7665" class="cite xref">RFC7665</a>]</span> and the NSH <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
1447c1466
<     described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
---
>     described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
1476c1495
<   Please refer to the NSH <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span> for a detailed header description.<a href="#section-3-3" class="pilcrow">¶</a></p>
---
>   Please refer to the NSH <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span> for a detailed header description.<a href="#section-3-3" class="pilcrow">¶</a></p>
1479,1480c1498,1499
<    Service Path Header. <a href="#nsh-tlv-fig" class="xref">Figure 2</a> below depicts the format of the Context Header
<    as defined in <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>.<a href="#section-3-4" class="pilcrow">¶</a></p>
---
>    Service Path Header. <a href="#nsh-tlv-fig" class="auto internal xref">Figure 2</a> below depicts the format of the Context Header
>    as defined in <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>.<a href="#section-3-4" class="pilcrow">¶</a></p>
1506c1525
<    <span>[<a href="#RFC8300" class="xref">RFC8300</a>]</span> specifies Metadata Class 0x0000 as IETF Base NSH MD Class.  In this document, metadata types are defined for the IETF Base NSH MD Class. The Context Headers specified in the subsections below are as follows:<a href="#section-4-1" class="pilcrow">¶</a></p>
---
>    <span>[<a href="#RFC8300" class="cite xref">RFC8300</a>]</span> specifies Metadata Class 0x0000 as IETF Base NSH MD Class.  In this document, metadata types are defined for the IETF Base NSH MD Class. The Context Headers specified in the subsections below are as follows:<a href="#section-4-1" class="pilcrow">¶</a></p>
1626c1645
<             <p id="section-4.1-8.2.1">This 4-bit field that defines the interpretation of the Forwarding Context field. Please see the IANA considerations in <a href="#iana-fc-type" class="xref">Section 6.2</a>. This document defines these CT values:<a href="#section-4.1-8.2.1" class="pilcrow">¶</a></p>
---
>             <p id="section-4.1-8.2.1">This 4-bit field that defines the interpretation of the Forwarding Context field. Please see the IANA considerations in <a href="#iana-fc-type" class="auto internal xref">Section 6.2</a>. This document defines these CT values:<a href="#section-4.1-8.2.1" class="pilcrow">¶</a></p>
1629c1648
<               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.2">12-bit VLAN identifier <span>[<a href="#IEEE.802.1Q_2018" class="xref">IEEE.802.1Q_2018</a>]</span>. See <a href="#fwd-context-fig1" class="xref">Figure 3</a>.<a href="#section-4.1-8.2.2.2" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.2">12-bit VLAN identifier <span>[<a href="#IEEE.802.1Q_2018" class="cite xref">IEEE.802.1Q_2018</a>]</span>. See <a href="#fwd-context-fig1" class="auto internal xref">Figure 3</a>.<a href="#section-4.1-8.2.2.2" class="pilcrow">¶</a>
1633c1652
<               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.4">24-bit double tagging identifiers. A service VLAN tag followed by a customer VLAN tag <span>[<a href="#IEEE.802.1Q_2018" class="xref">IEEE.802.1Q_2018</a>]</span>. The two VLAN IDs are concatenated and appear in the same order that they appeared in the payload. See <a href="#fwd-context-fig2" class="xref">Figure 4</a>.<a href="#section-4.1-8.2.2.4" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.4">24-bit double tagging identifiers. A service VLAN tag followed by a customer VLAN tag <span>[<a href="#IEEE.802.1Q_2018" class="cite xref">IEEE.802.1Q_2018</a>]</span>. The two VLAN IDs are concatenated and appear in the same order that they appeared in the payload. See <a href="#fwd-context-fig2" class="auto internal xref">Figure 4</a>.<a href="#section-4.1-8.2.2.4" class="pilcrow">¶</a>
1637c1656
<               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.6">20-bit MPLS VPN label <span>[<a href="#RFC3032" class="xref">RFC3032</a>]</span> <span>[<a href="#RFC4364" class="xref">RFC4364</a>]</span>. See <a href="#fwd-context-fig3" class="xref">Figure 5</a>.<a href="#section-4.1-8.2.2.6" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.6">20-bit MPLS VPN label <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span> <span>[<a href="#RFC4364" class="cite xref">RFC4364</a>]</span>. See <a href="#fwd-context-fig3" class="auto internal xref">Figure 5</a>.<a href="#section-4.1-8.2.2.6" class="pilcrow">¶</a>
1641c1660
<               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.8">24-bit virtual network identifier (VNI) <span>[<a href="#RFC8926" class="xref">RFC8926</a>]</span>. See <a href="#fwd-context-fig4" class="xref">Figure 6</a>.<a href="#section-4.1-8.2.2.8" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.8">24-bit virtual network identifier (VNI) <span>[<a href="#RFC8926" class="cite xref">RFC8926</a>]</span>. See <a href="#fwd-context-fig4" class="auto internal xref">Figure 6</a>.<a href="#section-4.1-8.2.2.8" class="pilcrow">¶</a>
1645c1664
<               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.10">32-bit Session ID <span>[<a href="#RFC3931" class="xref">RFC3931</a>]</span>. This is called Key in GRE <span>[<a href="#RFC2890" class="xref">RFC2890</a>]</span>. See <a href="#fwd-context-fig5" class="xref">Figure 7</a>.<a href="#section-4.1-8.2.2.10" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.1-8.2.2.10">32-bit Session ID <span>[<a href="#RFC3931" class="cite xref">RFC3931</a>]</span>. This is called Key in GRE <span>[<a href="#RFC2890" class="cite xref">RFC2890</a>]</span>. See <a href="#fwd-context-fig5" class="auto internal xref">Figure 7</a>.<a href="#section-4.1-8.2.2.10" class="pilcrow">¶</a>
1666c1685
<        IDs are an example of such data. This Context Header carries the value of the Tenant ID. Virtual Tenant Network (VTN) <span>[<a href="#OpenDaylight-VTN" class="xref">OpenDaylight-VTN</a>]</span> is an application that provides multi-tenant virtual networks on a Software-Defined Networking (SDN) controller.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
---
>        IDs are an example of such data. This Context Header carries the value of the Tenant ID. Virtual Tenant Network (VTN) <span>[<a href="#OpenDaylight-VTN" class="cite xref">OpenDaylight-VTN</a>]</span> is an application that provides multi-tenant virtual networks on a Software-Defined Networking (SDN) controller.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
1687c1706
<           <dd style="margin-left: 1.5em" id="section-4.2-4.2">Indicates the length of the Tenant ID in octets (see <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>).<a href="#section-4.2-4.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-4.2-4.2">Indicates the length of the Tenant ID in octets (see <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>).<a href="#section-4.2-4.2" class="pilcrow">¶</a>
1703c1722
<        This Context Header carries a Node ID of the network node at which the packet entered the SFC-enabled domain. This node will necessarily be a classifier <span>[<a href="#RFC7665" class="xref">RFC7665</a>]</span>. In cases where the Service Path Identifier (SPI) identifies the ingress node, this Context Header is superfluous.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
---
>        This Context Header carries a Node ID of the network node at which the packet entered the SFC-enabled domain. This node will necessarily be a classifier <span>[<a href="#RFC7665" class="cite xref">RFC7665</a>]</span>. In cases where the Service Path Identifier (SPI) identifies the ingress node, this Context Header is superfluous.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
1724c1743
<           <dd style="margin-left: 1.5em" id="section-4.3-4.2">Indicates the length of the Node ID in octets (see <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>).<a href="#section-4.3-4.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-4.3-4.2">Indicates the length of the Node ID in octets (see <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>).<a href="#section-4.3-4.2" class="pilcrow">¶</a>
1739c1758
< <p id="section-4.4-1">This context identifies the ingress interface of the ingress network node. The l2vlan (135), l3ipvlan (136), ipForward (142), and mpls (166) in <span>[<a href="#IANAifType" class="xref">IANAifType</a>]</span> are examples of source interfaces.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.4-1">This context identifies the ingress interface of the ingress network node. The l2vlan (135), l3ipvlan (136), ipForward (142), and mpls (166) in <span>[<a href="#IANAifType" class="cite xref">IANAifType</a>]</span> are examples of source interfaces.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
1760c1779
<           <dd style="margin-left: 1.5em" id="section-4.4-4.2">Indicates the length of the Source Interface in octets (see <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>).<a href="#section-4.4-4.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-4.4-4.2">Indicates the length of the Source Interface in octets (see <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>).<a href="#section-4.4-4.2" class="pilcrow">¶</a>
1776c1795
<     Flow ID provides a field in NSH MD Type 2 to label packets belonging to the same flow. For example, <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> defines IPv6 Flow Label as Flow ID. Another example of Flow ID is how <span>[<a href="#RFC6790" class="xref">RFC6790</a>]</span> defines an entropy label that is generated based on flow information in the MPLS network. Absence of this field or
---
>     Flow ID provides a field in NSH MD Type 2 to label packets belonging to the same flow. For example, <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span> defines IPv6 Flow Label as Flow ID. Another example of Flow ID is how <span>[<a href="#RFC6790" class="cite xref">RFC6790</a>]</span> defines an entropy label that is generated based on flow information in the MPLS network. Absence of this field or
1815c1834
<           <dd style="margin-left: 1.5em" id="section-4.5-5.2">Indicates the length of the Flow ID in octets (see <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>). For example, the IPv6 Flow Label in <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> is 20 bits long. An entropy label in the MPLS network in <span>[<a href="#RFC6790" class="xref">RFC6790</a>]</span> is also 20 bits long.<a href="#section-4.5-5.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-4.5-5.2">Indicates the length of the Flow ID in octets (see <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>). For example, the IPv6 Flow Label in <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span> is 20 bits long. An entropy label in the MPLS network in <span>[<a href="#RFC6790" class="cite xref">RFC6790</a>]</span> is also 20 bits long.<a href="#section-4.5-5.2" class="pilcrow">¶</a>
1820c1839
<             <p id="section-4.5-5.4.1">This 4-bit field that defines the interpretation of the Flow ID field. Please see the IANA considerations in <a href="#iana-tlv-flowid-type" class="xref">Section 6.3</a>. This document defines these CT values:<a href="#section-4.5-5.4.1" class="pilcrow">¶</a></p>
---
>             <p id="section-4.5-5.4.1">This 4-bit field that defines the interpretation of the Flow ID field. Please see the IANA considerations in <a href="#iana-tlv-flowid-type" class="auto internal xref">Section 6.3</a>. This document defines these CT values:<a href="#section-4.5-5.4.1" class="pilcrow">¶</a></p>
1823c1842
<               <dd style="margin-left: 3.0em" id="section-4.5-5.4.2.2">20-bit IPv6 Flow Label in <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>. See <a href="#flow-id-ipv6-fig1" class="xref">Figure 11</a>.<a href="#section-4.5-5.4.2.2" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.5-5.4.2.2">20-bit IPv6 Flow Label in <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>. See <a href="#flow-id-ipv6-fig1" class="auto internal xref">Figure 11</a>.<a href="#section-4.5-5.4.2.2" class="pilcrow">¶</a>
1827c1846
<               <dd style="margin-left: 3.0em" id="section-4.5-5.4.2.4">20-bit entropy label in the MPLS network in <span>[<a href="#RFC6790" class="xref">RFC6790</a>]</span>. See <a href="#flow-id-mplse-fig2" class="xref">Figure 12</a>.<a href="#section-4.5-5.4.2.4" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 3.0em" id="section-4.5-5.4.2.4">20-bit entropy label in the MPLS network in <span>[<a href="#RFC6790" class="cite xref">RFC6790</a>]</span>. See <a href="#flow-id-mplse-fig2" class="auto internal xref">Figure 12</a>.<a href="#section-4.5-5.4.2.4" class="pilcrow">¶</a>
1848c1867
<        <span>[<a href="#OpenStack" class="xref">OpenStack</a>]</span> and <span>[<a href="#OpenDaylight" class="xref">OpenDaylight</a>]</span> provide examples of such a
---
>        <span>[<a href="#OpenStack" class="cite xref">OpenStack</a>]</span> and <span>[<a href="#OpenDaylight" class="cite xref">OpenDaylight</a>]</span> provide examples of such a
1905c1924
<           <dd style="margin-left: 1.5em" id="section-4.7-4.2">Indicates the length of the Policy ID in octets (see <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span>).<a href="#section-4.7-4.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-4.7-4.2">Indicates the length of the Policy ID in octets (see <span><a href="https://rfc-editor.org/rfc/rfc8300#section-2.5.1" class="relref">Section 2.5.1</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span>).<a href="#section-4.7-4.2" class="pilcrow">¶</a>
1915c1934
< treatment to apply. It may, for example, select a URL filter data set for a URL filter or select a video transcoding policy in a transcoding SF. The Performance Policy ID in <span>[<a href="#RFC8979" class="xref">RFC8979</a>]</span> is described there as having very specific use and, for example, says that fully controlled SFPs would not use it. The Policy ID in this document is for cases not covered by <span>[<a href="#RFC8979" class="xref">RFC8979</a>]</span>.<a href="#section-4.7-5" class="pilcrow">¶</a></p>
---
> treatment to apply. It may, for example, select a URL filter data set for a URL filter or select a video transcoding policy in a transcoding SF. The Performance Policy ID in <span>[<a href="#RFC8979" class="cite xref">RFC8979</a>]</span> is described there as having very specific use and, for example, says that fully controlled SFPs would not use it. The Policy ID in this document is for cases not covered by <span>[<a href="#RFC8979" class="cite xref">RFC8979</a>]</span>.<a href="#section-4.7-5" class="pilcrow">¶</a></p>
1925c1944
< <p id="section-5-1">A misbehaving node from within the SFC-enabled domain may alter the content of the Context Headers, which may lead to service disruption. Such an attack is not unique to the Context Headers defined in this document. Measures discussed in <span><a href="https://www.rfc-editor.org/rfc/rfc8300#section-8" class="relref">Section 8</a> of [<a href="#RFC8300" class="xref">RFC8300</a>]</span> describes the general security considerations for protecting the NSH. <span>[<a href="#RFC9145" class="xref">RFC9145</a>]</span> specifies methods of protecting the integrity of the NSH metadata. If the NSH includes the Message Authentication Code (MAC) and Encrypted Metadata Context Header <span>[<a href="#RFC9145" class="xref">RFC9145</a>]</span>, the authentication of the packet <span class="bcp14">MUST</span> be verified before using any data. If the verification fails, the receiver <span class="bcp14">MUST</span> stop processing the Variable-Length Context Headers and notify an operator.<a href="#section-5-1" class="pilcrow">¶</a></p>
---
> <p id="section-5-1">A misbehaving node from within the SFC-enabled domain may alter the content of the Context Headers, which may lead to service disruption. Such an attack is not unique to the Context Headers defined in this document. Measures discussed in <span><a href="https://rfc-editor.org/rfc/rfc8300#section-8" class="relref">Section 8</a> of [<a href="#RFC8300" class="cite xref">RFC8300</a>]</span> describes the general security considerations for protecting the NSH. <span>[<a href="#RFC9145" class="cite xref">RFC9145</a>]</span> specifies methods of protecting the integrity of the NSH metadata. If the NSH includes the Message Authentication Code (MAC) and Encrypted Metadata Context Header <span>[<a href="#RFC9145" class="cite xref">RFC9145</a>]</span>, the authentication of the packet <span class="bcp14">MUST</span> be verified before using any data. If the verification fails, the receiver <span class="bcp14">MUST</span> stop processing the Variable-Length Context Headers and notify an operator.<a href="#section-5-1" class="pilcrow">¶</a></p>
1985c2004
<  IANA has assigned the following types (<a href="#type-values-tbl" class="xref">Table 1</a>) from the "NSH IETF-Assigned Optional Variable-Length Metadata Types" registry available at <span>[<a href="#IANA-NSH-MD2" class="xref">IANA-NSH-MD2</a>]</span>.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
---
>  IANA has assigned the following types (<a href="#type-values-tbl" class="auto internal xref">Table 1</a>) from the "NSH IETF-Assigned Optional Variable-Length Metadata Types" registry available at <span>[<a href="#IANA-NSH-MD2" class="cite xref">IANA-NSH-MD2</a>]</span>.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
2045c2064
< <p id="section-6.2-1">IANA has created a new subregistry for "Forwarding Context Types"  at <span>[<a href="#IANA-NSH-MD2" class="xref">IANA-NSH-MD2</a>]</span> as follows.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.2-1">IANA has created a new subregistry for "Forwarding Context Types"  at <span>[<a href="#IANA-NSH-MD2" class="cite xref">IANA-NSH-MD2</a>]</span> as follows.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
2106c2125
< <p id="section-6.3-1">IANA has created a new subregistry for "Flow ID Context Types" at <span>[<a href="#IANA-NSH-MD2" class="xref">IANA-NSH-MD2</a>]</span> as follows.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.3-1">IANA has created a new subregistry for "Flow ID Context Types" at <span>[<a href="#IANA-NSH-MD2" class="cite xref">IANA-NSH-MD2</a>]</span> as follows.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
