13c13
< <meta content="xml2rfc 3.9.1" name="generator">
---
> <meta content="xml2rfc 3.18.2" name="generator">
17,34c17,30
<   xml2rfc 3.9.1
<     Python 3.6.10
<     appdirs 1.4.4
<     ConfigArgParse 1.2.3
<     google-i18n-address 2.3.5
<     html5lib 1.0.1
<     intervaltree 3.0.2
<     Jinja2 2.11.2
<     kitchen 1.2.6
<     lxml 4.4.2
<     pycairo 1.19.0
<     pycountry 19.8.18
<     pyflakes 2.1.1
<     PyYAML 5.3.1
<     requests 2.22.0
<     setuptools 40.6.2
<     six 1.14.0
<     WeasyPrint 51
---
>   xml2rfc 3.18.2
>     Python 3.11.6
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.2
>     lxml 4.9.3
>     platformdirs 4.0.0
>     pycountry 22.3.5
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.12
36c32
< <link href="rfc9049.xml" rel="alternate" type="application/rfc+xml">
---
> <link href="rfc/rfc9049.xml" rel="alternate" type="application/rfc+xml">
46c42
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
55a52,57
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
58d59
<   width: extend-to-zoom;
73c74
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
75a77
>   overflow-wrap: break-word;
161a164,172
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
176,179d186
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
180a188
>   border: none;
248c256,257
< a[href].selfRef {
---
> a[href].selfRef,
> .iref + a[href].internal {
258c267
< tt, code, pre, code {
---
> tt, code, pre {
260c269
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
299a309,311
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
389a402,407
> /* Fix PDF info block run off issue */
> @media print {
>   #identifiers dd {
>     float: none;
>   }
> }
491c509
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
631d648
< 
653a671,673
>   .breakable pre {
>     break-inside: auto;
>   }
721c741
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
821c841
< tt, code, pre, code {
---
> tt, code, pre {
826c846
< pre.sourcecode,
---
> .sourcecode pre,
862c882
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
1043a1064
>   .artwork > pre,
1058c1079
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1064a1086,1088
> tr {
>   break-inside: avoid;
> }
1084c1108
<   break-before: avoid-page;
---
>   break-before: auto;
1115c1139
< /* Text in compact lists should not get extra bottim margin space,
---
> /* Text in compact lists should not get extra bottom margin space,
1140c1164
< /* Tweak the comact list text */
---
> /* Tweak the compact list text */
1158c1182
< dd > div:first-child > pre.sourcecode,
---
> dd > div.sourcecode:first-child,
1172c1196
< li > p:last-of-type {
---
> li > p:last-of-type:only-child {
1176a1201
> <link href="https://datatracker.ietf.org/doc/draft-irtf-panrg-what-not-to-do-19" rel="prev">
1179c1204
<   <link href="https://datatracker.ietf.org/doc/draft-irtf-panrg-what-not-to-do-19" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1181,1182c1206,1207
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1272,1277c1297,1302
< <nav class="toc"><ul class="ulBare compact toc ulEmpty">
< <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.1">
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.1.2.1">
<                 <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-what-do-path-and-path-aware" class="xref">What Do "Path" and "Path Awareness" Mean in This Document?</a></p>
---
> <nav class="toc"><ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
>                 <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-what-do-path-and-path-aware" class="internal xref">What Do "Path" and "Path Awareness" Mean in This Document?</a></p>
1281,1285c1306,1310
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.2">
<             <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-a-perspective-on-this-docum" class="xref">A Perspective on This Document</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.2.2.1">
<                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-notes-for-the-reader" class="xref">Notes for the Reader</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
>             <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-a-perspective-on-this-docum" class="internal xref">A Perspective on This Document</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
>                 <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-notes-for-the-reader" class="internal xref">Notes for the Reader</a></p>
1287,1288c1312,1313
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.2.2.2">
<                 <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-a-note-about-path-aware-tec" class="xref">A Note about Path Aware Techniques Included in This Document</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
>                 <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-a-note-about-path-aware-tec" class="internal xref">A Note about Path Aware Techniques Included in This Document</a></p>
1290,1291c1315,1316
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.2.2.3">
<                 <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-architectural-guidance" class="xref">Architectural Guidance</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
>                 <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-architectural-guidance" class="internal xref">Architectural Guidance</a></p>
1293,1294c1318,1319
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.2.2.4">
<                 <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-terminology-used-in-this-do" class="xref">Terminology Used in This Document</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
>                 <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-terminology-used-in-this-do" class="internal xref">Terminology Used in This Document</a></p>
1296,1297c1321,1322
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.2.2.5">
<                 <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-methodology-for-contributio" class="xref">Methodology for Contributions</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
>                 <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="auto internal xref">2.5</a>.  <a href="#name-methodology-for-contributio" class="internal xref">Methodology for Contributions</a></p>
1301,1302c1326,1327
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.3">
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-applying-the-lessons-weve-l" class="xref">Applying the Lessons We've Learned</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
>             <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-applying-the-lessons-weve-l" class="internal xref">Applying the Lessons We've Learned</a></p>
1304,1308c1329,1333
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.4">
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-summary-of-lessons-learned" class="xref">Summary of Lessons Learned</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.1">
<                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-justifying-deployment" class="xref">Justifying Deployment</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-summary-of-lessons-learned" class="internal xref">Summary of Lessons Learned</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
>                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-justifying-deployment" class="internal xref">Justifying Deployment</a></p>
1310,1311c1335,1336
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.2">
<                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-providing-benefits-for-earl" class="xref">Providing Benefits for Early Adopters</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
>                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-providing-benefits-for-earl" class="internal xref">Providing Benefits for Early Adopters</a></p>
1313,1314c1338,1339
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.3">
<                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-providing-benefits-during-p" class="xref">Providing Benefits during Partial Deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
>                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-providing-benefits-during-p" class="internal xref">Providing Benefits during Partial Deployment</a></p>
1316,1317c1341,1342
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.4">
<                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-outperforming-end-to-end-pr" class="xref">Outperforming End-to-End Protocol Mechanisms</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
>                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-outperforming-end-to-end-pr" class="internal xref">Outperforming End-to-End Protocol Mechanisms</a></p>
1319,1320c1344,1345
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.5">
<                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-paying-for-path-aware-techn" class="xref">Paying for Path Aware Techniques</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
>                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-paying-for-path-aware-techn" class="internal xref">Paying for Path Aware Techniques</a></p>
1322,1323c1347,1348
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.6">
<                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-impact-on-operational-pract" class="xref">Impact on Operational Practices</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
>                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-impact-on-operational-pract" class="internal xref">Impact on Operational Practices</a></p>
1325,1326c1350,1351
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.7">
<                 <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-per-connection-state" class="xref">Per-Connection State</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7">
>                 <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="auto internal xref">4.7</a>.  <a href="#name-per-connection-state" class="internal xref">Per-Connection State</a></p>
1328,1329c1353,1354
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.8">
<                 <p id="section-toc.1-1.4.2.8.1"><a href="#section-4.8" class="xref">4.8</a>.  <a href="#name-keeping-traffic-on-fast-pat" class="xref">Keeping Traffic on Fast Paths</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.8">
>                 <p id="section-toc.1-1.4.2.8.1"><a href="#section-4.8" class="auto internal xref">4.8</a>.  <a href="#name-keeping-traffic-on-fast-pat" class="internal xref">Keeping Traffic on Fast Paths</a></p>
1331,1332c1356,1357
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.9">
<                 <p id="section-toc.1-1.4.2.9.1"><a href="#section-4.9" class="xref">4.9</a>.  <a href="#name-endpoints-trusting-intermed" class="xref">Endpoints Trusting Intermediate Nodes</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.9">
>                 <p id="section-toc.1-1.4.2.9.1"><a href="#section-4.9" class="auto internal xref">4.9</a>.  <a href="#name-endpoints-trusting-intermed" class="internal xref">Endpoints Trusting Intermediate Nodes</a></p>
1334,1335c1359,1360
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.10">
<                 <p id="section-toc.1-1.4.2.10.1"><a href="#section-4.10" class="xref">4.10</a>. <a href="#name-intermediate-nodes-trusting" class="xref">Intermediate Nodes Trusting Endpoints</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.10">
>                 <p id="section-toc.1-1.4.2.10.1"><a href="#section-4.10" class="auto internal xref">4.10</a>. <a href="#name-intermediate-nodes-trusting" class="internal xref">Intermediate Nodes Trusting Endpoints</a></p>
1337,1338c1362,1363
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.11">
<                 <p id="section-toc.1-1.4.2.11.1"><a href="#section-4.11" class="xref">4.11</a>. <a href="#name-reacting-to-distant-signals" class="xref">Reacting to Distant Signals</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.11">
>                 <p id="section-toc.1-1.4.2.11.1"><a href="#section-4.11" class="auto internal xref">4.11</a>. <a href="#name-reacting-to-distant-signals" class="internal xref">Reacting to Distant Signals</a></p>
1340,1341c1365,1366
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.12">
<                 <p id="section-toc.1-1.4.2.12.1"><a href="#section-4.12" class="xref">4.12</a>. <a href="#name-support-in-endpoint-protoco" class="xref">Support in Endpoint Protocol Stacks</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.12">
>                 <p id="section-toc.1-1.4.2.12.1"><a href="#section-4.12" class="auto internal xref">4.12</a>. <a href="#name-support-in-endpoint-protoco" class="internal xref">Support in Endpoint Protocol Stacks</a></p>
1343,1344c1368,1369
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.4.2.13">
<                 <p id="section-toc.1-1.4.2.13.1"><a href="#section-4.13" class="xref">4.13</a>. <a href="#name-planning-for-failure" class="xref">Planning for Failure</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.13">
>                 <p id="section-toc.1-1.4.2.13.1"><a href="#section-4.13" class="auto internal xref">4.13</a>. <a href="#name-planning-for-failure" class="internal xref">Planning for Failure</a></p>
1348,1349c1373,1374
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.5">
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-future-work" class="xref">Future Work</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-future-work" class="internal xref">Future Work</a></p>
1351,1358c1376,1383
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.6">
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-contributions" class="xref">Contributions</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.1">
<                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-stream-transport-st-st2-st2" class="xref">Stream Transport (ST, ST2, ST2+)</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.1.2.1">
<                     <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-reasons-for-non-deployment" class="xref">Reasons for Non-deployment</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-contributions" class="internal xref">Contributions</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
>                 <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-stream-transport-st-st2-st2" class="internal xref">Stream Transport (ST, ST2, ST2+)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
>                     <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="auto internal xref">6.1.1</a>.  <a href="#name-reasons-for-non-deployment" class="internal xref">Reasons for Non-deployment</a></p>
1360,1361c1385,1386
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.1.2.2">
<                     <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-lessons-learned" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
>                     <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="auto internal xref">6.1.2</a>.  <a href="#name-lessons-learned" class="internal xref">Lessons Learned</a></p>
1365,1369c1390,1394
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.2">
<                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-integrated-services-intserv" class="xref">Integrated Services (IntServ)</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.2.2.1">
<                     <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-reasons-for-non-deployment-2" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
>                 <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-integrated-services-intserv" class="internal xref">Integrated Services (IntServ)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
>                     <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-reasons-for-non-deployment-2" class="internal xref">Reasons for Non-deployment</a></p>
1371,1372c1396,1397
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.2.2.2">
<                     <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-lessons-learned-2" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
>                     <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-lessons-learned-2" class="internal xref">Lessons Learned</a></p>
1376,1380c1401,1405
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.3">
<                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-quick-start-tcp" class="xref">Quick-Start TCP</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.3.2.1">
<                     <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="xref">6.3.1</a>.  <a href="#name-reasons-for-non-deployment-3" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
>                 <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-quick-start-tcp" class="internal xref">Quick-Start TCP</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
>                     <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="auto internal xref">6.3.1</a>.  <a href="#name-reasons-for-non-deployment-3" class="internal xref">Reasons for Non-deployment</a></p>
1382,1383c1407,1408
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.3.2.2">
<                     <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="xref">6.3.2</a>.  <a href="#name-lessons-learned-3" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
>                     <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="auto internal xref">6.3.2</a>.  <a href="#name-lessons-learned-3" class="internal xref">Lessons Learned</a></p>
1387,1391c1412,1416
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.4">
<                 <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-icmp-source-quench" class="xref">ICMP Source Quench</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.4.2.1">
<                     <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="xref">6.4.1</a>.  <a href="#name-reasons-for-non-deployment-4" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
>                 <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-icmp-source-quench" class="internal xref">ICMP Source Quench</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
>                     <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="auto internal xref">6.4.1</a>.  <a href="#name-reasons-for-non-deployment-4" class="internal xref">Reasons for Non-deployment</a></p>
1393,1394c1418,1419
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.4.2.2">
<                     <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="xref">6.4.2</a>.  <a href="#name-lessons-learned-4" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
>                     <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="auto internal xref">6.4.2</a>.  <a href="#name-lessons-learned-4" class="internal xref">Lessons Learned</a></p>
1398,1402c1423,1427
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.5">
<                 <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-triggers-for-transport-trig" class="xref">Triggers for Transport (TRIGTRAN)</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.5.2.1">
<                     <p id="section-toc.1-1.6.2.5.2.1.1"><a href="#section-6.5.1" class="xref">6.5.1</a>.  <a href="#name-reasons-for-non-deployment-5" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
>                 <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-triggers-for-transport-trig" class="internal xref">Triggers for Transport (TRIGTRAN)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.1">
>                     <p id="section-toc.1-1.6.2.5.2.1.1"><a href="#section-6.5.1" class="auto internal xref">6.5.1</a>.  <a href="#name-reasons-for-non-deployment-5" class="internal xref">Reasons for Non-deployment</a></p>
1404,1405c1429,1430
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.5.2.2">
<                     <p id="section-toc.1-1.6.2.5.2.2.1"><a href="#section-6.5.2" class="xref">6.5.2</a>.  <a href="#name-lessons-learned-5" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.2">
>                     <p id="section-toc.1-1.6.2.5.2.2.1"><a href="#section-6.5.2" class="auto internal xref">6.5.2</a>.  <a href="#name-lessons-learned-5" class="internal xref">Lessons Learned</a></p>
1409,1413c1434,1438
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.6">
<                 <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="xref">6.6</a>.  <a href="#name-shim6" class="xref">Shim6</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.6.2.1">
<                     <p id="section-toc.1-1.6.2.6.2.1.1"><a href="#section-6.6.1" class="xref">6.6.1</a>.  <a href="#name-reasons-for-non-deployment-6" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
>                 <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-shim6" class="internal xref">Shim6</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.1">
>                     <p id="section-toc.1-1.6.2.6.2.1.1"><a href="#section-6.6.1" class="auto internal xref">6.6.1</a>.  <a href="#name-reasons-for-non-deployment-6" class="internal xref">Reasons for Non-deployment</a></p>
1415,1416c1440,1441
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.6.2.2">
<                     <p id="section-toc.1-1.6.2.6.2.2.1"><a href="#section-6.6.2" class="xref">6.6.2</a>.  <a href="#name-lessons-learned-6" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.2">
>                     <p id="section-toc.1-1.6.2.6.2.2.1"><a href="#section-6.6.2" class="auto internal xref">6.6.2</a>.  <a href="#name-lessons-learned-6" class="internal xref">Lessons Learned</a></p>
1418,1419c1443,1444
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.6.2.3">
<                     <p id="section-toc.1-1.6.2.6.2.3.1"><a href="#section-6.6.3" class="xref">6.6.3</a>.  <a href="#name-addendum-on-multipath-tcp" class="xref">Addendum on Multipath TCP</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.3">
>                     <p id="section-toc.1-1.6.2.6.2.3.1"><a href="#section-6.6.3" class="auto internal xref">6.6.3</a>.  <a href="#name-addendum-on-multipath-tcp" class="internal xref">Addendum on Multipath TCP</a></p>
1423,1427c1448,1452
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.7">
<                 <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="xref">6.7</a>.  <a href="#name-next-steps-in-signaling-nsi" class="xref">Next Steps in Signaling (NSIS)</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.7.2.1">
<                     <p id="section-toc.1-1.6.2.7.2.1.1"><a href="#section-6.7.1" class="xref">6.7.1</a>.  <a href="#name-reasons-for-non-deployment-7" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
>                 <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-next-steps-in-signaling-nsi" class="internal xref">Next Steps in Signaling (NSIS)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7.2.1">
>                     <p id="section-toc.1-1.6.2.7.2.1.1"><a href="#section-6.7.1" class="auto internal xref">6.7.1</a>.  <a href="#name-reasons-for-non-deployment-7" class="internal xref">Reasons for Non-deployment</a></p>
1429,1430c1454,1455
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.7.2.2">
<                     <p id="section-toc.1-1.6.2.7.2.2.1"><a href="#section-6.7.2" class="xref">6.7.2</a>.  <a href="#name-lessons-learned-7" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7.2.2">
>                     <p id="section-toc.1-1.6.2.7.2.2.1"><a href="#section-6.7.2" class="auto internal xref">6.7.2</a>.  <a href="#name-lessons-learned-7" class="internal xref">Lessons Learned</a></p>
1434,1438c1459,1463
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.8">
<                 <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="xref">6.8</a>.  <a href="#name-ipv6-flow-labels" class="xref">IPv6 Flow Labels</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.8.2.1">
<                     <p id="section-toc.1-1.6.2.8.2.1.1"><a href="#section-6.8.1" class="xref">6.8.1</a>.  <a href="#name-reasons-for-non-deployment-8" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
>                 <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-ipv6-flow-labels" class="internal xref">IPv6 Flow Labels</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.1">
>                     <p id="section-toc.1-1.6.2.8.2.1.1"><a href="#section-6.8.1" class="auto internal xref">6.8.1</a>.  <a href="#name-reasons-for-non-deployment-8" class="internal xref">Reasons for Non-deployment</a></p>
1440,1441c1465,1466
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.8.2.2">
<                     <p id="section-toc.1-1.6.2.8.2.2.1"><a href="#section-6.8.2" class="xref">6.8.2</a>.  <a href="#name-lessons-learned-8" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8.2.2">
>                     <p id="section-toc.1-1.6.2.8.2.2.1"><a href="#section-6.8.2" class="auto internal xref">6.8.2</a>.  <a href="#name-lessons-learned-8" class="internal xref">Lessons Learned</a></p>
1445,1449c1470,1474
<               <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.9">
<                 <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="xref">6.9</a>.  <a href="#name-explicit-congestion-notific" class="xref">Explicit Congestion Notification (ECN)</a></p>
< <ul class="ulEmpty ulBare compact toc">
< <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.9.2.1">
<                     <p id="section-toc.1-1.6.2.9.2.1.1"><a href="#section-6.9.1" class="xref">6.9.1</a>.  <a href="#name-reasons-for-non-deployment-9" class="xref">Reasons for Non-deployment</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
>                 <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="auto internal xref">6.9</a>.  <a href="#name-explicit-congestion-notific" class="internal xref">Explicit Congestion Notification (ECN)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9.2.1">
>                     <p id="section-toc.1-1.6.2.9.2.1.1"><a href="#section-6.9.1" class="auto internal xref">6.9.1</a>.  <a href="#name-reasons-for-non-deployment-9" class="internal xref">Reasons for Non-deployment</a></p>
1451,1452c1476,1477
<                   <li class="ulEmpty ulBare compact toc" id="section-toc.1-1.6.2.9.2.2">
<                     <p id="section-toc.1-1.6.2.9.2.2.1"><a href="#section-6.9.2" class="xref">6.9.2</a>.  <a href="#name-lessons-learned-9" class="xref">Lessons Learned</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9.2.2">
>                     <p id="section-toc.1-1.6.2.9.2.2.1"><a href="#section-6.9.2" class="auto internal xref">6.9.2</a>.  <a href="#name-lessons-learned-9" class="internal xref">Lessons Learned</a></p>
1458,1459c1483,1484
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.7">
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1461,1462c1486,1487
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.8">
<             <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
>             <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1464,1465c1489,1490
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.9">
<             <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
>             <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1467,1468c1492,1493
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.10">
<             <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
>             <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
1470,1471c1495,1496
<           <li class="ulBare compact toc ulEmpty" id="section-toc.1-1.11">
<             <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
>             <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
1490,1492c1515,1517
< <p id="section-1.1-2">These terms have definitions in other PANRG documents <span>[<a href="#PANRG" class="xref">PANRG</a>]</span> and are still the subject of some discussion in the Research Group, as of the date of this document. But because this document reflects work performed over several decades, the technologies described in <a href="#Contributions" class="xref">Section 6</a> significantly predate the current definitions of "Path" and "Path Aware" in use in the Path Aware Networking Research Group, and it is unlikely that all the contributors to <a href="#Contributions" class="xref">Section 6</a> would have had the same understanding of these terms. Those technologies were considered "Path Aware" in early PANRG discussions and so are included in this retrospective document.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
< <p id="section-1.1-3">It is worth noting that the definitions of "Path" and "Path Aware" in <span>[<a href="#I-D.irtf-panrg-path-properties" class="xref">PANRG-PATH-PROPERTIES</a>]</span> would apply to Path Aware techniques at a number of levels of the Internet protocol architecture (<span>[<a href="#RFC1122" class="xref">RFC1122</a>]</span>, plus several decades of refinements), but the contributions received for this document tended to target the transport layer and to treat a "Path" constructed by routers as opaque. It would be useful to consider how applicable the Lessons Learned cataloged in this document are, at other layers, and that would be a fine topic for follow-on research.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
< <p id="section-1.1-4">The current definition of "Path" in the Path Aware Networking Research Group appears in Section 2 ("Terminology") in <span>[<a href="#I-D.irtf-panrg-path-properties" class="xref">PANRG-PATH-PROPERTIES</a>]</span>. That definition is included here as a convenience to the reader.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-1.1-2">These terms have definitions in other PANRG documents <span>[<a href="#PANRG" class="cite xref">PANRG</a>]</span> and are still the subject of some discussion in the Research Group, as of the date of this document. But because this document reflects work performed over several decades, the technologies described in <a href="#Contributions" class="auto internal xref">Section 6</a> significantly predate the current definitions of "Path" and "Path Aware" in use in the Path Aware Networking Research Group, and it is unlikely that all the contributors to <a href="#Contributions" class="auto internal xref">Section 6</a> would have had the same understanding of these terms. Those technologies were considered "Path Aware" in early PANRG discussions and so are included in this retrospective document.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
> <p id="section-1.1-3">It is worth noting that the definitions of "Path" and "Path Aware" in <span>[<a href="#I-D.irtf-panrg-path-properties" class="cite xref">PANRG-PATH-PROPERTIES</a>]</span> would apply to Path Aware techniques at a number of levels of the Internet protocol architecture (<span>[<a href="#RFC1122" class="cite xref">RFC1122</a>]</span>, plus several decades of refinements), but the contributions received for this document tended to target the transport layer and to treat a "Path" constructed by routers as opaque. It would be useful to consider how applicable the Lessons Learned cataloged in this document are, at other layers, and that would be a fine topic for follow-on research.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
> <p id="section-1.1-4">The current definition of "Path" in the Path Aware Networking Research Group appears in Section 2 ("Terminology") in <span>[<a href="#I-D.irtf-panrg-path-properties" class="cite xref">PANRG-PATH-PROPERTIES</a>]</span>. That definition is included here as a convenience to the reader.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
1508c1533
< <p id="section-1.1-6">The current definition of Path Awareness, used by the Path Aware Networking Research Group, appears in Section 1.1 ("Definition") in <span>[<a href="#I-D.irtf-panrg-questions" class="xref">PANRG-QUESTIONS</a>]</span>. 
---
> <p id="section-1.1-6">The current definition of Path Awareness, used by the Path Aware Networking Research Group, appears in Section 1.1 ("Definition") in <span>[<a href="#I-D.irtf-panrg-questions" class="cite xref">PANRG-QUESTIONS</a>]</span>. 
1534c1559
< <p id="section-2-1">At the first meeting of the Path Aware Networking Research Group <span>[<a href="#PANRG" class="xref">PANRG</a>]</span>, at IETF 99 <span>[<a href="#PANRG-99" class="xref">PANRG-99</a>]</span>, Olivier Bonaventure led a discussion of "A Decade of Path Awareness" <span>[<a href="#PATH-Decade" class="xref">PATH-Decade</a>]</span>, on attempts, which were mostly unsuccessful for a variety of reasons, to exploit Path Aware techniques and achieve a variety of goals over the past decade. At the end of that discussion, two things were abundantly clear.<a href="#section-2-1" class="pilcrow">¶</a></p>
---
> <p id="section-2-1">At the first meeting of the Path Aware Networking Research Group <span>[<a href="#PANRG" class="cite xref">PANRG</a>]</span>, at IETF 99 <span>[<a href="#PANRG-99" class="cite xref">PANRG-99</a>]</span>, Olivier Bonaventure led a discussion of "A Decade of Path Awareness" <span>[<a href="#PATH-Decade" class="cite xref">PATH-Decade</a>]</span>, on attempts, which were mostly unsuccessful for a variety of reasons, to exploit Path Aware techniques and achieve a variety of goals over the past decade. At the end of that discussion, two things were abundantly clear.<a href="#section-2-1" class="pilcrow">¶</a></p>
1538c1563
<         <li class="normal" id="section-2-2.2">Although some Path Aware techniques have been deployed (for example, Differentiated Services, or Diffserv <span>[<a href="#RFC2475" class="xref">RFC2475</a>]</span>), most of these techniques haven't seen widespread adoption and deployment. Even "successful" techniques like Diffserv can face obstacles that prevent wider usage. The reasons for non-adoption and limited adoption and deployment are many and are worthy of study.<a href="#section-2-2.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-2-2.2">Although some Path Aware techniques have been deployed (for example, Differentiated Services, or Diffserv <span>[<a href="#RFC2475" class="cite xref">RFC2475</a>]</span>), most of these techniques haven't seen widespread adoption and deployment. Even "successful" techniques like Diffserv can face obstacles that prevent wider usage. The reasons for non-adoption and limited adoption and deployment are many and are worthy of study.<a href="#section-2-2.2" class="pilcrow">¶</a>
1543c1568
< <li class="normal" id="section-2-4.1">Path Aware networking has been more Research than Engineering, so establishing an IRTF Research Group for Path Aware networking was the right thing to do <span>[<a href="#RFC7418" class="xref">RFC7418</a>]</span>.<a href="#section-2-4.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-2-4.1">Path Aware networking has been more Research than Engineering, so establishing an IRTF Research Group for Path Aware networking was the right thing to do <span>[<a href="#RFC7418" class="cite xref">RFC7418</a>]</span>.<a href="#section-2-4.1" class="pilcrow">¶</a>
1549c1574
< <p id="section-2-6">This document contains the analysis performed by that Research Group (<a href="#LessonsLearned" class="xref">Section 4</a>), based on that catalog (<a href="#Contributions" class="xref">Section 6</a>).<a href="#section-2-6" class="pilcrow">¶</a></p>
---
> <p id="section-2-6">This document contains the analysis performed by that Research Group (<a href="#LessonsLearned" class="auto internal xref">Section 4</a>), based on that catalog (<a href="#Contributions" class="auto internal xref">Section 6</a>).<a href="#section-2-6" class="pilcrow">¶</a></p>
1564,1565c1589,1590
< <p id="section-2.2-1">This document does not catalog every proposed Path Aware technique that was not adopted and deployed. Instead, we limited our focus to technologies that passed through the IETF community and still identified enough techniques to provide background for the lessons included in <a href="#LessonsLearned" class="xref">Section 4</a> to inform researchers and protocol engineers in their work.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
< <p id="section-2.2-2">No shame is intended for the techniques included in this document. As shown in <a href="#LessonsLearned" class="xref">Section 4</a>, the quality of specific techniques had little to do with whether they were deployed or not. Based on the techniques cataloged in this document, it is likely that when these techniques were put forward, the proponents were trying to engineer something that could not be engineered without first carrying out research. Actual shame would be failing to learn from experience and failing to share that experience with other networking researchers and engineers.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
---
> <p id="section-2.2-1">This document does not catalog every proposed Path Aware technique that was not adopted and deployed. Instead, we limited our focus to technologies that passed through the IETF community and still identified enough techniques to provide background for the lessons included in <a href="#LessonsLearned" class="auto internal xref">Section 4</a> to inform researchers and protocol engineers in their work.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
> <p id="section-2.2-2">No shame is intended for the techniques included in this document. As shown in <a href="#LessonsLearned" class="auto internal xref">Section 4</a>, the quality of specific techniques had little to do with whether they were deployed or not. Based on the techniques cataloged in this document, it is likely that when these techniques were put forward, the proponents were trying to engineer something that could not be engineered without first carrying out research. Actual shame would be failing to learn from experience and failing to share that experience with other networking researchers and engineers.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
1573,1577c1598,1602
< <p id="section-2.3-1">As background for understanding the Lessons Learned contained in this document, the reader is encouraged to become familiar with the Internet Architecture Board's documents on "<a href="#RFC5218" class="xref">What Makes for a Successful Protocol?</a>" <span>[<a href="#RFC5218" class="xref">RFC5218</a>]</span> 
< and "<a href="#RFC8170" class="xref">Planning for Protocol Adoption and Subsequent Transitions</a>" <span>[<a href="#RFC8170" class="xref">RFC8170</a>]</span>.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
< <p id="section-2.3-2">Although these two documents do not specifically target Path Aware networking protocols, they are helpful resources for readers seeking to improve their understanding of considerations for successful adoption and deployment of any protocol. For example, the basic success factors described in <span><a href="https://www.rfc-editor.org/rfc/rfc5218#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC5218" class="xref">RFC5218</a>]</span> are helpful for readers of this document.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
< <p id="section-2.3-3">Because there is an economic aspect to decisions about deployment, the IAB Workshop on Internet Technology Adoption and Transition <span>[<a href="#ITAT" class="xref">ITAT</a>]</span> report <span>[<a href="#RFC7305" class="xref">RFC7305</a>]</span> also provides food for thought.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
< <p id="section-2.3-4">Several of the Lessons Learned in <a href="#LessonsLearned" class="xref">Section 4</a> reflect considerations described in <span>[<a href="#RFC5218" class="xref">RFC5218</a>]</span>, <span>[<a href="#RFC7305" class="xref">RFC7305</a>]</span>, and <span>[<a href="#RFC8170" class="xref">RFC8170</a>]</span>.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
---
> <p id="section-2.3-1">As background for understanding the Lessons Learned contained in this document, the reader is encouraged to become familiar with the Internet Architecture Board's documents on "<a href="#RFC5218" class="internal xref">What Makes for a Successful Protocol?</a>" <span>[<a href="#RFC5218" class="cite xref">RFC5218</a>]</span> 
> and "<a href="#RFC8170" class="internal xref">Planning for Protocol Adoption and Subsequent Transitions</a>" <span>[<a href="#RFC8170" class="cite xref">RFC8170</a>]</span>.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
> <p id="section-2.3-2">Although these two documents do not specifically target Path Aware networking protocols, they are helpful resources for readers seeking to improve their understanding of considerations for successful adoption and deployment of any protocol. For example, the basic success factors described in <span><a href="https://rfc-editor.org/rfc/rfc5218#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC5218" class="cite xref">RFC5218</a>]</span> are helpful for readers of this document.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
> <p id="section-2.3-3">Because there is an economic aspect to decisions about deployment, the IAB Workshop on Internet Technology Adoption and Transition <span>[<a href="#ITAT" class="cite xref">ITAT</a>]</span> report <span>[<a href="#RFC7305" class="cite xref">RFC7305</a>]</span> also provides food for thought.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
> <p id="section-2.3-4">Several of the Lessons Learned in <a href="#LessonsLearned" class="auto internal xref">Section 4</a> reflect considerations described in <span>[<a href="#RFC5218" class="cite xref">RFC5218</a>]</span>, <span>[<a href="#RFC7305" class="cite xref">RFC7305</a>]</span>, and <span>[<a href="#RFC8170" class="cite xref">RFC8170</a>]</span>.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
1585c1610
< <p id="section-2.4-1">The terms "node" and "element" in this document have the meaning defined in <span>[<a href="#I-D.irtf-panrg-path-properties" class="xref">PANRG-PATH-PROPERTIES</a>]</span>.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-2.4-1">The terms "node" and "element" in this document have the meaning defined in <span>[<a href="#I-D.irtf-panrg-path-properties" class="cite xref">PANRG-PATH-PROPERTIES</a>]</span>.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
1616,1617c1641,1642
< <p id="section-3-1">The initial scope for this document was roughly "What mistakes have we made in the decade prior to <span>[<a href="#PANRG-99" class="xref">PANRG-99</a>]</span>, that we shouldn't make again?" Some of the contributions in <a href="#Contributions" class="xref">Section 6</a> predate the initial scope. The earliest Path Aware technique referred to in <a href="#Contributions" class="xref">Section 6</a> is <span>[<a href="#IEN-119" class="xref">IEN-119</a>]</span>, which was published in the late 1970s; see <a href="#ST2" class="xref">Section 6.1</a>. Given that the networking ecosystem has evolved continuously, it seems reasonable to consider how to apply these lessons.<a href="#section-3-1" class="pilcrow">¶</a></p>
< <p id="section-3-2">The PANRG reviewed the Lessons Learned (<a href="#LessonsLearned" class="xref">Section 4</a>) contained in the May 23, 2019 draft version of this document at IETF 105 <span>[<a href="#PANRG-105-Min" class="xref">PANRG-105-Min</a>]</span> and carried out additional discussion at IETF 106 <span>[<a href="#PANRG-106-Min" class="xref">PANRG-106-Min</a>]</span>. <a href="#thefuture" class="xref">Table 1</a> provides the "sense of the room" about each lesson after those discussions. The intention was to capture whether a specific lesson seems to be<a href="#section-3-2" class="pilcrow">¶</a></p>
---
> <p id="section-3-1">The initial scope for this document was roughly "What mistakes have we made in the decade prior to <span>[<a href="#PANRG-99" class="cite xref">PANRG-99</a>]</span>, that we shouldn't make again?" Some of the contributions in <a href="#Contributions" class="auto internal xref">Section 6</a> predate the initial scope. The earliest Path Aware technique referred to in <a href="#Contributions" class="auto internal xref">Section 6</a> is <span>[<a href="#IEN-119" class="cite xref">IEN-119</a>]</span>, which was published in the late 1970s; see <a href="#ST2" class="auto internal xref">Section 6.1</a>. Given that the networking ecosystem has evolved continuously, it seems reasonable to consider how to apply these lessons.<a href="#section-3-1" class="pilcrow">¶</a></p>
> <p id="section-3-2">The PANRG reviewed the Lessons Learned (<a href="#LessonsLearned" class="auto internal xref">Section 4</a>) contained in the May 23, 2019 draft version of this document at IETF 105 <span>[<a href="#PANRG-105-Min" class="cite xref">PANRG-105-Min</a>]</span> and carried out additional discussion at IETF 106 <span>[<a href="#PANRG-106-Min" class="cite xref">PANRG-106-Min</a>]</span>. <a href="#thefuture" class="auto internal xref">Table 1</a> provides the "sense of the room" about each lesson after those discussions. The intention was to capture whether a specific lesson seems to be<a href="#section-3-2" class="pilcrow">¶</a></p>
1626c1651
< <p id="section-3-4"><a href="#ecn" class="xref">Section 6.9</a> on Explicit Congestion Notification (ECN) was added during the review and approval process, based on a question from Martin Duke. <a href="#ecn" class="xref">Section 6.9</a>, as contained in the March 8, 2021 draft version of this document, was discussed at <span>[<a href="#PANRG-110" class="xref">PANRG-110</a>]</span> and is summarized in <a href="#OneChance" class="xref">Section 4.13</a>, describing a new Lesson Learned.<a href="#section-3-4" class="pilcrow">¶</a></p>
---
> <p id="section-3-4"><a href="#ecn" class="auto internal xref">Section 6.9</a> on Explicit Congestion Notification (ECN) was added during the review and approval process, based on a question from Martin Duke. <a href="#ecn" class="auto internal xref">Section 6.9</a>, as contained in the March 8, 2021 draft version of this document, was discussed at <span>[<a href="#PANRG-110" class="cite xref">PANRG-110</a>]</span> and is summarized in <a href="#OneChance" class="auto internal xref">Section 4.13</a>, describing a new Lesson Learned.<a href="#section-3-4" class="pilcrow">¶</a></p>
1638c1663
<             <td class="text-left" rowspan="1" colspan="1">Justifying Deployment (<a href="#JustifyingDeployment" class="xref">Section 4.1</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Justifying Deployment (<a href="#JustifyingDeployment" class="auto internal xref">Section 4.1</a>)</td>
1642c1667
<             <td class="text-left" rowspan="1" colspan="1">Providing Benefits for Early Adopters (<a href="#EarlyAdopters" class="xref">Section 4.2</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Providing Benefits for Early Adopters (<a href="#EarlyAdopters" class="auto internal xref">Section 4.2</a>)</td>
1646c1671
<             <td class="text-left" rowspan="1" colspan="1">Providing Benefits during Partial Deployment (<a href="#PartialDeployment" class="xref">Section 4.3</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Providing Benefits during Partial Deployment (<a href="#PartialDeployment" class="auto internal xref">Section 4.3</a>)</td>
1650c1675
<             <td class="text-left" rowspan="1" colspan="1">Outperforming End-to-End Protocol Mechanisms (<a href="#Outperforming" class="xref">Section 4.4</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Outperforming End-to-End Protocol Mechanisms (<a href="#Outperforming" class="auto internal xref">Section 4.4</a>)</td>
1654c1679
<             <td class="text-left" rowspan="1" colspan="1">Paying for Path Aware Techniques (<a href="#Paying" class="xref">Section 4.5</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Paying for Path Aware Techniques (<a href="#Paying" class="auto internal xref">Section 4.5</a>)</td>
1658c1683
<             <td class="text-left" rowspan="1" colspan="1">Impact on Operational Practices (<a href="#OperationalImpact" class="xref">Section 4.6</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Impact on Operational Practices (<a href="#OperationalImpact" class="auto internal xref">Section 4.6</a>)</td>
1662c1687
<             <td class="text-left" rowspan="1" colspan="1">Per-Connection State (<a href="#Per-connectionState" class="xref">Section 4.7</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Per-Connection State (<a href="#Per-connectionState" class="auto internal xref">Section 4.7</a>)</td>
1666c1691
<             <td class="text-left" rowspan="1" colspan="1">Keeping Traffic on Fast Paths (<a href="#Fast-paths" class="xref">Section 4.8</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Keeping Traffic on Fast Paths (<a href="#Fast-paths" class="auto internal xref">Section 4.8</a>)</td>
1670c1695
<             <td class="text-left" rowspan="1" colspan="1">Endpoints Trusting Intermediate Nodes (<a href="#EndpointsTrustingIDs" class="xref">Section 4.9</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Endpoints Trusting Intermediate Nodes (<a href="#EndpointsTrustingIDs" class="auto internal xref">Section 4.9</a>)</td>
1674c1699
<             <td class="text-left" rowspan="1" colspan="1">Intermediate Nodes Trusting Endpoints (<a href="#IDsTrustingEndpoints" class="xref">Section 4.10</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Intermediate Nodes Trusting Endpoints (<a href="#IDsTrustingEndpoints" class="auto internal xref">Section 4.10</a>)</td>
1678c1703
<             <td class="text-left" rowspan="1" colspan="1">Reacting to Distant Signals (<a href="#ReactionTimes" class="xref">Section 4.11</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Reacting to Distant Signals (<a href="#ReactionTimes" class="auto internal xref">Section 4.11</a>)</td>
1682c1707
<             <td class="text-left" rowspan="1" colspan="1">Support in Endpoint Protocol Stacks (<a href="#ProtocolStackSupport" class="xref">Section 4.12</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Support in Endpoint Protocol Stacks (<a href="#ProtocolStackSupport" class="auto internal xref">Section 4.12</a>)</td>
1686c1711
<             <td class="text-left" rowspan="1" colspan="1">Planning for Failure (<a href="#OneChance" class="xref">Section 4.13</a>)</td>
---
>             <td class="text-left" rowspan="1" colspan="1">Planning for Failure (<a href="#OneChance" class="auto internal xref">Section 4.13</a>)</td>
1701c1726
< <li class="normal" id="section-3-11.1">Integrated Services (IntServ) (<a href="#IntServ" class="xref">Section 6.2</a>) required state at every participating intermediate node for every connection between two endpoints. As the Internet ecosystem has evolved, carrying many connections in a tunnel that appears to intermediate nodes as a single connection has become more common, so that additional end-to-end connections don't add additional state to intermediate nodes between tunnel endpoints. If these tunnels are encrypted, intermediate nodes between tunnel endpoints can't distinguish between connections, even if that were desirable.<a href="#section-3-11.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-3-11.1">Integrated Services (IntServ) (<a href="#IntServ" class="auto internal xref">Section 6.2</a>) required state at every participating intermediate node for every connection between two endpoints. As the Internet ecosystem has evolved, carrying many connections in a tunnel that appears to intermediate nodes as a single connection has become more common, so that additional end-to-end connections don't add additional state to intermediate nodes between tunnel endpoints. If these tunnels are encrypted, intermediate nodes between tunnel endpoints can't distinguish between connections, even if that were desirable.<a href="#section-3-11.1" class="pilcrow">¶</a>
1711c1736
< <li class="normal" id="section-3-15.1">We noted with relief that discussions about this were already underway in the IETF community at IETF 105 (see the Security Area Open Meeting minutes <span>[<a href="#SAAG-105-Min" class="xref">SAAG-105-Min</a>]</span> for discussion of <span>[<a href="#I-D.arkko-arch-internet-threat-model" class="xref">INTERNET-THREAT-MODEL</a>]</span> and <span>[<a href="#I-D.farrell-etm" class="xref">FARRELL-ETM</a>]</span>), and the Internet Architecture Board has created a mailing list for continued discussions <span>[<a href="#model-t" class="xref">model-t</a>]</span>, but we recognize that there are Path Aware networking aspects of this effort, requiring research.<a href="#section-3-15.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-3-15.1">We noted with relief that discussions about this were already underway in the IETF community at IETF 105 (see the Security Area Open Meeting minutes <span>[<a href="#SAAG-105-Min" class="cite xref">SAAG-105-Min</a>]</span> for discussion of <span>[<a href="#I-D.arkko-arch-internet-threat-model" class="cite xref">INTERNET-THREAT-MODEL</a>]</span> and <span>[<a href="#I-D.farrell-etm" class="cite xref">FARRELL-ETM</a>]</span>), and the Internet Architecture Board has created a mailing list for continued discussions <span>[<a href="#model-t" class="cite xref">model-t</a>]</span>, but we recognize that there are Path Aware networking aspects of this effort, requiring research.<a href="#section-3-15.1" class="pilcrow">¶</a>
1733c1758
< <p id="section-4-1">This section summarizes the Lessons Learned from the contributed subsections in <a href="#Contributions" class="xref">Section 6</a>.<a href="#section-4-1" class="pilcrow">¶</a></p>
---
> <p id="section-4-1">This section summarizes the Lessons Learned from the contributed subsections in <a href="#Contributions" class="auto internal xref">Section 6</a>.<a href="#section-4-1" class="pilcrow">¶</a></p>
1737c1762
< "prevent" can shift over time -- some of the Lessons Learned are based on both a) Path Aware techniques that were not deployed and b) Path Aware techniques that were deployed but were not deployed widely or quickly. See Sections <a href="#Shim6" class="xref">6.6</a> and <a href="#Addendum-MP-TCP" class="xref">6.6.3</a> for examples of this shifting boundary.<a href="#section-4-3" class="pilcrow">¶</a></p>
---
> "prevent" can shift over time -- some of the Lessons Learned are based on both a) Path Aware techniques that were not deployed and b) Path Aware techniques that were deployed but were not deployed widely or quickly. See Sections <a href="#Shim6" class="auto internal xref">6.6</a> and <a href="#Addendum-MP-TCP" class="auto internal xref">6.6.3</a> for examples of this shifting boundary.<a href="#section-4-3" class="pilcrow">¶</a></p>
1743c1768
< <p id="section-4.1-1">The benefit of Path Awareness must be great enough to justify making changes in an operational network. The colloquial U.S. American English expression, "If it ain't broke, don't fix it" is a "best current practice" on today's Internet. (See Sections <a href="#Quick-Start" class="xref">6.3</a>, <a href="#Source-Quench" class="xref">6.4</a>, <a href="#TRIGTRAN" class="xref">6.5</a>, and <a href="#ecn" class="xref">6.9</a>, in addition to <span>[<a href="#RFC5218" class="xref">RFC5218</a>]</span>.)<a href="#section-4.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.1-1">The benefit of Path Awareness must be great enough to justify making changes in an operational network. The colloquial U.S. American English expression, "If it ain't broke, don't fix it" is a "best current practice" on today's Internet. (See Sections <a href="#Quick-Start" class="auto internal xref">6.3</a>, <a href="#Source-Quench" class="auto internal xref">6.4</a>, <a href="#TRIGTRAN" class="auto internal xref">6.5</a>, and <a href="#ecn" class="auto internal xref">6.9</a>, in addition to <span>[<a href="#RFC5218" class="cite xref">RFC5218</a>]</span>.)<a href="#section-4.1-1" class="pilcrow">¶</a></p>
1751c1776
< <p id="section-4.2-1">Providing benefits for early adopters can be key -- if everyone must deploy a technique in order for the technique to provide benefits, or even to work at all, the technique is unlikely to be adopted widely or quickly. (See Sections <a href="#IntServ" class="xref">6.2</a> and <a href="#Quick-Start" class="xref">6.3</a>, in addition to <span>[<a href="#RFC5218" class="xref">RFC5218</a>]</span>.)<a href="#section-4.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.2-1">Providing benefits for early adopters can be key -- if everyone must deploy a technique in order for the technique to provide benefits, or even to work at all, the technique is unlikely to be adopted widely or quickly. (See Sections <a href="#IntServ" class="auto internal xref">6.2</a> and <a href="#Quick-Start" class="auto internal xref">6.3</a>, in addition to <span>[<a href="#RFC5218" class="cite xref">RFC5218</a>]</span>.)<a href="#section-4.2-1" class="pilcrow">¶</a></p>
1759c1784
< <p id="section-4.3-1">Some proposals require that all path elements along the full length of the path must be upgraded to support a new technique, before any benefits can be seen. This is likely to require coordination between operators who control a subset of path elements, and between operators and end users if endpoint upgrades are required. If a technique provides benefits when only a part of the path has been upgraded, this is likely to encourage adoption and deployment. (See Sections <a href="#IntServ" class="xref">6.2</a>, <a href="#Quick-Start" class="xref">6.3</a>, and <a href="#ecn" class="xref">6.9</a>, in addition to <span>[<a href="#RFC5218" class="xref">RFC5218</a>]</span>.)<a href="#section-4.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.3-1">Some proposals require that all path elements along the full length of the path must be upgraded to support a new technique, before any benefits can be seen. This is likely to require coordination between operators who control a subset of path elements, and between operators and end users if endpoint upgrades are required. If a technique provides benefits when only a part of the path has been upgraded, this is likely to encourage adoption and deployment. (See Sections <a href="#IntServ" class="auto internal xref">6.2</a>, <a href="#Quick-Start" class="auto internal xref">6.3</a>, and <a href="#ecn" class="auto internal xref">6.9</a>, in addition to <span>[<a href="#RFC5218" class="cite xref">RFC5218</a>]</span>.)<a href="#section-4.3-1" class="pilcrow">¶</a></p>
1767c1792
< <p id="section-4.4-1">Adaptive end-to-end protocol mechanisms may respond to feedback quickly enough that the additional realizable benefit from a new Path Aware mechanism that tries to manipulate nodes along a path, or observe the attributes of nodes along a path, may be much smaller than anticipated. (See Sections <a href="#Quick-Start" class="xref">6.3</a> and <a href="#TRIGTRAN" class="xref">6.5</a>.)<a href="#section-4.4-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.4-1">Adaptive end-to-end protocol mechanisms may respond to feedback quickly enough that the additional realizable benefit from a new Path Aware mechanism that tries to manipulate nodes along a path, or observe the attributes of nodes along a path, may be much smaller than anticipated. (See Sections <a href="#Quick-Start" class="auto internal xref">6.3</a> and <a href="#TRIGTRAN" class="auto internal xref">6.5</a>.)<a href="#section-4.4-1" class="pilcrow">¶</a></p>
1775c1800
< <p id="section-4.5-1">"Follow the money." If operators can't charge for a Path Aware technique to recover the costs of deploying it, the benefits to the operator must be really significant. Corollary: if operators charge for a Path Aware technique, the benefits to users of that Path Aware technique must be significant enough to justify the cost. (See Sections <a href="#ST2" class="xref">6.1</a>, <a href="#IntServ" class="xref">6.2</a>, <a href="#TRIGTRAN" class="xref">6.5</a>, and <a href="#ecn" class="xref">6.9</a>.)<a href="#section-4.5-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.5-1">"Follow the money." If operators can't charge for a Path Aware technique to recover the costs of deploying it, the benefits to the operator must be really significant. Corollary: if operators charge for a Path Aware technique, the benefits to users of that Path Aware technique must be significant enough to justify the cost. (See Sections <a href="#ST2" class="auto internal xref">6.1</a>, <a href="#IntServ" class="auto internal xref">6.2</a>, <a href="#TRIGTRAN" class="auto internal xref">6.5</a>, and <a href="#ecn" class="auto internal xref">6.9</a>.)<a href="#section-4.5-1" class="pilcrow">¶</a></p>
1783c1808
< <p id="section-4.6-1">The impact of a Path Aware technique requiring changes to operational practices can affect how quickly or widely a promising technique is deployed. The impacts of these changes may make deployment more likely, but they often discourage deployment. (See <a href="#Shim6" class="xref">Section 6.6</a>, including <a href="#Addendum-MP-TCP" class="xref">Section 6.6.3</a>.)<a href="#section-4.6-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.6-1">The impact of a Path Aware technique requiring changes to operational practices can affect how quickly or widely a promising technique is deployed. The impacts of these changes may make deployment more likely, but they often discourage deployment. (See <a href="#Shim6" class="auto internal xref">Section 6.6</a>, including <a href="#Addendum-MP-TCP" class="auto internal xref">Section 6.6.3</a>.)<a href="#section-4.6-1" class="pilcrow">¶</a></p>
1791c1816
< <p id="section-4.7-1">Per-connection state in intermediate nodes has been an impediment to adoption and deployment in the past, because of added cost and complexity. Often, similar benefits can be achieved with much less finely grained state. This is especially true as we move from the edge of the network, further into the routing core. (See Sections <a href="#ST2" class="xref">6.1</a> and <a href="#IntServ" class="xref">6.2</a>.)<a href="#section-4.7-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.7-1">Per-connection state in intermediate nodes has been an impediment to adoption and deployment in the past, because of added cost and complexity. Often, similar benefits can be achieved with much less finely grained state. This is especially true as we move from the edge of the network, further into the routing core. (See Sections <a href="#ST2" class="auto internal xref">6.1</a> and <a href="#IntServ" class="auto internal xref">6.2</a>.)<a href="#section-4.7-1" class="pilcrow">¶</a></p>
1799c1824
< <p id="section-4.8-1">Many modern platforms, especially high-end routers, have been designed with hardware that can make simple per-packet forwarding decisions ("fast paths") but have not been designed to make heavy use of in-band mechanisms such as IPv4 and IPv6 Router Alert Options (RAOs) that require more processing to make forwarding decisions. Packets carrying in-band mechanisms are diverted to other processors in the router with much lower packet-processing rates. Operators can be reluctant to deploy techniques that rely heavily on in-band mechanisms because they may significantly reduce packet throughput. (See <a href="#NSIS" class="xref">Section 6.7</a>.)<a href="#section-4.8-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.8-1">Many modern platforms, especially high-end routers, have been designed with hardware that can make simple per-packet forwarding decisions ("fast paths") but have not been designed to make heavy use of in-band mechanisms such as IPv4 and IPv6 Router Alert Options (RAOs) that require more processing to make forwarding decisions. Packets carrying in-band mechanisms are diverted to other processors in the router with much lower packet-processing rates. Operators can be reluctant to deploy techniques that rely heavily on in-band mechanisms because they may significantly reduce packet throughput. (See <a href="#NSIS" class="auto internal xref">Section 6.7</a>.)<a href="#section-4.8-1" class="pilcrow">¶</a></p>
1807c1832
< <p id="section-4.9-1">If intermediate nodes along the path can't be trusted, it's unlikely that endpoints will rely on signals from intermediate nodes to drive changes to endpoint behaviors. We note that "trust" is not binary -- one low level of trust applies when a node receiving a message can confirm that the sender of the message has visibility of the packets on the path it is seeking to control <span>[<a href="#RFC8085" class="xref">RFC8085</a>]</span> (e.g., an ICMP Destination Unreachable message <span>[<a href="#RFC0792" class="xref">RFC0792</a>]</span> that includes the Internet Header + 64 bits of Original Data Datagram payload from the source). A higher level of trust can arise when an endpoint has established a short-term, or even long-term, trust relationship with network nodes. (See Sections <a href="#Source-Quench" class="xref">6.4</a> and <a href="#TRIGTRAN" class="xref">6.5</a>.)<a href="#section-4.9-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.9-1">If intermediate nodes along the path can't be trusted, it's unlikely that endpoints will rely on signals from intermediate nodes to drive changes to endpoint behaviors. We note that "trust" is not binary -- one low level of trust applies when a node receiving a message can confirm that the sender of the message has visibility of the packets on the path it is seeking to control <span>[<a href="#RFC8085" class="cite xref">RFC8085</a>]</span> (e.g., an ICMP Destination Unreachable message <span>[<a href="#RFC0792" class="cite xref">RFC0792</a>]</span> that includes the Internet Header + 64 bits of Original Data Datagram payload from the source). A higher level of trust can arise when an endpoint has established a short-term, or even long-term, trust relationship with network nodes. (See Sections <a href="#Source-Quench" class="auto internal xref">6.4</a> and <a href="#TRIGTRAN" class="auto internal xref">6.5</a>.)<a href="#section-4.9-1" class="pilcrow">¶</a></p>
1815c1840
< <p id="section-4.10-1">If the endpoints do not have any trust relationship with the intermediate nodes along a path, operators have been reluctant to deploy techniques that rely on endpoints sending unauthenticated control signals to routers. (See Sections <a href="#IntServ" class="xref">6.2</a> and <a href="#NSIS" class="xref">6.7</a>.) (We also note that this still remains a factor hindering deployment of Diffserv.)<a href="#section-4.10-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.10-1">If the endpoints do not have any trust relationship with the intermediate nodes along a path, operators have been reluctant to deploy techniques that rely on endpoints sending unauthenticated control signals to routers. (See Sections <a href="#IntServ" class="auto internal xref">6.2</a> and <a href="#NSIS" class="auto internal xref">6.7</a>.) (We also note that this still remains a factor hindering deployment of Diffserv.)<a href="#section-4.10-1" class="pilcrow">¶</a></p>
1823c1848
< <p id="section-4.11-1">Because the Internet is a distributed system, if the distance that information from distant path elements travels to a Path Aware host is sufficiently large, the information may no longer accurately represent the state and situation at the distant host or elements along the path when it is received locally. In this case, the benefit that a Path Aware technique provides will be inconsistent and may not always be beneficial. (See <a href="#Quick-Start" class="xref">Section 6.3</a>.)<a href="#section-4.11-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.11-1">Because the Internet is a distributed system, if the distance that information from distant path elements travels to a Path Aware host is sufficiently large, the information may no longer accurately represent the state and situation at the distant host or elements along the path when it is received locally. In this case, the benefit that a Path Aware technique provides will be inconsistent and may not always be beneficial. (See <a href="#Quick-Start" class="auto internal xref">Section 6.3</a>.)<a href="#section-4.11-1" class="pilcrow">¶</a></p>
1831c1856
< <p id="section-4.12-1">Just because a protocol stack provides a new feature/signal does not mean that applications will use the feature/signal. Protocol stacks may not know how to effectively utilize Path Aware techniques, because the protocol stack may require information from applications to permit the technique to work effectively, but applications may not a priori know that information. Even if the application does know that information, the de facto sockets API has no way of signaling application expectations for the network path to the protocol stack. In order for applications to provide these expectations to protocol stacks, we need an API that signals more than the packets to be sent. (See Sections <a href="#ST2" class="xref">6.1</a> and <a href="#IntServ" class="xref">6.2</a>.)<a href="#section-4.12-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.12-1">Just because a protocol stack provides a new feature/signal does not mean that applications will use the feature/signal. Protocol stacks may not know how to effectively utilize Path Aware techniques, because the protocol stack may require information from applications to permit the technique to work effectively, but applications may not a priori know that information. Even if the application does know that information, the de facto sockets API has no way of signaling application expectations for the network path to the protocol stack. In order for applications to provide these expectations to protocol stacks, we need an API that signals more than the packets to be sent. (See Sections <a href="#ST2" class="auto internal xref">6.1</a> and <a href="#IntServ" class="auto internal xref">6.2</a>.)<a href="#section-4.12-1" class="pilcrow">¶</a></p>
1839c1864
< <p id="section-4.13-1">If early implementers discover severe problems with a new feature, that feature is likely to be disabled, and convincing implementers to re-enable that feature can be very difficult and can require years or decades. In addition to testing, partial deployment for a subset of users, implementing instrumentation that will detect degraded user experience, and even "failback" to a previous version or "failover" to an entirely different implementation are likely to be helpful. (See <a href="#ecn" class="xref">Section 6.9</a>.)<a href="#section-4.13-1" class="pilcrow">¶</a></p>
---
> <p id="section-4.13-1">If early implementers discover severe problems with a new feature, that feature is likely to be disabled, and convincing implementers to re-enable that feature can be very difficult and can require years or decades. In addition to testing, partial deployment for a subset of users, implementing instrumentation that will detect degraded user experience, and even "failback" to a previous version or "failover" to an entirely different implementation are likely to be helpful. (See <a href="#ecn" class="auto internal xref">Section 6.9</a>.)<a href="#section-4.13-1" class="pilcrow">¶</a></p>
1851c1876
< <li class="normal" id="section-5-2.1">We note that this work was based on contributions from experts on various Path Aware techniques, and all of the contributed techniques involved unicast protocols. We didn't consider how these lessons might apply to multicast, and, given anecdotal reports at the IETF 109 Media Operations (MOPS) Working Group meeting of IP multicast offerings within data centers at one or more cloud providers <span>[<a href="#MOPS-109-Min" class="xref">MOPS-109-Min</a>]</span>, it might be useful to think about Path Awareness in multicast, before we have a history of unsuccessful deployments to document.<a href="#section-5-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-5-2.1">We note that this work was based on contributions from experts on various Path Aware techniques, and all of the contributed techniques involved unicast protocols. We didn't consider how these lessons might apply to multicast, and, given anecdotal reports at the IETF 109 Media Operations (MOPS) Working Group meeting of IP multicast offerings within data centers at one or more cloud providers <span>[<a href="#MOPS-109-Min" class="cite xref">MOPS-109-Min</a>]</span>, it might be useful to think about Path Awareness in multicast, before we have a history of unsuccessful deployments to document.<a href="#section-5-2.1" class="pilcrow">¶</a>
1854c1879
<           <p id="section-5-2.2.1">The question of whether a mechanism supports admission control, based on either endpoints or applications, is associated with Path Awareness. One of the motivations of IntServ and a number of other architectures (e.g., Deterministic Networking <span>[<a href="#RFC8655" class="xref">RFC8655</a>]</span>) is the ability to "say no" to an application based on resource availability on a path, before the application tries to inject traffic onto that path and discovers the path does not have the capacity to sustain enough utility to meet the application's minimum needs. The question of whether admission control is needed comes up repeatedly, but we have learned a few useful lessons that, while covered implicitly in some of the Lessons Learned provided in this document, might be explained explicitly:<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
---
>           <p id="section-5-2.2.1">The question of whether a mechanism supports admission control, based on either endpoints or applications, is associated with Path Awareness. One of the motivations of IntServ and a number of other architectures (e.g., Deterministic Networking <span>[<a href="#RFC8655" class="cite xref">RFC8655</a>]</span>) is the ability to "say no" to an application based on resource availability on a path, before the application tries to inject traffic onto that path and discovers the path does not have the capacity to sustain enough utility to meet the application's minimum needs. The question of whether admission control is needed comes up repeatedly, but we have learned a few useful lessons that, while covered implicitly in some of the Lessons Learned provided in this document, might be explained explicitly:<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
1858c1883
<             <li class="normal" id="section-5-2.2.2.2">There are end-to-end measurement techniques that can steer traffic at the application layer (Content Delivery Networks (CDNs), multi-CDNs like Conviva <span>[<a href="#Conviva" class="xref">Conviva</a>]</span>, etc.).<a href="#section-5-2.2.2.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5-2.2.2.2">There are end-to-end measurement techniques that can steer traffic at the application layer (Content Delivery Networks (CDNs), multi-CDNs like Conviva <span>[<a href="#Conviva" class="cite xref">Conviva</a>]</span>, etc.).<a href="#section-5-2.2.2.2" class="pilcrow">¶</a>
1860c1885
<             <li class="normal" id="section-5-2.2.2.3">We noted in <a href="#ProtocolStackSupport" class="xref">Section 4.12</a> that applications often don't know how to utilize Path Aware techniques. This includes not knowing enough about their admission control threshold to be able to ask accurately for the resources they need, whether this is because the application itself doesn't know or because the application has no way to signal its expectations to the underlying protocol stack. To date, attempts to help them haven't gotten anywhere (e.g., the multiple-TSPEC (Traffic Specification) additions to RSVP to attempt to mirror codec selection by applications <span>[<a href="#I-D.ietf-tsvwg-intserv-multiple-tspec" class="xref">INTSERV-MULTIPLE-TSPEC</a>]</span> expired in 2013).<a href="#section-5-2.2.2.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5-2.2.2.3">We noted in <a href="#ProtocolStackSupport" class="auto internal xref">Section 4.12</a> that applications often don't know how to utilize Path Aware techniques. This includes not knowing enough about their admission control threshold to be able to ask accurately for the resources they need, whether this is because the application itself doesn't know or because the application has no way to signal its expectations to the underlying protocol stack. To date, attempts to help them haven't gotten anywhere (e.g., the multiple-TSPEC (Traffic Specification) additions to RSVP to attempt to mirror codec selection by applications <span>[<a href="#I-D.ietf-tsvwg-intserv-multiple-tspec" class="cite xref">INTSERV-MULTIPLE-TSPEC</a>]</span> expired in 2013).<a href="#section-5-2.2.2.3" class="pilcrow">¶</a>
1864c1889
<         <li class="normal" id="section-5-2.3">We note that this work took the then-current IP network architecture as given, at least at the time each technique was proposed. It might be useful to consider aspects of the now-current IP network architecture that ease, or impede, Path Aware techniques. For example, there is limited ability in IP to constrain bidirectional paths to be symmetric, and information-centric networking protocols such as Named Data Networking (NDN) and Content-Centric Networking (CCNx) <span>[<a href="#RFC8793" class="xref">RFC8793</a>]</span> must force bidirectional path symmetry using protocol-specific mechanisms.<a href="#section-5-2.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-5-2.3">We note that this work took the then-current IP network architecture as given, at least at the time each technique was proposed. It might be useful to consider aspects of the now-current IP network architecture that ease, or impede, Path Aware techniques. For example, there is limited ability in IP to constrain bidirectional paths to be symmetric, and information-centric networking protocols such as Named Data Networking (NDN) and Content-Centric Networking (CCNx) <span>[<a href="#RFC8793" class="cite xref">RFC8793</a>]</span> must force bidirectional path symmetry using protocol-specific mechanisms.<a href="#section-5-2.3" class="pilcrow">¶</a>
1874c1899
< <p id="section-6-1">Contributions on these Path Aware techniques were analyzed to arrive at the Lessons Learned captured in <a href="#LessonsLearned" class="xref">Section 4</a>.<a href="#section-6-1" class="pilcrow">¶</a></p>
---
> <p id="section-6-1">Contributions on these Path Aware techniques were analyzed to arrive at the Lessons Learned captured in <a href="#LessonsLearned" class="auto internal xref">Section 4</a>.<a href="#section-6-1" class="pilcrow">¶</a></p>
1883c1908
< <li class="normal" id="section-6.1-2.1">"<a href="#IEN-119" class="xref">ST - A Proposed Internet Stream Protocol</a>" <span>[<a href="#IEN-119" class="xref">IEN-119</a>]</span><a href="#section-6.1-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.1-2.1">"<a href="#IEN-119" class="internal xref">ST - A Proposed Internet Stream Protocol</a>" <span>[<a href="#IEN-119" class="cite xref">IEN-119</a>]</span><a href="#section-6.1-2.1" class="pilcrow">¶</a>
1885c1910
<           <li class="normal" id="section-6.1-2.2">"<a href="#RFC1190" class="xref">Experimental Internet Stream Protocol: Version 2 (ST-II)</a>" <span>[<a href="#RFC1190" class="xref">RFC1190</a>]</span><a href="#section-6.1-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.1-2.2">"<a href="#RFC1190" class="internal xref">Experimental Internet Stream Protocol: Version 2 (ST-II)</a>" <span>[<a href="#RFC1190" class="cite xref">RFC1190</a>]</span><a href="#section-6.1-2.2" class="pilcrow">¶</a>
1887c1912
<           <li class="normal" id="section-6.1-2.3">"<a href="#RFC1819" class="xref">Internet Stream Protocol Version 2 (ST2) Protocol Specification - Version ST2+</a>" <span>[<a href="#RFC1819" class="xref">RFC1819</a>]</span><a href="#section-6.1-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.1-2.3">"<a href="#RFC1819" class="internal xref">Internet Stream Protocol Version 2 (ST2) Protocol Specification - Version ST2+</a>" <span>[<a href="#RFC1819" class="cite xref">RFC1819</a>]</span><a href="#section-6.1-2.3" class="pilcrow">¶</a>
1890,1891c1915,1916
< <p id="section-6.1-3">The first version of Stream Transport, ST <span>[<a href="#IEN-119" class="xref">IEN-119</a>]</span>, was published in the late 1970s and was implemented and deployed on the ARPANET at small scale. It was used throughout the 1980s for experimental transmission of voice, video, and distributed simulation.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
< <p id="section-6.1-4">The second version of the ST specification (ST2) <span>[<a href="#RFC1190" class="xref">RFC1190</a>]</span> <span>[<a href="#RFC1819" class="xref">RFC1819</a>]</span> was an experimental connection-oriented internetworking protocol that operated at the same layer as connectionless IP. ST2 packets could be distinguished by their IP header version numbers (IP, at that time, used version number 4, while ST2 used version number 5).<a href="#section-6.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.1-3">The first version of Stream Transport, ST <span>[<a href="#IEN-119" class="cite xref">IEN-119</a>]</span>, was published in the late 1970s and was implemented and deployed on the ARPANET at small scale. It was used throughout the 1980s for experimental transmission of voice, video, and distributed simulation.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
> <p id="section-6.1-4">The second version of the ST specification (ST2) <span>[<a href="#RFC1190" class="cite xref">RFC1190</a>]</span> <span>[<a href="#RFC1819" class="cite xref">RFC1819</a>]</span> was an experimental connection-oriented internetworking protocol that operated at the same layer as connectionless IP. ST2 packets could be distinguished by their IP header version numbers (IP, at that time, used version number 4, while ST2 used version number 5).<a href="#section-6.1-4" class="pilcrow">¶</a></p>
1908c1933
< <p id="section-6.1.2-2">The ST2 control protocol used "hard state" -- once a route was established, and resources were reserved, routes and resources existed until they were explicitly released via signaling. A soft-state approach was thought superior to this hard-state approach and led to development of the IntServ model described in <a href="#IntServ" class="xref">Section 6.2</a>.<a href="#section-6.1.2-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.1.2-2">The ST2 control protocol used "hard state" -- once a route was established, and resources were reserved, routes and resources existed until they were explicitly released via signaling. A soft-state approach was thought superior to this hard-state approach and led to development of the IntServ model described in <a href="#IntServ" class="auto internal xref">Section 6.2</a>.<a href="#section-6.1.2-2" class="pilcrow">¶</a></p>
1920c1945
< <li class="normal" id="section-6.2-2.1">"<a href="#RFC1633" class="xref">Integrated Services in the Internet Architecture: an Overview</a>" <span>[<a href="#RFC1633" class="xref">RFC1633</a>]</span><a href="#section-6.2-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.2-2.1">"<a href="#RFC1633" class="internal xref">Integrated Services in the Internet Architecture: an Overview</a>" <span>[<a href="#RFC1633" class="cite xref">RFC1633</a>]</span><a href="#section-6.2-2.1" class="pilcrow">¶</a>
1922c1947
<           <li class="normal" id="section-6.2-2.2">"<a href="#RFC2211" class="xref">Specification of the Controlled-Load Network Element Service</a>" <span>[<a href="#RFC2211" class="xref">RFC2211</a>]</span><a href="#section-6.2-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.2-2.2">"<a href="#RFC2211" class="internal xref">Specification of the Controlled-Load Network Element Service</a>" <span>[<a href="#RFC2211" class="cite xref">RFC2211</a>]</span><a href="#section-6.2-2.2" class="pilcrow">¶</a>
1924c1949
<           <li class="normal" id="section-6.2-2.3">"<a href="#RFC2212" class="xref">Specification of Guaranteed Quality of Service</a>" <span>[<a href="#RFC2212" class="xref">RFC2212</a>]</span><a href="#section-6.2-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.2-2.3">"<a href="#RFC2212" class="internal xref">Specification of Guaranteed Quality of Service</a>" <span>[<a href="#RFC2212" class="cite xref">RFC2212</a>]</span><a href="#section-6.2-2.3" class="pilcrow">¶</a>
1926c1951
<           <li class="normal" id="section-6.2-2.4">"<a href="#RFC2215" class="xref">General Characterization Parameters for Integrated Service Network Elements</a>" <span>[<a href="#RFC2215" class="xref">RFC2215</a>]</span><a href="#section-6.2-2.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.2-2.4">"<a href="#RFC2215" class="internal xref">General Characterization Parameters for Integrated Service Network Elements</a>" <span>[<a href="#RFC2215" class="cite xref">RFC2215</a>]</span><a href="#section-6.2-2.4" class="pilcrow">¶</a>
1928c1953
<           <li class="normal" id="section-6.2-2.5">"<a href="#RFC2205" class="xref">Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification</a>" <span>[<a href="#RFC2205" class="xref">RFC2205</a>]</span><a href="#section-6.2-2.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.2-2.5">"<a href="#RFC2205" class="internal xref">Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification</a>" <span>[<a href="#RFC2205" class="cite xref">RFC2205</a>]</span><a href="#section-6.2-2.5" class="pilcrow">¶</a>
1931,1933c1956,1958
< <p id="section-6.2-3">In 1994, when the IntServ architecture document <span>[<a href="#RFC1633" class="xref">RFC1633</a>]</span> was published, real-time traffic was first appearing on the Internet. At that time, bandwidth was still a scarce commodity. Internet Service Providers built networks over DS3 (45 Mbps) infrastructure, and sub-rate (&lt; 1 Mbps) access was common. Therefore, the IETF anticipated a need for a fine-grained QoS mechanism.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
< <p id="section-6.2-4">In the IntServ architecture, some applications can require service guarantees. Therefore, those applications use RSVP <span>[<a href="#RFC2205" class="xref">RFC2205</a>]</span> to signal QoS reservations across network paths.  Every router in the network that participates in IntServ maintains per-flow soft state to a) perform call admission control and b) deliver guaranteed service.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
< <p id="section-6.2-5">Applications use Flow Specifications (Flow Specs, or FLOWSPECs) <span>[<a href="#RFC2210" class="xref">RFC2210</a>]</span> to describe the traffic that they emit. RSVP reserves capacity for traffic on a per-Flow-Spec basis.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.2-3">In 1994, when the IntServ architecture document <span>[<a href="#RFC1633" class="cite xref">RFC1633</a>]</span> was published, real-time traffic was first appearing on the Internet. At that time, bandwidth was still a scarce commodity. Internet Service Providers built networks over DS3 (45 Mbps) infrastructure, and sub-rate (&lt; 1 Mbps) access was common. Therefore, the IETF anticipated a need for a fine-grained QoS mechanism.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
> <p id="section-6.2-4">In the IntServ architecture, some applications can require service guarantees. Therefore, those applications use RSVP <span>[<a href="#RFC2205" class="cite xref">RFC2205</a>]</span> to signal QoS reservations across network paths.  Every router in the network that participates in IntServ maintains per-flow soft state to a) perform call admission control and b) deliver guaranteed service.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
> <p id="section-6.2-5">Applications use Flow Specifications (Flow Specs, or FLOWSPECs) <span>[<a href="#RFC2210" class="cite xref">RFC2210</a>]</span> to describe the traffic that they emit. RSVP reserves capacity for traffic on a per-Flow-Spec basis.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
1950c1975
<             <li class="normal" id="section-6.2.1-4.2">Diffserv <span>[<a href="#RFC2475" class="xref">RFC2475</a>]</span> offered a more cost-effective, albeit less fine-grained, solution to the QoS problem.<a href="#section-6.2.1-4.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.2.1-4.2">Diffserv <span>[<a href="#RFC2475" class="cite xref">RFC2475</a>]</span> offered a more cost-effective, albeit less fine-grained, solution to the QoS problem.<a href="#section-6.2.1-4.2" class="pilcrow">¶</a>
1973c1998
< <p id="section-6.2.2-4">IntServ was never widely deployed to manage capacity across the Internet. However, the technique that it produced was deployed for reasons other than bandwidth management. RSVP is widely deployed as an MPLS signaling mechanism. BGP reuses the RSVP concept of Filter Specs to distribute firewall filters, although they are called "Flow Spec Component Types" in BGP <span>[<a href="#RFC5575" class="xref">RFC5575</a>]</span>.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.2.2-4">IntServ was never widely deployed to manage capacity across the Internet. However, the technique that it produced was deployed for reasons other than bandwidth management. RSVP is widely deployed as an MPLS signaling mechanism. BGP reuses the RSVP concept of Filter Specs to distribute firewall filters, although they are called "Flow Spec Component Types" in BGP <span>[<a href="#RFC5575" class="cite xref">RFC5575</a>]</span>.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
1985c2010
< <li class="normal" id="section-6.3-2.1">"<a href="#RFC4782" class="xref">Quick-Start for TCP and IP</a>" <span>[<a href="#RFC4782" class="xref">RFC4782</a>]</span><a href="#section-6.3-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.3-2.1">"<a href="#RFC4782" class="internal xref">Quick-Start for TCP and IP</a>" <span>[<a href="#RFC4782" class="cite xref">RFC4782</a>]</span><a href="#section-6.3-2.1" class="pilcrow">¶</a>
1987c2012
<           <li class="normal" id="section-6.3-2.2">"Determining an appropriate sending rate over an underutilized network path" <span>[<a href="#SAF07" class="xref">SAF07</a>]</span><a href="#section-6.3-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.3-2.2">"Determining an appropriate sending rate over an underutilized network path" <span>[<a href="#SAF07" class="cite xref">SAF07</a>]</span><a href="#section-6.3-2.2" class="pilcrow">¶</a>
1989c2014
<           <li class="normal" id="section-6.3-2.3">"Fast Startup Internet Congestion Control for Broadband Interactive Applications" <span>[<a href="#Sch11" class="xref">Sch11</a>]</span><a href="#section-6.3-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.3-2.3">"Fast Startup Internet Congestion Control for Broadband Interactive Applications" <span>[<a href="#Sch11" class="cite xref">Sch11</a>]</span><a href="#section-6.3-2.3" class="pilcrow">¶</a>
1991c2016
<           <li class="normal" id="section-6.3-2.4">"Using Quick-Start to enhance TCP-friendly rate control performance in bidirectional satellite networks" <span>[<a href="#QS-SAT" class="xref">QS-SAT</a>]</span><a href="#section-6.3-2.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.3-2.4">"Using Quick-Start to enhance TCP-friendly rate control performance in bidirectional satellite networks" <span>[<a href="#QS-SAT" class="cite xref">QS-SAT</a>]</span><a href="#section-6.3-2.4" class="pilcrow">¶</a>
1994c2019
< <p id="section-6.3-3">Quick-Start is defined in an Experimental RFC <span>[<a href="#RFC4782" class="xref">RFC4782</a>]</span> and is a TCP extension that leverages support from the routers on the path to determine an allowed initial sending rate for a path through the Internet, either at the start of data transfers or after idle periods. Without information about the path, a sender cannot easily determine an appropriate initial sending rate. The default TCP congestion control therefore uses the safe but time-consuming slow-start algorithm <span>[<a href="#RFC5681" class="xref">RFC5681</a>]</span>. With Quick-Start, connections are allowed to use higher initial sending rates if there is significant unused bandwidth along the path and if the sender and all of the routers along the path approve the request.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.3-3">Quick-Start is defined in an Experimental RFC <span>[<a href="#RFC4782" class="cite xref">RFC4782</a>]</span> and is a TCP extension that leverages support from the routers on the path to determine an allowed initial sending rate for a path through the Internet, either at the start of data transfers or after idle periods. Without information about the path, a sender cannot easily determine an appropriate initial sending rate. The default TCP congestion control therefore uses the safe but time-consuming slow-start algorithm <span>[<a href="#RFC5681" class="cite xref">RFC5681</a>]</span>. With Quick-Start, connections are allowed to use higher initial sending rates if there is significant unused bandwidth along the path and if the sender and all of the routers along the path approve the request.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
1996,1997c2021,2022
< <p id="section-6.3-5">The protocol also includes a nonce that provides protection against cheating routers and receivers. If the Quick-Start request is explicitly approved by all routers along the path, the TCP host can send at up to the approved rate; otherwise, TCP would use the default congestion control. Quick-Start requires modifications in the involved end systems as well as in routers. Due to the resulting deployment challenges, Quick-Start was only proposed in <span>[<a href="#RFC4782" class="xref">RFC4782</a>]</span> for controlled environments.<a href="#section-6.3-5" class="pilcrow">¶</a></p>
< <p id="section-6.3-6">The Quick-Start mechanism is a lightweight, coarse-grained, in-band, network-assisted fast startup mechanism. The benefits are studied by simulation in a research paper <span>[<a href="#SAF07" class="xref">SAF07</a>]</span> that complements the protocol specification. The study confirms that Quick-Start can significantly speed up mid-sized data transfers. That paper also presents router algorithms that do not require keeping per-flow state. Later studies <span>[<a href="#Sch11" class="xref">Sch11</a>]</span> comprehensively analyze Quick-Start with a full Linux implementation and with a router fast-path prototype using a network processor. In both cases, Quick-Start could be implemented with limited additional complexity.<a href="#section-6.3-6" class="pilcrow">¶</a></p>
---
> <p id="section-6.3-5">The protocol also includes a nonce that provides protection against cheating routers and receivers. If the Quick-Start request is explicitly approved by all routers along the path, the TCP host can send at up to the approved rate; otherwise, TCP would use the default congestion control. Quick-Start requires modifications in the involved end systems as well as in routers. Due to the resulting deployment challenges, Quick-Start was only proposed in <span>[<a href="#RFC4782" class="cite xref">RFC4782</a>]</span> for controlled environments.<a href="#section-6.3-5" class="pilcrow">¶</a></p>
> <p id="section-6.3-6">The Quick-Start mechanism is a lightweight, coarse-grained, in-band, network-assisted fast startup mechanism. The benefits are studied by simulation in a research paper <span>[<a href="#SAF07" class="cite xref">SAF07</a>]</span> that complements the protocol specification. The study confirms that Quick-Start can significantly speed up mid-sized data transfers. That paper also presents router algorithms that do not require keeping per-flow state. Later studies <span>[<a href="#Sch11" class="cite xref">Sch11</a>]</span> comprehensively analyze Quick-Start with a full Linux implementation and with a router fast-path prototype using a network processor. In both cases, Quick-Start could be implemented with limited additional complexity.<a href="#section-6.3-6" class="pilcrow">¶</a></p>
2003c2028
< <p id="section-6.3.1-1">However, experiments with Quick-Start in <span>[<a href="#Sch11" class="xref">Sch11</a>]</span> revealed several challenges:<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.3.1-1">However, experiments with Quick-Start in <span>[<a href="#Sch11" class="cite xref">Sch11</a>]</span> revealed several challenges:<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
2021c2046
< <p id="section-6.3.2-2">After publication of the Quick-Start specification, there have been large-scale experiments with an initial window of up to 10 segments <span>[<a href="#RFC6928" class="xref">RFC6928</a>]</span>. This alternative "IW10" approach can also ramp up data transfers faster than the standard congestion control, but it only requires sender-side modifications. As a result, this approach can be easier and incrementally deployed in the Internet. While theoretically Quick-Start can outperform "IW10", the improvement in completion time for data transfer times can, in many cases, be small. After publication of <span>[<a href="#RFC6928" class="xref">RFC6928</a>]</span>, most modern TCP stacks have increased their default initial window.<a href="#section-6.3.2-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.3.2-2">After publication of the Quick-Start specification, there have been large-scale experiments with an initial window of up to 10 segments <span>[<a href="#RFC6928" class="cite xref">RFC6928</a>]</span>. This alternative "IW10" approach can also ramp up data transfers faster than the standard congestion control, but it only requires sender-side modifications. As a result, this approach can be easier and incrementally deployed in the Internet. While theoretically Quick-Start can outperform "IW10", the improvement in completion time for data transfer times can, in many cases, be small. After publication of <span>[<a href="#RFC6928" class="cite xref">RFC6928</a>]</span>, most modern TCP stacks have increased their default initial window.<a href="#section-6.3.2-2" class="pilcrow">¶</a></p>
2033c2058
< <li class="normal" id="section-6.4-2.1">"<a href="#RFC0792" class="xref">Internet Control Message Protocol</a>" <span>[<a href="#RFC0792" class="xref">RFC0792</a>]</span><a href="#section-6.4-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.4-2.1">"<a href="#RFC0792" class="internal xref">Internet Control Message Protocol</a>" <span>[<a href="#RFC0792" class="cite xref">RFC0792</a>]</span><a href="#section-6.4-2.1" class="pilcrow">¶</a>
2036c2061
< <p id="section-6.4-3">The ICMP Source Quench message <span>[<a href="#RFC0792" class="xref">RFC0792</a>]</span> allowed an on-path router to request the source of a flow to reduce its sending rate. This method allowed a router to provide an early indication of impending congestion on a path to the sources that contribute to that congestion.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.4-3">The ICMP Source Quench message <span>[<a href="#RFC0792" class="cite xref">RFC0792</a>]</span> allowed an on-path router to request the source of a flow to reduce its sending rate. This method allowed a router to provide an early indication of impending congestion on a path to the sources that contribute to that congestion.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
2043,2044c2068,2069
< <p id="section-6.4.1-2">The approach was overtaken by the evolution of congestion control methods in TCP <span>[<a href="#RFC2001" class="xref">RFC2001</a>]</span>, and later also by other IETF transports. Because these methods were based upon measurement of the end-to-end path and an algorithm in the endpoint, they were able to evolve and mature more rapidly than methods relying on interactions between operational routers and endpoint stacks.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
< <p id="section-6.4.1-3">After ICMP Source Quench was specified, the IETF began to recommend that transports provide end-to-end congestion control <span>[<a href="#RFC2001" class="xref">RFC2001</a>]</span>. The Source Quench method has been obsoleted by the IETF <span>[<a href="#RFC6633" class="xref">RFC6633</a>]</span>, and both hosts and routers must now silently discard this message.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.4.1-2">The approach was overtaken by the evolution of congestion control methods in TCP <span>[<a href="#RFC2001" class="cite xref">RFC2001</a>]</span>, and later also by other IETF transports. Because these methods were based upon measurement of the end-to-end path and an algorithm in the endpoint, they were able to evolve and mature more rapidly than methods relying on interactions between operational routers and endpoint stacks.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
> <p id="section-6.4.1-3">After ICMP Source Quench was specified, the IETF began to recommend that transports provide end-to-end congestion control <span>[<a href="#RFC2001" class="cite xref">RFC2001</a>]</span>. The Source Quench method has been obsoleted by the IETF <span>[<a href="#RFC6633" class="cite xref">RFC6633</a>]</span>, and both hosts and routers must now silently discard this message.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
2053,2055c2078,2080
< <p id="section-6.4.2-2">First, <span>[<a href="#RFC0792" class="xref">RFC0792</a>]</span> did not sufficiently specify how the sender would react to the ICMP Source Quench signal from the path (e.g., <span>[<a href="#RFC1016" class="xref">RFC1016</a>]</span>). There was ambiguity in how the sender should utilize this additional information. This could lead to unfairness in the way that receivers (or routers) responded to this message.<a href="#section-6.4.2-2" class="pilcrow">¶</a></p>
< <p id="section-6.4.2-3">Second, while the message did provide additional information, the Explicit Congestion Notification (ECN) mechanism <span>[<a href="#RFC3168" class="xref">RFC3168</a>]</span> provided a more robust and informative signal for network nodes to provide early indication that a path has become congested.<a href="#section-6.4.2-3" class="pilcrow">¶</a></p>
< <p id="section-6.4.2-4">The mechanism originated at a time when the Internet trust model was very different. Most endpoint implementations did not attempt to verify that the message originated from an on-path node before they utilized the message. This made it vulnerable to Denial-of-Service (DoS) attacks.  In theory, routers might have chosen to use the quoted packet contained in the ICMP payload to validate that the message originated from an on-path node, but this would have increased per-packet processing overhead for each router along the path and would have required transport functionality in the router to verify whether the quoted packet header corresponded to a packet the router had sent. In addition, <span><a href="https://www.rfc-editor.org/rfc/rfc4443#section-5.2" class="relref">Section 5.2</a> of [<a href="#RFC4443" class="xref">RFC4443</a>]</span>
---
> <p id="section-6.4.2-2">First, <span>[<a href="#RFC0792" class="cite xref">RFC0792</a>]</span> did not sufficiently specify how the sender would react to the ICMP Source Quench signal from the path (e.g., <span>[<a href="#RFC1016" class="cite xref">RFC1016</a>]</span>). There was ambiguity in how the sender should utilize this additional information. This could lead to unfairness in the way that receivers (or routers) responded to this message.<a href="#section-6.4.2-2" class="pilcrow">¶</a></p>
> <p id="section-6.4.2-3">Second, while the message did provide additional information, the Explicit Congestion Notification (ECN) mechanism <span>[<a href="#RFC3168" class="cite xref">RFC3168</a>]</span> provided a more robust and informative signal for network nodes to provide early indication that a path has become congested.<a href="#section-6.4.2-3" class="pilcrow">¶</a></p>
> <p id="section-6.4.2-4">The mechanism originated at a time when the Internet trust model was very different. Most endpoint implementations did not attempt to verify that the message originated from an on-path node before they utilized the message. This made it vulnerable to Denial-of-Service (DoS) attacks.  In theory, routers might have chosen to use the quoted packet contained in the ICMP payload to validate that the message originated from an on-path node, but this would have increased per-packet processing overhead for each router along the path and would have required transport functionality in the router to verify whether the quoted packet header corresponded to a packet the router had sent. In addition, <span><a href="https://rfc-editor.org/rfc/rfc4443#section-5.2" class="relref">Section 5.2</a> of [<a href="#RFC4443" class="cite xref">RFC4443</a>]</span>
2068c2093
< <li class="normal" id="section-6.5-2.1">TRIGTRAN BOF at IETF 55 <span>[<a href="#TRIGTRAN-55" class="xref">TRIGTRAN-55</a>]</span><a href="#section-6.5-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.5-2.1">TRIGTRAN BOF at IETF 55 <span>[<a href="#TRIGTRAN-55" class="cite xref">TRIGTRAN-55</a>]</span><a href="#section-6.5-2.1" class="pilcrow">¶</a>
2070c2095
<           <li class="normal" id="section-6.5-2.2">TRIGTRAN BOF at IETF 56 <span>[<a href="#TRIGTRAN-56" class="xref">TRIGTRAN-56</a>]</span><a href="#section-6.5-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.5-2.2">TRIGTRAN BOF at IETF 56 <span>[<a href="#TRIGTRAN-56" class="cite xref">TRIGTRAN-56</a>]</span><a href="#section-6.5-2.2" class="pilcrow">¶</a>
2073c2098
< <p id="section-6.5-3">TCP <span>[<a href="#RFC0793" class="xref">RFC0793</a>]</span> has a well-known weakness -- the end-to-end flow control mechanism has only a single signal, the loss of a segment,
---
> <p id="section-6.5-3">TCP <span>[<a href="#RFC0793" class="cite xref">RFC0793</a>]</span> has a well-known weakness -- the end-to-end flow control mechanism has only a single signal, the loss of a segment,
2077c2102
< <span>[<a href="#RFC5681" class="xref">RFC5681</a>]</span>.<a href="#section-6.5-3" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC5681" class="cite xref">RFC5681</a>]</span>.<a href="#section-6.5-3" class="pilcrow">¶</a></p>
2085c2110
< "<a href="#RFC5082" class="xref">The Generalized TTL Security Mechanism (GTSM)</a>" <span>[<a href="#RFC5082" class="xref">RFC5082</a>]</span>). This situation is very similar to the case for ICMP Source Quench messages as described in <a href="#Source-Quench" class="xref">Section 6.4</a>, which were also unauthenticated and could be sent by an off-path attacker, resulting in deprecation of ICMP Source Quench message processing <span>[<a href="#RFC6633" class="xref">RFC6633</a>]</span>.<a href="#section-6.5.1-1" class="pilcrow">¶</a></p>
---
> "<a href="#RFC5082" class="internal xref">The Generalized TTL Security Mechanism (GTSM)</a>" <span>[<a href="#RFC5082" class="cite xref">RFC5082</a>]</span>). This situation is very similar to the case for ICMP Source Quench messages as described in <a href="#Source-Quench" class="auto internal xref">Section 6.4</a>, which were also unauthenticated and could be sent by an off-path attacker, resulting in deprecation of ICMP Source Quench message processing <span>[<a href="#RFC6633" class="cite xref">RFC6633</a>]</span>.<a href="#section-6.5.1-1" class="pilcrow">¶</a></p>
2091c2116
< <p id="section-6.5.1-7">Two TRIGTRAN BOFs were held, at IETF 55 <span>[<a href="#TRIGTRAN-55" class="xref">TRIGTRAN-55</a>]</span> and IETF 56 <span>[<a href="#TRIGTRAN-56" class="xref">TRIGTRAN-56</a>]</span>, but this work was not chartered, and there was no interest in deploying TRIGTRAN unless it was chartered and standardized in the IETF.<a href="#section-6.5.1-7" class="pilcrow">¶</a></p>
---
> <p id="section-6.5.1-7">Two TRIGTRAN BOFs were held, at IETF 55 <span>[<a href="#TRIGTRAN-55" class="cite xref">TRIGTRAN-55</a>]</span> and IETF 56 <span>[<a href="#TRIGTRAN-56" class="cite xref">TRIGTRAN-56</a>]</span>, but this work was not chartered, and there was no interest in deploying TRIGTRAN unless it was chartered and standardized in the IETF.<a href="#section-6.5.1-7" class="pilcrow">¶</a></p>
2120c2145
< <li class="normal" id="section-6.6-2.1">"<a href="#RFC5533" class="xref">Shim6: Level 3 Multihoming Shim Protocol for IPv6</a>" <span>[<a href="#RFC5533" class="xref">RFC5533</a>]</span><a href="#section-6.6-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.6-2.1">"<a href="#RFC5533" class="internal xref">Shim6: Level 3 Multihoming Shim Protocol for IPv6</a>" <span>[<a href="#RFC5533" class="cite xref">RFC5533</a>]</span><a href="#section-6.6-2.1" class="pilcrow">¶</a>
2123c2148
< <p id="section-6.6-3">The IPv6 routing architecture <span>[<a href="#RFC1887" class="xref">RFC1887</a>]</span> assumed that most sites on the Internet would be identified by Provider Assigned IPv6 prefixes, so that Default-Free Zone routers only contained routes to other providers, resulting in a very small IPv6 global routing table.<a href="#section-6.6-3" class="pilcrow">¶</a></p>
---
> <p id="section-6.6-3">The IPv6 routing architecture <span>[<a href="#RFC1887" class="cite xref">RFC1887</a>]</span> assumed that most sites on the Internet would be identified by Provider Assigned IPv6 prefixes, so that Default-Free Zone routers only contained routes to other providers, resulting in a very small IPv6 global routing table.<a href="#section-6.6-3" class="pilcrow">¶</a></p>
2127c2152
< <p id="section-6.6-7">Shim6, as defined in <span>[<a href="#RFC5533" class="xref">RFC5533</a>]</span> and related RFCs, provided a workable solution for IPv6 multihoming using Provider Assigned prefixes, including capability discovery and negotiation, and allowing end-to-end application communication to continue even in the face of path failure, because applications don't see Locator failures and continue to communicate with the same Identity using a different Locator.<a href="#section-6.6-7" class="pilcrow">¶</a></p>
---
> <p id="section-6.6-7">Shim6, as defined in <span>[<a href="#RFC5533" class="cite xref">RFC5533</a>]</span> and related RFCs, provided a workable solution for IPv6 multihoming using Provider Assigned prefixes, including capability discovery and negotiation, and allowing end-to-end application communication to continue even in the face of path failure, because applications don't see Locator failures and continue to communicate with the same Identity using a different Locator.<a href="#section-6.6-7" class="pilcrow">¶</a></p>
2134c2159
< <p id="section-6.6.1-2">Although more work could have been done to provide a better technical solution, the biggest impediments to Shim6 deployment were operational and business considerations. These impediments were discussed at multiple network operator group meetings, including <span>[<a href="#Shim6-35" class="xref">Shim6-35</a>]</span> at <span>[<a href="#NANOG-35" class="xref">NANOG-35</a>]</span>.<a href="#section-6.6.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.6.1-2">Although more work could have been done to provide a better technical solution, the biggest impediments to Shim6 deployment were operational and business considerations. These impediments were discussed at multiple network operator group meetings, including <span>[<a href="#Shim6-35" class="cite xref">Shim6-35</a>]</span> at <span>[<a href="#NANOG-35" class="cite xref">NANOG-35</a>]</span>.<a href="#section-6.6.1-2" class="pilcrow">¶</a></p>
2156c2181
< <p id="section-6.6.3-1">During discussions in the PANRG session at IETF 103 <span>[<a href="#PANRG-103-Min" class="xref">PANRG-103-Min</a>]</span>, Lars Eggert, past Transport Area Director, pointed out that during charter discussions for the Multipath TCP Working Group <span>[<a href="#MP-TCP" class="xref">MP-TCP</a>]</span>, operators expressed concerns that customers could use Multipath TCP to load-share TCP connections across operators simultaneously and compare passive performance measurements across network paths in real time, changing the balance of power in those business relationships. Although the Multipath TCP Working Group was chartered, this concern could have acted as an obstacle to deployment.<a href="#section-6.6.3-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.6.3-1">During discussions in the PANRG session at IETF 103 <span>[<a href="#PANRG-103-Min" class="cite xref">PANRG-103-Min</a>]</span>, Lars Eggert, past Transport Area Director, pointed out that during charter discussions for the Multipath TCP Working Group <span>[<a href="#MP-TCP" class="cite xref">MP-TCP</a>]</span>, operators expressed concerns that customers could use Multipath TCP to load-share TCP connections across operators simultaneously and compare passive performance measurements across network paths in real time, changing the balance of power in those business relationships. Although the Multipath TCP Working Group was chartered, this concern could have acted as an obstacle to deployment.<a href="#section-6.6.3-1" class="pilcrow">¶</a></p>
2169c2194
< <li class="normal" id="section-6.7-2.1">the concluded working group charter <span>[<a href="#NSIS-CHARTER-2001" class="xref">NSIS-CHARTER-2001</a>]</span><a href="#section-6.7-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.7-2.1">the concluded working group charter <span>[<a href="#NSIS-CHARTER-2001" class="cite xref">NSIS-CHARTER-2001</a>]</span><a href="#section-6.7-2.1" class="pilcrow">¶</a>
2171c2196
<           <li class="normal" id="section-6.7-2.2">"<a href="#RFC5971" class="xref">GIST: General Internet Signalling Transport</a>" <span>[<a href="#RFC5971" class="xref">RFC5971</a>]</span><a href="#section-6.7-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.7-2.2">"<a href="#RFC5971" class="internal xref">GIST: General Internet Signalling Transport</a>" <span>[<a href="#RFC5971" class="cite xref">RFC5971</a>]</span><a href="#section-6.7-2.2" class="pilcrow">¶</a>
2173c2198
<           <li class="normal" id="section-6.7-2.3">"<a href="#RFC5973" class="xref">NAT/Firewall NSIS Signaling Layer Protocol (NSLP)</a>" <span>[<a href="#RFC5973" class="xref">RFC5973</a>]</span><a href="#section-6.7-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.7-2.3">"<a href="#RFC5973" class="internal xref">NAT/Firewall NSIS Signaling Layer Protocol (NSLP)</a>" <span>[<a href="#RFC5973" class="cite xref">RFC5973</a>]</span><a href="#section-6.7-2.3" class="pilcrow">¶</a>
2175c2200
<           <li class="normal" id="section-6.7-2.4">"<a href="#RFC5974" class="xref">NSIS Signaling Layer Protocol (NSLP) for Quality-of-Service Signaling</a>" <span>[<a href="#RFC5974" class="xref">RFC5974</a>]</span><a href="#section-6.7-2.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.7-2.4">"<a href="#RFC5974" class="internal xref">NSIS Signaling Layer Protocol (NSLP) for Quality-of-Service Signaling</a>" <span>[<a href="#RFC5974" class="cite xref">RFC5974</a>]</span><a href="#section-6.7-2.4" class="pilcrow">¶</a>
2177c2202
<           <li class="normal" id="section-6.7-2.5">"<a href="#RFC5981" class="xref">Authorization for NSIS Signaling Layer Protocols</a>" <span>[<a href="#RFC5981" class="xref">RFC5981</a>]</span><a href="#section-6.7-2.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.7-2.5">"<a href="#RFC5981" class="internal xref">Authorization for NSIS Signaling Layer Protocols</a>" <span>[<a href="#RFC5981" class="cite xref">RFC5981</a>]</span><a href="#section-6.7-2.5" class="pilcrow">¶</a>
2181c2206
< <p id="section-6.7-4">When RSVP <span>[<a href="#RFC2205" class="xref">RFC2205</a>]</span> was used in deployments, a number of questions came up about its perceived limitations and potential missing features. The issues noted in the NSIS Working Group charter <span>[<a href="#NSIS-CHARTER-2001" class="xref">NSIS-CHARTER-2001</a>]</span> include interworking between domains with different QoS architectures, mobility and roaming for IP interfaces, and complexity. Later, the lack of security in RSVP was also recognized <span>[<a href="#RFC4094" class="xref">RFC4094</a>]</span>.<a href="#section-6.7-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.7-4">When RSVP <span>[<a href="#RFC2205" class="cite xref">RFC2205</a>]</span> was used in deployments, a number of questions came up about its perceived limitations and potential missing features. The issues noted in the NSIS Working Group charter <span>[<a href="#NSIS-CHARTER-2001" class="cite xref">NSIS-CHARTER-2001</a>]</span> include interworking between domains with different QoS architectures, mobility and roaming for IP interfaces, and complexity. Later, the lack of security in RSVP was also recognized <span>[<a href="#RFC4094" class="cite xref">RFC4094</a>]</span>.<a href="#section-6.7-4" class="pilcrow">¶</a></p>
2184c2209
< <p id="section-6.7-6">NTLP is defined in <span>[<a href="#RFC5971" class="xref">RFC5971</a>]</span>. Two types of NSLPs are defined: an NSLP for QoS signaling <span>[<a href="#RFC5974" class="xref">RFC5974</a>]</span> and an NSLP for NATs/firewalls <span>[<a href="#RFC5973" class="xref">RFC5973</a>]</span>.<a href="#section-6.7-6" class="pilcrow">¶</a></p>
---
> <p id="section-6.7-6">NTLP is defined in <span>[<a href="#RFC5971" class="cite xref">RFC5971</a>]</span>. Two types of NSLPs are defined: an NSLP for QoS signaling <span>[<a href="#RFC5974" class="cite xref">RFC5974</a>]</span> and an NSLP for NATs/firewalls <span>[<a href="#RFC5973" class="cite xref">RFC5973</a>]</span>.<a href="#section-6.7-6" class="pilcrow">¶</a></p>
2213c2238
<     <span>[<a href="#RFC6398" class="xref">RFC6398</a>]</span>). The latter was an issue with some router
---
>     <span>[<a href="#RFC6398" class="cite xref">RFC6398</a>]</span>). The latter was an issue with some router
2223c2248
<     Path-coupled signaling approaches were considered problematic (see also <span><a href="https://www.rfc-editor.org/rfc/rfc6398#section-3" class="relref">Section 3</a> of [<a href="#RFC6398" class="xref">RFC6398</a>]</span>). There are
---
>     Path-coupled signaling approaches were considered problematic (see also <span><a href="https://rfc-editor.org/rfc/rfc6398#section-3" class="relref">Section 3</a> of [<a href="#RFC6398" class="cite xref">RFC6398</a>]</span>). There are
2225c2250
<     deployments (e.g., <span>[<a href="#RFC5981" class="xref">RFC5981</a>]</span>).<a href="#section-6.7.1-2.1.4" class="pilcrow">¶</a></p>
---
>     deployments (e.g., <span>[<a href="#RFC5981" class="cite xref">RFC5981</a>]</span>).<a href="#section-6.7.1-2.1.4" class="pilcrow">¶</a></p>
2281c2306
< <li class="normal" id="section-6.8-2.1">"<a href="#RFC6437" class="xref">IPv6 Flow Label Specification</a>" <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span><a href="#section-6.8-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.8-2.1">"<a href="#RFC6437" class="internal xref">IPv6 Flow Label Specification</a>" <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span><a href="#section-6.8-2.1" class="pilcrow">¶</a>
2284,2285c2309,2310
< <p id="section-6.8-3">IPv6 specifies a 20-bit Flow Label field <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>, included in the fixed part of the IPv6 header and hence present in every IPv6 packet. An endpoint sets the value  in this field to one of a set of pseudorandomly assigned values. If a packet is not part of any flow, the flow label value is set to zero <span>[<a href="#RFC3697" class="xref">RFC3697</a>]</span>. A number of Standards Track and Best Current Practice RFCs (e.g., <span>[<a href="#RFC8085" class="xref">RFC8085</a>]</span>, <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>, <span>[<a href="#RFC6438" class="xref">RFC6438</a>]</span>) encourage IPv6 endpoints to set a non-zero value in this field. A multiplexing transport could choose to use multiple flow labels to allow the network to either independently forward its subflows or use one common value for the traffic aggregate. The flow label is present in all fragments. IPsec was originally put forward as one important use case for this mechanism and does encrypt the field <span>[<a href="#RFC6438" class="xref">RFC6438</a>]</span>.<a href="#section-6.8-3" class="pilcrow">¶</a></p>
< <p id="section-6.8-4">Once set, the flow label can provide information that can help inform network nodes about subflows present at the transport layer, without needing to interpret the setting of upper-layer protocol fields <span>[<a href="#RFC6294" class="xref">RFC6294</a>]</span>.  This information can also be used to coordinate how aggregates of transport subflows are grouped when queued in the network and to select appropriate per-flow forwarding when choosing between alternate paths <span>[<a href="#RFC6438" class="xref">RFC6438</a>]</span> (e.g., for Equal-Cost Multipath (ECMP) routing and Link Aggregation Groups (LAGs)).<a href="#section-6.8-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.8-3">IPv6 specifies a 20-bit Flow Label field <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span>, included in the fixed part of the IPv6 header and hence present in every IPv6 packet. An endpoint sets the value  in this field to one of a set of pseudorandomly assigned values. If a packet is not part of any flow, the flow label value is set to zero <span>[<a href="#RFC3697" class="cite xref">RFC3697</a>]</span>. A number of Standards Track and Best Current Practice RFCs (e.g., <span>[<a href="#RFC8085" class="cite xref">RFC8085</a>]</span>, <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span>, <span>[<a href="#RFC6438" class="cite xref">RFC6438</a>]</span>) encourage IPv6 endpoints to set a non-zero value in this field. A multiplexing transport could choose to use multiple flow labels to allow the network to either independently forward its subflows or use one common value for the traffic aggregate. The flow label is present in all fragments. IPsec was originally put forward as one important use case for this mechanism and does encrypt the field <span>[<a href="#RFC6438" class="cite xref">RFC6438</a>]</span>.<a href="#section-6.8-3" class="pilcrow">¶</a></p>
> <p id="section-6.8-4">Once set, the flow label can provide information that can help inform network nodes about subflows present at the transport layer, without needing to interpret the setting of upper-layer protocol fields <span>[<a href="#RFC6294" class="cite xref">RFC6294</a>]</span>.  This information can also be used to coordinate how aggregates of transport subflows are grouped when queued in the network and to select appropriate per-flow forwarding when choosing between alternate paths <span>[<a href="#RFC6438" class="cite xref">RFC6438</a>]</span> (e.g., for Equal-Cost Multipath (ECMP) routing and Link Aggregation Groups (LAGs)).<a href="#section-6.8-4" class="pilcrow">¶</a></p>
2295c2320
< <p id="section-6.8.1-2.1.2">For network nodes along a path to utilize the flow label, there needs to be a non-zero value inserted in the field <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span> at the sending endpoint. 
---
> <p id="section-6.8.1-2.1.2">For network nodes along a path to utilize the flow label, there needs to be a non-zero value inserted in the field <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span> at the sending endpoint. 
2298c2323
< <p id="section-6.8.1-2.1.3">Although the original flow label standard <span>[<a href="#RFC3697" class="xref">RFC3697</a>]</span> forbids any encoding of meaning into the flow label value, the opportunity to use the flow label as a covert channel or to signal other meta-information may have raised concerns about setting a non-zero value <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>.<a href="#section-6.8.1-2.1.3" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.1-2.1.3">Although the original flow label standard <span>[<a href="#RFC3697" class="cite xref">RFC3697</a>]</span> forbids any encoding of meaning into the flow label value, the opportunity to use the flow label as a covert channel or to signal other meta-information may have raised concerns about setting a non-zero value <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span>.<a href="#section-6.8.1-2.1.3" class="pilcrow">¶</a></p>
2317c2342
< <p id="section-6.8.2-2">Although <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span> recommended that endpoints should by default choose uniformly distributed labels for their traffic, the specification permitted an endpoint to choose to set a zero value. This ability of endpoints to choose to set a flow label of zero has had consequences on deployability:<a href="#section-6.8.2-2" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.2-2">Although <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span> recommended that endpoints should by default choose uniformly distributed labels for their traffic, the specification permitted an endpoint to choose to set a zero value. This ability of endpoints to choose to set a flow label of zero has had consequences on deployability:<a href="#section-6.8.2-2" class="pilcrow">¶</a></p>
2319c2344
< <li class="normal" id="section-6.8.2-3.1">Before wide-scale support by endpoints, it would be impossible to rely on a non-zero flow label being set. Network nodes therefore would need to also employ other techniques to realize equivalent functions. An example of a method is one assuming semantics of the source port field to provide entropy input to a network-layer hash. This use of a 5-tuple to classify a packet represents a layering violation <span>[<a href="#RFC6294" class="xref">RFC6294</a>]</span>. When other methods have been deployed, they increase the cost of deploying standards-based methods, even though they may offer less control to  endpoints and result in potential interaction with other uses/interpretation of the field.<a href="#section-6.8.2-3.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.8.2-3.1">Before wide-scale support by endpoints, it would be impossible to rely on a non-zero flow label being set. Network nodes therefore would need to also employ other techniques to realize equivalent functions. An example of a method is one assuming semantics of the source port field to provide entropy input to a network-layer hash. This use of a 5-tuple to classify a packet represents a layering violation <span>[<a href="#RFC6294" class="cite xref">RFC6294</a>]</span>. When other methods have been deployed, they increase the cost of deploying standards-based methods, even though they may offer less control to  endpoints and result in potential interaction with other uses/interpretation of the field.<a href="#section-6.8.2-3.1" class="pilcrow">¶</a>
2321c2346
<             <li class="normal" id="section-6.8.2-3.2">Even though the flow label is specified as an end-to-end field, some network paths have been observed to not transparently forward the flow label. This could result from non-conformant equipment or could indicate that some operational networks have chosen to reuse the protocol field for other (e.g., internal) purposes. This results in lack of transparency, and a deployment hurdle to endpoints expecting that they can set a flow label that is utilized by the network.  The more recent practice of "greasing" <span>[<a href="#I-D.iab-use-it-or-lose-it" class="xref">GREASE</a>]</span> would suggest that a different outcome could have been achieved if endpoints were always required to set a non-zero value.<a href="#section-6.8.2-3.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-6.8.2-3.2">Even though the flow label is specified as an end-to-end field, some network paths have been observed to not transparently forward the flow label. This could result from non-conformant equipment or could indicate that some operational networks have chosen to reuse the protocol field for other (e.g., internal) purposes. This results in lack of transparency, and a deployment hurdle to endpoints expecting that they can set a flow label that is utilized by the network.  The more recent practice of "greasing" <span>[<a href="#I-D.iab-use-it-or-lose-it" class="cite xref">GREASE</a>]</span> would suggest that a different outcome could have been achieved if endpoints were always required to set a non-zero value.<a href="#section-6.8.2-3.2" class="pilcrow">¶</a>
2324c2349
<               <span>[<a href="#RFC1809" class="xref">RFC1809</a>]</span> noted that setting the choice of the flow label value can depend on the expectations of the traffic generated by an application, which suggests that an API should be presented to control the setting or policy that is used. However, many currently available APIs do not have this support.<a href="#section-6.8.2-3.3" class="pilcrow">¶</a>
---
>               <span>[<a href="#RFC1809" class="cite xref">RFC1809</a>]</span> noted that setting the choice of the flow label value can depend on the expectations of the traffic generated by an application, which suggests that an API should be presented to control the setting or policy that is used. However, many currently available APIs do not have this support.<a href="#section-6.8.2-3.3" class="pilcrow">¶</a>
2327c2352
< <p id="section-6.8.2-4">A growth in the use of encrypted transports (e.g., QUIC <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>) seems likely to raise issues similar to those discussed above and could motivate renewed interest in utilizing the flow label.<a href="#section-6.8.2-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.8.2-4">A growth in the use of encrypted transports (e.g., QUIC <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>) seems likely to raise issues similar to those discussed above and could motivate renewed interest in utilizing the flow label.<a href="#section-6.8.2-4" class="pilcrow">¶</a></p>
2339c2364
< <li class="normal" id="section-6.9-2.1">"<a href="#RFC2309" class="xref">Recommendations on Queue Management and Congestion Avoidance in the Internet</a>" <span>[<a href="#RFC2309" class="xref">RFC2309</a>]</span><a href="#section-6.9-2.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-6.9-2.1">"<a href="#RFC2309" class="internal xref">Recommendations on Queue Management and Congestion Avoidance in the Internet</a>" <span>[<a href="#RFC2309" class="cite xref">RFC2309</a>]</span><a href="#section-6.9-2.1" class="pilcrow">¶</a>
2341c2366
<           <li class="normal" id="section-6.9-2.2">"<a href="#RFC2481" class="xref">A Proposal to add Explicit Congestion Notification (ECN) to IP</a>" <span>[<a href="#RFC2481" class="xref">RFC2481</a>]</span><a href="#section-6.9-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.9-2.2">"<a href="#RFC2481" class="internal xref">A Proposal to add Explicit Congestion Notification (ECN) to IP</a>" <span>[<a href="#RFC2481" class="cite xref">RFC2481</a>]</span><a href="#section-6.9-2.2" class="pilcrow">¶</a>
2343c2368
<           <li class="normal" id="section-6.9-2.3">"<a href="#RFC3168" class="xref">The Addition of Explicit Congestion Notification (ECN) to IP</a>" <span>[<a href="#RFC3168" class="xref">RFC3168</a>]</span><a href="#section-6.9-2.3" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.9-2.3">"<a href="#RFC3168" class="internal xref">The Addition of Explicit Congestion Notification (ECN) to IP</a>" <span>[<a href="#RFC3168" class="cite xref">RFC3168</a>]</span><a href="#section-6.9-2.3" class="pilcrow">¶</a>
2345c2370
<           <li class="normal" id="section-6.9-2.4">"Implementation Report on Experiences with Various TCP RFCs" <span>[<a href="#vista-impl" class="xref">vista-impl</a>]</span>, slides 6 and 7<a href="#section-6.9-2.4" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.9-2.4">"Implementation Report on Experiences with Various TCP RFCs" <span>[<a href="#vista-impl" class="cite xref">vista-impl</a>]</span>, slides 6 and 7<a href="#section-6.9-2.4" class="pilcrow">¶</a>
2347c2372
<           <li class="normal" id="section-6.9-2.5">"Implementation and Deployment of ECN" (at <span>[<a href="#SallyFloyd" class="xref">SallyFloyd</a>]</span>)<a href="#section-6.9-2.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-6.9-2.5">"Implementation and Deployment of ECN" (at <span>[<a href="#SallyFloyd" class="cite xref">SallyFloyd</a>]</span>)<a href="#section-6.9-2.5" class="pilcrow">¶</a>
2351c2376
< <p id="section-6.9-4">In response to this situation, "Active Queue Management" (AQM) was deployed in the network. A number of AQM disciplines have been deployed, but one common approach was that routers dropped packets when a threshold buffer length was reached, so that transport protocols like TCP that were responsive to loss would detect this loss and reduce their sending rates. Random Early Detection (RED) was one such proposal in the IETF. As the name suggests, a router using RED as its AQM discipline that detected time-averaged queue lengths passing a threshold would choose incoming packets probabilistically to be dropped <span>[<a href="#RFC2309" class="xref">RFC2309</a>]</span>.<a href="#section-6.9-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.9-4">In response to this situation, "Active Queue Management" (AQM) was deployed in the network. A number of AQM disciplines have been deployed, but one common approach was that routers dropped packets when a threshold buffer length was reached, so that transport protocols like TCP that were responsive to loss would detect this loss and reduce their sending rates. Random Early Detection (RED) was one such proposal in the IETF. As the name suggests, a router using RED as its AQM discipline that detected time-averaged queue lengths passing a threshold would choose incoming packets probabilistically to be dropped <span>[<a href="#RFC2309" class="cite xref">RFC2309</a>]</span>.<a href="#section-6.9-4" class="pilcrow">¶</a></p>
2353c2378
< giving senders an opportunity to "slow down" as if a loss had occurred, giving path queues time to drain, while the path still had sufficient buffer capacity to accommodate bursty arrivals of packets from other senders. This was proposed as an experiment in <span>[<a href="#RFC2481" class="xref">RFC2481</a>]</span> and standardized in <span>[<a href="#RFC3168" class="xref">RFC3168</a>]</span>.<a href="#section-6.9-5" class="pilcrow">¶</a></p>
---
> giving senders an opportunity to "slow down" as if a loss had occurred, giving path queues time to drain, while the path still had sufficient buffer capacity to accommodate bursty arrivals of packets from other senders. This was proposed as an experiment in <span>[<a href="#RFC2481" class="cite xref">RFC2481</a>]</span> and standardized in <span>[<a href="#RFC3168" class="cite xref">RFC3168</a>]</span>.<a href="#section-6.9-5" class="pilcrow">¶</a></p>
2359c2384
< <p id="section-6.9-8">Unlike most of the Path Aware technologies included in this document, the story of ECN continues to the present day and encountered a large number of Lessons Learned during that time. The early history of ECN (non-)deployment provides Lessons Learned that were not captured by other contributions in <a href="#Contributions" class="xref">Section 6</a>, so that is the emphasis in this section of the document.<a href="#section-6.9-8" class="pilcrow">¶</a></p>
---
> <p id="section-6.9-8">Unlike most of the Path Aware technologies included in this document, the story of ECN continues to the present day and encountered a large number of Lessons Learned during that time. The early history of ECN (non-)deployment provides Lessons Learned that were not captured by other contributions in <a href="#Contributions" class="auto internal xref">Section 6</a>, so that is the emphasis in this section of the document.<a href="#section-6.9-8" class="pilcrow">¶</a></p>
2366,2369c2391,2394
< <p id="section-6.9.1-2">The proponents of ECN did so much right, anticipating many of the Lessons Learned now recognized in <a href="#LessonsLearned" class="xref">Section 4</a>. They recognized the need to support incremental deployment (<a href="#EarlyAdopters" class="xref">Section 4.2</a>). They considered the impact on router throughput (<a href="#Fast-paths" class="xref">Section 4.8</a>). They even considered trust issues between end nodes and the network, for both non-compliant end nodes (<a href="#IDsTrustingEndpoints" class="xref">Section 4.10</a>) and non-compliant routers (<a href="#EndpointsTrustingIDs" class="xref">Section 4.9</a>).<a href="#section-6.9.1-2" class="pilcrow">¶</a></p>
< <p id="section-6.9.1-3">They were rewarded with ECN being implemented in major operating systems, for both end nodes and routers. A number of implementations are listed under "Implementation and Deployment of ECN" at <span>[<a href="#SallyFloyd" class="xref">SallyFloyd</a>]</span>.<a href="#section-6.9.1-3" class="pilcrow">¶</a></p>
< <p id="section-6.9.1-4">What they did not anticipate was routers that would crash when they saw bits 6 and 7 in the IPv4 Type of Service (TOS) octet <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span> / IPv6 Traffic Class field <span>[<a href="#RFC2460" class="xref">RFC2460</a>]</span>, which <span>[<a href="#RFC2481" class="xref">RFC2481</a>]</span> redefined to be "Currently Unused", being set to a non-zero value.<a href="#section-6.9.1-4" class="pilcrow">¶</a></p>
< <p id="section-6.9.1-5">As described in <span>[<a href="#vista-impl" class="xref">vista-impl</a>]</span> ("IGD" stands for "Intermediate Gateway Device"),<a href="#section-6.9.1-5" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.1-2">The proponents of ECN did so much right, anticipating many of the Lessons Learned now recognized in <a href="#LessonsLearned" class="auto internal xref">Section 4</a>. They recognized the need to support incremental deployment (<a href="#EarlyAdopters" class="auto internal xref">Section 4.2</a>). They considered the impact on router throughput (<a href="#Fast-paths" class="auto internal xref">Section 4.8</a>). They even considered trust issues between end nodes and the network, for both non-compliant end nodes (<a href="#IDsTrustingEndpoints" class="auto internal xref">Section 4.10</a>) and non-compliant routers (<a href="#EndpointsTrustingIDs" class="auto internal xref">Section 4.9</a>).<a href="#section-6.9.1-2" class="pilcrow">¶</a></p>
> <p id="section-6.9.1-3">They were rewarded with ECN being implemented in major operating systems, for both end nodes and routers. A number of implementations are listed under "Implementation and Deployment of ECN" at <span>[<a href="#SallyFloyd" class="cite xref">SallyFloyd</a>]</span>.<a href="#section-6.9.1-3" class="pilcrow">¶</a></p>
> <p id="section-6.9.1-4">What they did not anticipate was routers that would crash when they saw bits 6 and 7 in the IPv4 Type of Service (TOS) octet <span>[<a href="#RFC0791" class="cite xref">RFC0791</a>]</span> / IPv6 Traffic Class field <span>[<a href="#RFC2460" class="cite xref">RFC2460</a>]</span>, which <span>[<a href="#RFC2481" class="cite xref">RFC2481</a>]</span> redefined to be "Currently Unused", being set to a non-zero value.<a href="#section-6.9.1-4" class="pilcrow">¶</a></p>
> <p id="section-6.9.1-5">As described in <span>[<a href="#vista-impl" class="cite xref">vista-impl</a>]</span> ("IGD" stands for "Intermediate Gateway Device"),<a href="#section-6.9.1-5" class="pilcrow">¶</a></p>
2375c2400
< <p id="section-6.9.1-7">This implementation, which would be run on a significant percentage of Internet end nodes, was shipped with ECN disabled, as was true for several of the other implementations listed under "Implementation and Deployment of ECN" at <span>[<a href="#SallyFloyd" class="xref">SallyFloyd</a>]</span>. Even if subsequent router vendors fixed these implementations, ECN was still disabled on end nodes, and given the trade-off between the benefits of enabling ECN (somewhat better behavior during congestion) and the risks of enabling ECN (possibly crashing a router somewhere along the path), ECN tended to stay disabled on implementations that supported ECN for decades afterwards.<a href="#section-6.9.1-7" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.1-7">This implementation, which would be run on a significant percentage of Internet end nodes, was shipped with ECN disabled, as was true for several of the other implementations listed under "Implementation and Deployment of ECN" at <span>[<a href="#SallyFloyd" class="cite xref">SallyFloyd</a>]</span>. Even if subsequent router vendors fixed these implementations, ECN was still disabled on end nodes, and given the trade-off between the benefits of enabling ECN (somewhat better behavior during congestion) and the risks of enabling ECN (possibly crashing a router somewhere along the path), ECN tended to stay disabled on implementations that supported ECN for decades afterwards.<a href="#section-6.9.1-7" class="pilcrow">¶</a></p>
2383c2408
< <p id="section-6.9.2-1">Of the contributions included in <a href="#Contributions" class="xref">Section 6</a>, ECN may be unique in providing these lessons:<a href="#section-6.9.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.2-1">Of the contributions included in <a href="#Contributions" class="auto internal xref">Section 6</a>, ECN may be unique in providing these lessons:<a href="#section-6.9.2-1" class="pilcrow">¶</a></p>
2391c2416
< <p id="section-6.9.2-4">During discussion of ECN at <span>[<a href="#PANRG-110" class="xref">PANRG-110</a>]</span>, we noted that "you get one chance to get it right" isn't quite correct today, because operating systems on so many host systems are frequently updated, and transport protocols like QUIC <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> are being implemented in user space and can be updated without touching installed operating systems. Neither of these factors were true in the early 2000s.<a href="#section-6.9.2-4" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.2-4">During discussion of ECN at <span>[<a href="#PANRG-110" class="cite xref">PANRG-110</a>]</span>, we noted that "you get one chance to get it right" isn't quite correct today, because operating systems on so many host systems are frequently updated, and transport protocols like QUIC <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span> are being implemented in user space and can be updated without touching installed operating systems. Neither of these factors were true in the early 2000s.<a href="#section-6.9.2-4" class="pilcrow">¶</a></p>
2400c2425
< <p id="section-6.9.2-8">ECN deployment was also hindered by non-deployment of AQM in many devices, because of operator interest in QoS features provided in the network, rather than using the network to assist end systems in providing for themselves. But that's another story, and the AQM Lessons Learned are already covered in other contributions in <a href="#Contributions" class="xref">Section 6</a>.<a href="#section-6.9.2-8" class="pilcrow">¶</a></p>
---
> <p id="section-6.9.2-8">ECN deployment was also hindered by non-deployment of AQM in many devices, because of operator interest in QoS features provided in the network, rather than using the network to assist end systems in providing for themselves. But that's another story, and the AQM Lessons Learned are already covered in other contributions in <a href="#Contributions" class="auto internal xref">Section 6</a>.<a href="#section-6.9.2-8" class="pilcrow">¶</a></p>
2748,2756c2773,2781
< <p id="appendix-A-1">Initial material for <a href="#ST2" class="xref">Section 6.1</a> on ST2 was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
< <p id="appendix-A-2">Initial material for <a href="#IntServ" class="xref">Section 6.2</a> on IntServ was provided by <span class="contact-name">Ron Bonica</span>.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
< <p id="appendix-A-3">Initial material for <a href="#Quick-Start" class="xref">Section 6.3</a> on Quick-Start TCP was provided by <span class="contact-name">Michael Scharf</span>, who also provided suggestions to improve this section after it was edited.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
< <p id="appendix-A-4">Initial material for <a href="#Source-Quench" class="xref">Section 6.4</a> on ICMP Source Quench was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
< <p id="appendix-A-5">Initial material for <a href="#TRIGTRAN" class="xref">Section 6.5</a> on Triggers for Transport (TRIGTRAN) was provided by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
< <p id="appendix-A-6"><a href="#Shim6" class="xref">Section 6.6</a> on Shim6 builds on initial material describing obstacles, which was provided by <span class="contact-name">Erik Nordmark</span>, with background added by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-6" class="pilcrow">¶</a></p>
< <p id="appendix-A-7">Initial material for <a href="#NSIS" class="xref">Section 6.7</a> on Next Steps in Signaling (NSIS) was provided by <span class="contact-name">Roland Bless</span> and <span class="contact-name">Martin Stiemerling</span>.<a href="#appendix-A-7" class="pilcrow">¶</a></p>
< <p id="appendix-A-8">Initial material for <a href="#FL" class="xref">Section 6.8</a> on IPv6 Flow Labels was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-8" class="pilcrow">¶</a></p>
< <p id="appendix-A-9">Initial material for <a href="#ecn" class="xref">Section 6.9</a> on Explicit Congestion Notification was provided by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-9" class="pilcrow">¶</a></p>
---
> <p id="appendix-A-1">Initial material for <a href="#ST2" class="auto internal xref">Section 6.1</a> on ST2 was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
> <p id="appendix-A-2">Initial material for <a href="#IntServ" class="auto internal xref">Section 6.2</a> on IntServ was provided by <span class="contact-name">Ron Bonica</span>.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
> <p id="appendix-A-3">Initial material for <a href="#Quick-Start" class="auto internal xref">Section 6.3</a> on Quick-Start TCP was provided by <span class="contact-name">Michael Scharf</span>, who also provided suggestions to improve this section after it was edited.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
> <p id="appendix-A-4">Initial material for <a href="#Source-Quench" class="auto internal xref">Section 6.4</a> on ICMP Source Quench was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
> <p id="appendix-A-5">Initial material for <a href="#TRIGTRAN" class="auto internal xref">Section 6.5</a> on Triggers for Transport (TRIGTRAN) was provided by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
> <p id="appendix-A-6"><a href="#Shim6" class="auto internal xref">Section 6.6</a> on Shim6 builds on initial material describing obstacles, which was provided by <span class="contact-name">Erik Nordmark</span>, with background added by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-6" class="pilcrow">¶</a></p>
> <p id="appendix-A-7">Initial material for <a href="#NSIS" class="auto internal xref">Section 6.7</a> on Next Steps in Signaling (NSIS) was provided by <span class="contact-name">Roland Bless</span> and <span class="contact-name">Martin Stiemerling</span>.<a href="#appendix-A-7" class="pilcrow">¶</a></p>
> <p id="appendix-A-8">Initial material for <a href="#FL" class="auto internal xref">Section 6.8</a> on IPv6 Flow Labels was provided by <span class="contact-name">Gorry Fairhurst</span>.<a href="#appendix-A-8" class="pilcrow">¶</a></p>
> <p id="appendix-A-9">Initial material for <a href="#ecn" class="auto internal xref">Section 6.9</a> on Explicit Congestion Notification was provided by <span class="contact-name">Spencer Dawkins</span>.<a href="#appendix-A-9" class="pilcrow">¶</a></p>
2760c2785
< <p id="appendix-A-12"><span class="contact-name">David Oran</span> also provided helpful comments and text suggestions on this document during Internet Research Steering Group balloting. In particular, <a href="#Futures" class="xref">Section 5</a> reflects his review.<a href="#appendix-A-12" class="pilcrow">¶</a></p>
---
> <p id="appendix-A-12"><span class="contact-name">David Oran</span> also provided helpful comments and text suggestions on this document during Internet Research Steering Group balloting. In particular, <a href="#Futures" class="auto internal xref">Section 5</a> reflects his review.<a href="#appendix-A-12" class="pilcrow">¶</a></p>
2763c2788
< <p id="appendix-A-14">Special thanks to <span class="contact-name">Adrian Farrel</span> for helping <span class="contact-name">Spencer</span> navigate the twisty little passages of Flow Specs and Filter Specs in IntServ, RSVP, MPLS, and BGP. They are all alike, except when they are different <span>[<a href="#Colossal-Cave" class="xref">Colossal-Cave</a>]</span>.<a href="#appendix-A-14" class="pilcrow">¶</a></p>
---
> <p id="appendix-A-14">Special thanks to <span class="contact-name">Adrian Farrel</span> for helping <span class="contact-name">Spencer</span> navigate the twisty little passages of Flow Specs and Filter Specs in IntServ, RSVP, MPLS, and BGP. They are all alike, except when they are different <span>[<a href="#Colossal-Cave" class="cite xref">Colossal-Cave</a>]</span>.<a href="#appendix-A-14" class="pilcrow">¶</a></p>
