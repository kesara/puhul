22c22
< <meta content="xml2rfc 3.12.6" name="generator">
---
> <meta content="xml2rfc 3.19.2" name="generator">
30,48c30,43
<   xml2rfc 3.12.6
<     Python 3.6.15
<     appdirs 1.4.4
<     ConfigArgParse 1.4.1
<     google-i18n-address 2.4.0
<     html5lib 1.0.1
<     intervaltree 3.0.2
<     Jinja2 2.11.3
<     kitchen 1.2.6
<     lxml 4.4.2
<     MarkupSafe 2.0.1
<     pycairo 1.15.1
<     pycountry 19.8.18
<     pyflakes 2.1.1
<     PyYAML 5.4.1
<     requests 2.24.0
<     setuptools 40.5.0
<     six 1.14.0
<     WeasyPrint 52.5
---
>   xml2rfc 3.19.2
>     Python 3.11.7
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.3
>     lxml 4.9.4
>     platformdirs 4.2.0
>     pycountry 23.12.11
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.13
50c45
< <link href="rfc9250.xml" rel="alternate" type="application/rfc+xml">
---
> <link href="rfc/rfc9250.xml" rel="alternate" type="application/rfc+xml">
60c55
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
69a65,70
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
72d72
<   width: extend-to-zoom;
87c87
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
89a90
>   overflow-wrap: break-word;
175a177,185
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
190,193d199
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
194a201
>   border: none;
272c279
< tt, code, pre, code {
---
> tt, code, pre {
274c281
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
313a321,323
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
511c521
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
651d660
< 
674c683
<   pre.breakable {
---
>   .breakable pre {
744c753
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
844c853
< tt, code, pre, code {
---
> tt, code, pre {
849c858
< pre.sourcecode,
---
> .sourcecode pre,
885c894
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
1066a1076
>   .artwork > pre,
1081c1091
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1087a1098,1100
> tr {
>   break-inside: avoid;
> }
1138c1151
< /* Text in compact lists should not get extra bottim margin space,
---
> /* Text in compact lists should not get extra bottom margin space,
1163c1176
< /* Tweak the comact list text */
---
> /* Tweak the compact list text */
1181c1194
< dd > div:first-child > pre.sourcecode,
---
> dd > div.sourcecode:first-child,
1195c1208
< li > p:last-of-type {
---
> li > p:last-of-type:only-child {
1199a1213
> <link href="https://datatracker.ietf.org/doc/draft-ietf-dprive-dnsoquic-11" rel="prev">
1202c1216
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-dprive-dnsoquic-11" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1204,1205c1218,1219
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1311c1325
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
---
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
1314c1328
<             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-key-words" class="xref">Key Words</a></p>
---
>             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-key-words" class="internal xref">Key Words</a></p>
1317c1331
<             <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-design-considerations" class="xref">Design Considerations</a></p>
---
>             <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-design-considerations" class="internal xref">Design Considerations</a></p>
1320c1334
<                 <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-provide-dns-privacy" class="xref">Provide DNS Privacy</a></p>
---
>                 <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-provide-dns-privacy" class="internal xref">Provide DNS Privacy</a></p>
1323c1337
<                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-design-for-minimum-latency" class="xref">Design for Minimum Latency</a></p>
---
>                 <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-design-for-minimum-latency" class="internal xref">Design for Minimum Latency</a></p>
1326c1340
<                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-middlebox-considerations" class="xref">Middlebox Considerations</a></p>
---
>                 <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-middlebox-considerations" class="internal xref">Middlebox Considerations</a></p>
1329c1343
<                 <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-no-server-initiated-transac" class="xref">No Server-Initiated Transactions</a></p>
---
>                 <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-no-server-initiated-transac" class="internal xref">No Server-Initiated Transactions</a></p>
1334c1348
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-specifications" class="xref">Specifications</a></p>
---
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-specifications" class="internal xref">Specifications</a></p>
1337c1351
<                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-connection-establishment" class="xref">Connection Establishment</a></p>
---
>                 <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-connection-establishment" class="internal xref">Connection Establishment</a></p>
1340c1354
<                     <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-port-selection" class="xref">Port Selection</a></p>
---
>                     <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-port-selection" class="internal xref">Port Selection</a></p>
1345c1359
<                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-stream-mapping-and-usage" class="xref">Stream Mapping and Usage</a></p>
---
>                 <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-stream-mapping-and-usage" class="internal xref">Stream Mapping and Usage</a></p>
1348c1362
<                     <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-dns-message-ids" class="xref">DNS Message IDs</a></p>
---
>                     <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-dns-message-ids" class="internal xref">DNS Message IDs</a></p>
1353c1367
<                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-doq-error-codes" class="xref">DoQ Error Codes</a></p>
---
>                 <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-doq-error-codes" class="internal xref">DoQ Error Codes</a></p>
1356c1370
<                     <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-transaction-cancellation" class="xref">Transaction Cancellation</a></p>
---
>                     <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="auto internal xref">4.3.1</a>.  <a href="#name-transaction-cancellation" class="internal xref">Transaction Cancellation</a></p>
1359c1373
<                     <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="xref">4.3.2</a>.  <a href="#name-transaction-errors" class="xref">Transaction Errors</a></p>
---
>                     <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="auto internal xref">4.3.2</a>.  <a href="#name-transaction-errors" class="internal xref">Transaction Errors</a></p>
1362c1376
<                     <p id="section-toc.1-1.4.2.3.2.3.1"><a href="#section-4.3.3" class="xref">4.3.3</a>.  <a href="#name-protocol-errors" class="xref">Protocol Errors</a></p>
---
>                     <p id="section-toc.1-1.4.2.3.2.3.1"><a href="#section-4.3.3" class="auto internal xref">4.3.3</a>.  <a href="#name-protocol-errors" class="internal xref">Protocol Errors</a></p>
1365c1379
<                     <p id="section-toc.1-1.4.2.3.2.4.1"><a href="#section-4.3.4" class="xref">4.3.4</a>.  <a href="#name-alternative-error-codes" class="xref">Alternative Error Codes</a></p>
---
>                     <p id="section-toc.1-1.4.2.3.2.4.1"><a href="#section-4.3.4" class="auto internal xref">4.3.4</a>.  <a href="#name-alternative-error-codes" class="internal xref">Alternative Error Codes</a></p>
1370c1384
<                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-connection-management" class="xref">Connection Management</a></p>
---
>                 <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-connection-management" class="internal xref">Connection Management</a></p>
1373c1387
<                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-session-resumption-and-0-rt" class="xref">Session Resumption and 0-RTT</a></p>
---
>                 <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-session-resumption-and-0-rt" class="internal xref">Session Resumption and 0-RTT</a></p>
1376c1390
<                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-message-sizes" class="xref">Message Sizes</a></p>
---
>                 <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-message-sizes" class="internal xref">Message Sizes</a></p>
1381c1395
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-implementation-requirements" class="xref">Implementation Requirements</a></p>
---
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-implementation-requirements" class="internal xref">Implementation Requirements</a></p>
1384c1398
<                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-authentication" class="xref">Authentication</a></p>
---
>                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-authentication" class="internal xref">Authentication</a></p>
1387c1401
<                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-fallback-to-other-protocols" class="xref">Fallback to Other Protocols on Connection Failure</a></p>
---
>                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-fallback-to-other-protocols" class="internal xref">Fallback to Other Protocols on Connection Failure</a></p>
1390c1404
<                 <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-address-validation" class="xref">Address Validation</a></p>
---
>                 <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-address-validation" class="internal xref">Address Validation</a></p>
1393c1407
<                 <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-padding" class="xref">Padding</a></p>
---
>                 <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-padding" class="internal xref">Padding</a></p>
1396c1410
<                 <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="xref">5.5</a>.  <a href="#name-connection-handling" class="xref">Connection Handling</a></p>
---
>                 <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-connection-handling" class="internal xref">Connection Handling</a></p>
1399c1413
<                     <p id="section-toc.1-1.5.2.5.2.1.1"><a href="#section-5.5.1" class="xref">5.5.1</a>.  <a href="#name-connection-reuse" class="xref">Connection Reuse</a></p>
---
>                     <p id="section-toc.1-1.5.2.5.2.1.1"><a href="#section-5.5.1" class="auto internal xref">5.5.1</a>.  <a href="#name-connection-reuse" class="internal xref">Connection Reuse</a></p>
1402c1416
<                     <p id="section-toc.1-1.5.2.5.2.2.1"><a href="#section-5.5.2" class="xref">5.5.2</a>.  <a href="#name-resource-management" class="xref">Resource Management</a></p>
---
>                     <p id="section-toc.1-1.5.2.5.2.2.1"><a href="#section-5.5.2" class="auto internal xref">5.5.2</a>.  <a href="#name-resource-management" class="internal xref">Resource Management</a></p>
1405c1419
<                     <p id="section-toc.1-1.5.2.5.2.3.1"><a href="#section-5.5.3" class="xref">5.5.3</a>.  <a href="#name-using-0-rtt-and-session-res" class="xref">Using 0-RTT and Session Resumption</a></p>
---
>                     <p id="section-toc.1-1.5.2.5.2.3.1"><a href="#section-5.5.3" class="auto internal xref">5.5.3</a>.  <a href="#name-using-0-rtt-and-session-res" class="internal xref">Using 0-RTT and Session Resumption</a></p>
1408c1422
<                     <p id="section-toc.1-1.5.2.5.2.4.1"><a href="#section-5.5.4" class="xref">5.5.4</a>.  <a href="#name-controlling-connection-migr" class="xref">Controlling Connection Migration for Privacy</a></p>
---
>                     <p id="section-toc.1-1.5.2.5.2.4.1"><a href="#section-5.5.4" class="auto internal xref">5.5.4</a>.  <a href="#name-controlling-connection-migr" class="internal xref">Controlling Connection Migration for Privacy</a></p>
1413c1427
<                 <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="xref">5.6</a>.  <a href="#name-processing-queries-in-paral" class="xref">Processing Queries in Parallel</a></p>
---
>                 <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-processing-queries-in-paral" class="internal xref">Processing Queries in Parallel</a></p>
1416c1430
<                 <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="xref">5.7</a>.  <a href="#name-zone-transfer" class="xref">Zone Transfer</a></p>
---
>                 <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-zone-transfer" class="internal xref">Zone Transfer</a></p>
1419c1433
<                 <p id="section-toc.1-1.5.2.8.1"><a href="#section-5.8" class="xref">5.8</a>.  <a href="#name-flow-control-mechanisms" class="xref">Flow Control Mechanisms</a></p>
---
>                 <p id="section-toc.1-1.5.2.8.1"><a href="#section-5.8" class="auto internal xref">5.8</a>.  <a href="#name-flow-control-mechanisms" class="internal xref">Flow Control Mechanisms</a></p>
1424c1438
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
---
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
1427c1441
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
---
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-privacy-considerations" class="internal xref">Privacy Considerations</a></p>
1430c1444
<                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-privacy-issues-with-0-rtt-d" class="xref">Privacy Issues with 0-RTT data</a></p>
---
>                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-privacy-issues-with-0-rtt-d" class="internal xref">Privacy Issues with 0-RTT data</a></p>
1433c1447
<                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-privacy-issues-with-session" class="xref">Privacy Issues with Session Resumption</a></p>
---
>                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-privacy-issues-with-session" class="internal xref">Privacy Issues with Session Resumption</a></p>
1436c1450
<                 <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-privacy-issues-with-address" class="xref">Privacy Issues with Address Validation Tokens</a></p>
---
>                 <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-privacy-issues-with-address" class="internal xref">Privacy Issues with Address Validation Tokens</a></p>
1439c1453
<                 <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-privacy-issues-with-long-du" class="xref">Privacy Issues with Long Duration Sessions</a></p>
---
>                 <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-privacy-issues-with-long-du" class="internal xref">Privacy Issues with Long Duration Sessions</a></p>
1442c1456
<                 <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-traffic-analysis" class="xref">Traffic Analysis</a></p>
---
>                 <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="auto internal xref">7.5</a>.  <a href="#name-traffic-analysis" class="internal xref">Traffic Analysis</a></p>
1447c1461
<             <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
---
>             <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1450c1464
<                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-registration-of-a-doq-ident" class="xref">Registration of a DoQ Identification String</a></p>
---
>                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-registration-of-a-doq-ident" class="internal xref">Registration of a DoQ Identification String</a></p>
1453c1467
<                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-reservation-of-a-dedicated-" class="xref">Reservation of a Dedicated Port</a></p>
---
>                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-reservation-of-a-dedicated-" class="internal xref">Reservation of a Dedicated Port</a></p>
1456c1470
<                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-reservation-of-an-extended-" class="xref">Reservation of an Extended DNS Error Code: Too Early</a></p>
---
>                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-reservation-of-an-extended-" class="internal xref">Reservation of an Extended DNS Error Code: Too Early</a></p>
1459c1473
<                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-dns-over-quic-error-codes-r" class="xref">DNS-over-QUIC Error Codes Registry</a></p>
---
>                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-dns-over-quic-error-codes-r" class="internal xref">DNS-over-QUIC Error Codes Registry</a></p>
1464c1478
<             <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
---
>             <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-references" class="internal xref">References</a></p>
1467c1481
<                 <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
---
>                 <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1470c1484
<                 <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
---
>                 <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1475c1489
<             <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-the-notify-service" class="xref">The NOTIFY Service</a></p>
---
>             <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-the-notify-service" class="internal xref">The NOTIFY Service</a></p>
1478c1492
<             <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
---
>             <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
1481c1495
<             <p id="section-toc.1-1.12.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
---
>             <p id="section-toc.1-1.12.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1493c1507
< facilities" <span>[<a href="#RFC1034" class="xref">RFC1034</a>]</span>. The transmission of DNS queries and responses over
---
> facilities" <span>[<a href="#RFC1034" class="cite xref">RFC1034</a>]</span>. The transmission of DNS queries and responses over
1495c1509
< <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
1497,1498c1511,1512
< QUIC transport <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span>. DNS over QUIC is referred to here as DoQ,
< in line with "DNS Terminology" <span>[<a href="#I-D.ietf-dnsop-rfc8499bis" class="xref">DNS-TERMS</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
---
> QUIC transport <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span> <span>[<a href="#RFC9001" class="cite xref">RFC9001</a>]</span>. DNS over QUIC is referred to here as DoQ,
> in line with "DNS Terminology" <span>[<a href="#I-D.ietf-dnsop-rfc8499bis" class="cite xref">DNS-TERMS</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
1502c1516
< <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>. This includes an option for the client to
---
> <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>. This includes an option for the client to
1505c1519
< over DTLS" <span>[<a href="#RFC8310" class="xref">RFC8310</a>]</span>.<a href="#section-1-4.1" class="pilcrow">¶</a>
---
> over DTLS" <span>[<a href="#RFC8310" class="cite xref">RFC8310</a>]</span>.<a href="#section-1-4.1" class="pilcrow">¶</a>
1521c1535
<         <li class="normal" id="section-1-6.3">the "nameserver to nameserver" scenario (mainly used for zone transfers (XFR) <span>[<a href="#RFC1995" class="xref">RFC1995</a>]</span> <span>[<a href="#RFC5936" class="xref">RFC5936</a>]</span>).<a href="#section-1-6.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-1-6.3">the "nameserver to nameserver" scenario (mainly used for zone transfers (XFR) <span>[<a href="#RFC1995" class="cite xref">RFC1995</a>]</span> <span>[<a href="#RFC5936" class="cite xref">RFC5936</a>]</span>).<a href="#section-1-6.3" class="pilcrow">¶</a>
1532c1546
< DNS Stateful Operations (DSO) <span>[<a href="#RFC8490" class="xref">RFC8490</a>]</span>.<a href="#section-1-9.2" class="pilcrow">¶</a>
---
> DNS Stateful Operations (DSO) <span>[<a href="#RFC8490" class="cite xref">RFC8490</a>]</span>.<a href="#section-1-9.2" class="pilcrow">¶</a>
1538c1552
< Protocol Version 3 (HTTP/3)" <span>[<a href="#I-D.ietf-quic-http" class="xref">HTTP/3</a>]</span>. The purpose of this
---
> Protocol Version 3 (HTTP/3)" <span>[<a href="#I-D.ietf-quic-http" class="cite xref">HTTP/3</a>]</span>. The purpose of this
1540c1554
< <p id="section-1-11">DNS over HTTPS (DoH) <span>[<a href="#RFC8484" class="xref">RFC8484</a>]</span> can be used with HTTP/3 to get some of the
---
> <p id="section-1-11">DNS over HTTPS (DoH) <span>[<a href="#RFC8484" class="cite xref">RFC8484</a>]</span> can be used with HTTP/3 to get some of the
1546,1548c1560,1562
< <p id="section-1-12">In this document, <a href="#design-considerations" class="xref">Section 3</a> presents the reasoning that guided
< the proposed design. <a href="#specifications" class="xref">Section 4</a> specifies the actual mapping of DoQ.
< <a href="#implementation-requirements" class="xref">Section 5</a> presents guidelines on the implementation,
---
> <p id="section-1-12">In this document, <a href="#design-considerations" class="auto internal xref">Section 3</a> presents the reasoning that guided
> the proposed design. <a href="#specifications" class="auto internal xref">Section 4</a> specifies the actual mapping of DoQ.
> <a href="#implementation-requirements" class="auto internal xref">Section 5</a> presents guidelines on the implementation,
1562,1563c1576,1577
<     to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>
<         <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals,
---
>     to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>
>         <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in all capitals,
1580,1582c1594,1596
< <p id="section-3.1-1">DoT <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> defines how to mitigate some of the issues described in "DNS
< Privacy Considerations" <span>[<a href="#RFC9076" class="xref">RFC9076</a>]</span> by specifying how to transmit DNS messages
< over TLS. The "Usage Profiles for DNS over TLS and DNS over DTLS" <span>[<a href="#RFC8310" class="xref">RFC8310</a>]</span>
---
> <p id="section-3.1-1">DoT <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> defines how to mitigate some of the issues described in "DNS
> Privacy Considerations" <span>[<a href="#RFC9076" class="cite xref">RFC9076</a>]</span> by specifying how to transmit DNS messages
> over TLS. The "Usage Profiles for DNS over TLS and DNS over DTLS" <span>[<a href="#RFC8310" class="cite xref">RFC8310</a>]</span>
1586c1600
< TLS, as specified in "Using TLS to Secure QUIC" <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span>,
---
> TLS, as specified in "Using TLS to Secure QUIC" <span>[<a href="#RFC9001" class="cite xref">RFC9001</a>]</span>,
1588,1590c1602,1604
< will provide essentially the same privacy protections as DoT <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>
< including Strict and Opportunistic usage profiles <span>[<a href="#RFC8310" class="xref">RFC8310</a>]</span>. Further
< discussion on this is provided in <a href="#privacy-considerations" class="xref">Section 7</a>.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
---
> will provide essentially the same privacy protections as DoT <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>
> including Strict and Opportunistic usage profiles <span>[<a href="#RFC8310" class="cite xref">RFC8310</a>]</span>. Further
> discussion on this is provided in <a href="#privacy-considerations" class="auto internal xref">Section 7</a>.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
1604c1618
< "QUIC Loss Detection and Congestion Control" <span>[<a href="#RFC9002" class="xref">RFC9002</a>]</span>.<a href="#section-3.2-2.2" class="pilcrow">¶</a>
---
> "QUIC Loss Detection and Congestion Control" <span>[<a href="#RFC9002" class="cite xref">RFC9002</a>]</span>.<a href="#section-3.2-2.2" class="pilcrow">¶</a>
1629c1643
< to QUIC streams in <a href="#stream-mapping-and-usage" class="xref">Section 4.2</a>.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
---
> to QUIC streams in <a href="#stream-mapping-and-usage" class="auto internal xref">Section 4.2</a>.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
1641c1655
< the padding mechanisms defined in <a href="#padding" class="xref">Section 5.4</a> are intended to obfuscate the specific
---
> the padding mechanisms defined in <a href="#padding" class="auto internal xref">Section 5.4</a> are intended to obfuscate the specific
1655c1669
< <p id="section-3.4-1">As stated in <a href="#introduction" class="xref">Section 1</a>, this document does not specify support for
---
> <p id="section-3.4-1">As stated in <a href="#introduction" class="auto internal xref">Section 1</a>, this document does not specify support for
1661c1675
< see <span><a href="https://www.rfc-editor.org/rfc/rfc8490#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC8490" class="xref">RFC8490</a>]</span>.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
---
> see <span><a href="https://rfc-editor.org/rfc/rfc8490#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC8490" class="cite xref">RFC8490</a>]</span>.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
1677c1691
< specification <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>. During connection establishment, DoQ support is
---
> specification <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. During connection establishment, DoQ support is
1685c1699
< connections on the dedicated UDP port 853 (<a href="#iana-considerations" class="xref">Section 8</a>), unless there is a mutual agreement to
---
> connections on the dedicated UDP port 853 (<a href="#iana-considerations" class="auto internal xref">Section 8</a>), unless there is a mutual agreement to
1692c1706
< <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>. The risk of confusion exists even if two parties agreed on
---
> <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>. The risk of confusion exists even if two parties agreed on
1711,1712c1725,1726
< features detailed in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-2" class="relref">Section 2</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport specification.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
< <p id="section-4.2-2">DNS query/response traffic <span>[<a href="#RFC1034" class="xref">RFC1034</a>]</span> <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>
---
> features detailed in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-2" class="relref">Section 2</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport specification.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
> <p id="section-4.2-2">DNS query/response traffic <span>[<a href="#RFC1034" class="cite xref">RFC1034</a>]</span> <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>
1720c1734
< length field defined for DNS over TCP <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>. The practical result of this
---
> length field defined for DNS over TCP <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>. The practical result of this
1725c1739
< in <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
---
> in <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
1728c1742
< transport specification <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>. Packet losses and other network events might
---
> transport specification <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. Packet losses and other network events might
1739c1753
< 4, and so on (see <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>).<a href="#section-4.2-8" class="pilcrow">¶</a></p>
---
> 4, and so on (see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>).<a href="#section-4.2-8" class="pilcrow">¶</a></p>
1830c1844
< <p id="section-4.3-3">See <a href="#iana-error-codes" class="xref">Section 8.4</a> for details on registering new error codes.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
---
> <p id="section-4.3-3">See <a href="#iana-error-codes" class="auto internal xref">Section 8.4</a> for details on registering new error codes.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
1839c1853
< It <span class="bcp14">MAY</span> use a more specific error code registered according to <a href="#iana-error-codes" class="xref">Section 8.4</a>.
---
> It <span class="bcp14">MAY</span> use a more specific error code registered according to <a href="#iana-error-codes" class="auto internal xref">Section 8.4</a>.
1844c1858
< <p id="section-4.3.1-2">Servers that receive STOP_SENDING act in accordance with <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-3.5" class="relref">Section 3.5</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. 
---
> <p id="section-4.3.1-2">Servers that receive STOP_SENDING act in accordance with <span><a href="https://rfc-editor.org/rfc/rfc9000#section-3.5" class="relref">Section 3.5</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. 
1876c1890
< (SERVFAIL, <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span>) through a response with the Response Code set to
---
> (SERVFAIL, <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span>) through a response with the Response Code set to
1911c1925
< sending requests or responses (see <a href="#stream-mapping-and-usage" class="xref">Section 4.2</a>)<a href="#section-4.3.3-2.7" class="pilcrow">¶</a>
---
> sending requests or responses (see <a href="#stream-mapping-and-usage" class="auto internal xref">Section 4.2</a>)<a href="#section-4.3.3-2.7" class="pilcrow">¶</a>
1914,1915c1928,1929
< EDNS(0) Option <span>[<a href="#RFC7828" class="xref">RFC7828</a>]</span> (see
< <a href="#resource-management" class="xref">Section 5.5.2</a>)<a href="#section-4.3.3-2.8" class="pilcrow">¶</a>
---
> EDNS(0) Option <span>[<a href="#RFC7828" class="cite xref">RFC7828</a>]</span> (see
> <a href="#resource-management" class="auto internal xref">Section 5.5.2</a>)<a href="#section-4.3.3-2.8" class="pilcrow">¶</a>
1922c1936
<  handle this case, see <a href="#session-resumption-and-0-rtt" class="xref">Section 4.5</a>)<a href="#section-4.3.3-2.11" class="pilcrow">¶</a>
---
>  handle this case, see <a href="#session-resumption-and-0-rtt" class="auto internal xref">Section 4.5</a>)<a href="#section-4.3.3-2.11" class="pilcrow">¶</a>
1939,1940c1953,1954
< <p id="section-4.3.4-1">This specification describes specific error codes in Sections <a href="#transaction-cancellation" class="xref">4.3.1</a>,
< <a href="#transaction-errors" class="xref">4.3.2</a>, and <a href="#protocol-errors" class="xref">4.3.3</a>. These error codes are meant
---
> <p id="section-4.3.4-1">This specification describes specific error codes in Sections <a href="#transaction-cancellation" class="auto internal xref">4.3.1</a>,
> <a href="#transaction-errors" class="auto internal xref">4.3.2</a>, and <a href="#protocol-errors" class="auto internal xref">4.3.3</a>. These error codes are meant
1943c1957
< in <a href="#iana-error-codes" class="xref">Section 8.4</a>.<a href="#section-4.3.4-1" class="pilcrow">¶</a></p>
---
> in <a href="#iana-error-codes" class="auto internal xref">Section 8.4</a>.<a href="#section-4.3.4-1" class="pilcrow">¶</a></p>
1959c1973
< <p id="section-4.4-1"><span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-10" class="relref">Section 10</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport specification, specifies that
---
> <p id="section-4.4-1"><span><a href="https://rfc-editor.org/rfc/rfc9000#section-10" class="relref">Section 10</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport specification, specifies that
1971c1985
< protocol overhead. Per <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-10.1" class="relref">Section 10.1</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport specification, the
---
> protocol overhead. Per <span><a href="https://rfc-editor.org/rfc/rfc9000#section-10.1" class="relref">Section 10.1</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport specification, the
1974c1988
< timeout are discussed in <a href="#resource-management" class="xref">Section 5.5.2</a>.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
---
> timeout are discussed in <a href="#resource-management" class="auto internal xref">Section 5.5.2</a>.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
1999c2013
< QUIC transport <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> and QUIC TLS <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span> if the server supports them.
---
> QUIC transport <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span> and QUIC TLS <span>[<a href="#RFC9001" class="cite xref">RFC9001</a>]</span> if the server supports them.
2003,2004c2017,2018
< The privacy issues are detailed in Sections <a href="#privacy-issues-with-0-rtt-data" class="xref">7.1</a>
< and <a href="#privacy-issues-with-session-resumption" class="xref">7.2</a>,
---
> The privacy issues are detailed in Sections <a href="#privacy-issues-with-0-rtt-data" class="auto internal xref">7.1</a>
> and <a href="#privacy-issues-with-session-resumption" class="auto internal xref">7.2</a>,
2006c2020
< <a href="#using-0-rtt-and-session-resumption" class="xref">Section 5.5.3</a>.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
---
> <a href="#using-0-rtt-and-session-resumption" class="auto internal xref">Section 5.5.3</a>.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
2010c2024
< be sent in 0-RTT data. See <a href="#the-notify-service" class="xref">Appendix A</a> for a detailed discussion of why NOTIFY is
---
> be sent in 0-RTT data. See <a href="#the-notify-service" class="auto internal xref">Appendix A</a> for a detailed discussion of why NOTIFY is
2013c2027
< 0-RTT, using the mechanisms described in <span><a href="https://www.rfc-editor.org/rfc/rfc9001#section-4.6.1" class="relref">Section 4.6.1</a> of [<a href="#RFC9001" class="xref">RFC9001</a>]</span>.
---
> 0-RTT, using the mechanisms described in <span><a href="https://rfc-editor.org/rfc/rfc9001#section-4.6.1" class="relref">Section 4.6.1</a> of [<a href="#RFC9001" class="cite xref">RFC9001</a>]</span>.
2019c2033
< has been completed, as defined in <span><a href="https://www.rfc-editor.org/rfc/rfc9001#section-4.1.1" class="relref">Section 4.1.1</a> of [<a href="#RFC9001" class="xref">RFC9001</a>]</span>.<a href="#section-4.5-4.1" class="pilcrow">¶</a>
---
> has been completed, as defined in <span><a href="https://rfc-editor.org/rfc/rfc9001#section-4.1.1" class="relref">Section 4.1.1</a> of [<a href="#RFC9001" class="cite xref">RFC9001</a>]</span>.<a href="#section-4.5-4.1" class="pilcrow">¶</a>
2023,2024c2037,2038
< mechanisms defined in <span>[<a href="#RFC6891" class="xref">RFC6891</a>]</span> and the extended DNS errors defined in <span>[<a href="#RFC8914" class="xref">RFC8914</a>]</span>; see
< <a href="#reservation-of-extended-dns-error-code-too-early" class="xref">Section 8.3</a>.<a href="#section-4.5-4.2" class="pilcrow">¶</a>
---
> mechanisms defined in <span>[<a href="#RFC6891" class="cite xref">RFC6891</a>]</span> and the extended DNS errors defined in <span>[<a href="#RFC8914" class="cite xref">RFC8914</a>]</span>; see
> <a href="#reservation-of-extended-dns-error-code-too-early" class="auto internal xref">Section 8.3</a>.<a href="#section-4.5-4.2" class="pilcrow">¶</a>
2039,2041c2053,2055
< message length field in DNS over TCP <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span> and DoT
< <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>, and by the definition of the "application/dns-message" for DoH <span>[<a href="#RFC8484" class="xref">RFC8484</a>]</span>. DoQ enforces the same restriction.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
< <p id="section-4.6-2">The Extension Mechanisms for DNS (EDNS(0)) <span>[<a href="#RFC6891" class="xref">RFC6891</a>]</span> allow peers to specify the
---
> message length field in DNS over TCP <span>[<a href="#RFC1035" class="cite xref">RFC1035</a>]</span> and DoT
> <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>, and by the definition of the "application/dns-message" for DoH <span>[<a href="#RFC8484" class="cite xref">RFC8484</a>]</span>. DoQ enforces the same restriction.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
> <p id="section-4.6-2">The Extension Mechanisms for DNS (EDNS(0)) <span>[<a href="#RFC6891" class="cite xref">RFC6891</a>]</span> allow peers to specify the
2059,2060c2073,2074
< are the same as described in DoT <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> and "Usage Profiles for DNS over
< TLS and DNS over DTLS" <span>[<a href="#RFC8310" class="xref">RFC8310</a>]</span>. <span>[<a href="#RFC8932" class="xref">RFC8932</a>]</span> states that DNS privacy
---
> are the same as described in DoT <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> and "Usage Profiles for DNS over
> TLS and DNS over DTLS" <span>[<a href="#RFC8310" class="cite xref">RFC8310</a>]</span>. <span>[<a href="#RFC8932" class="cite xref">RFC8932</a>]</span> states that DNS privacy
2066c2080
< <span>[<a href="#RFC9103" class="xref">RFC9103</a>]</span>.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC9103" class="cite xref">RFC9103</a>]</span>.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
2079,2080c2093,2094
< <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> and "Usage Profiles for DNS over TLS and DNS over DTLS"
< <span>[<a href="#RFC8310" class="xref">RFC8310</a>]</span>, depending on their usage profile.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> and "Usage Profiles for DNS over TLS and DNS over DTLS"
> <span>[<a href="#RFC8310" class="cite xref">RFC8310</a>]</span>, depending on their usage profile.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
2088c2102
< <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> <span class="bcp14">MAY</span> be more aggressive about retrying after DoQ connection failures.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> <span class="bcp14">MAY</span> be more aggressive about retrying after DoQ connection failures.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
2096c2110
< <p id="section-5.3-1"><span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport specification, defines Address
---
> <p id="section-5.3-1"><span><a href="https://rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport specification, defines Address
2101c2115
< Validation using Retry Packets procedure defined in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-8.1.2" class="relref">Section 8.1.2</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC
---
> Validation using Retry Packets procedure defined in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-8.1.2" class="relref">Section 8.1.2</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC
2104c2118
< the DNS Cookies mechanism <span>[<a href="#RFC7873" class="xref">RFC7873</a>]</span>.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
---
> the DNS Cookies mechanism <span>[<a href="#RFC7873" class="cite xref">RFC7873</a>]</span>.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
2107c2121
< defined in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-8.1.3" class="relref">Section 8.1.3</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport specification.
---
> defined in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-8.1.3" class="relref">Section 8.1.3</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport specification.
2119c2133
< <a href="#traffic-analysis" class="xref">Section 7.5</a> by the judicious injection of padding. This
---
> <a href="#traffic-analysis" class="auto internal xref">Section 7.5</a> by the judicious injection of padding. This
2121,2122c2135,2136
< EDNS(0) Padding Option <span>[<a href="#RFC7830" class="xref">RFC7830</a>]</span> or by padding QUIC packets (see
< <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-19.1" class="relref">Section 19.1</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>).<a href="#section-5.4-1" class="pilcrow">¶</a></p>
---
> EDNS(0) Padding Option <span>[<a href="#RFC7830" class="cite xref">RFC7830</a>]</span> or by padding QUIC packets (see
> <span><a href="https://rfc-editor.org/rfc/rfc9000#section-19.1" class="relref">Section 19.1</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>).<a href="#section-5.4-1" class="pilcrow">¶</a></p>
2137c2151
< in <span>[<a href="#RFC7830" class="xref">RFC7830</a>]</span>.<a href="#section-5.4-3.2" class="pilcrow">¶</a>
---
> in <span>[<a href="#RFC7830" class="cite xref">RFC7830</a>]</span>.<a href="#section-5.4-3.2" class="pilcrow">¶</a>
2145c2159
< Extension Mechanisms for DNS (EDNS(0))" <span>[<a href="#RFC8467" class="xref">RFC8467</a>]</span>. While Experimental,
---
> Extension Mechanisms for DNS (EDNS(0))" <span>[<a href="#RFC8467" class="cite xref">RFC8467</a>]</span>. While Experimental,
2156c2170
< <p id="section-5.5-1">"DNS Transport over TCP - Implementation Requirements" <span>[<a href="#RFC7766" class="xref">RFC7766</a>]</span> provides
---
> <p id="section-5.5-1">"DNS Transport over TCP - Implementation Requirements" <span>[<a href="#RFC7766" class="cite xref">RFC7766</a>]</span> provides
2182c2196
< specified for DNS over TCP <span>[<a href="#RFC7766" class="xref">RFC7766</a>]</span>, in particular with regard to:<a href="#section-5.5.2-2" class="pilcrow">¶</a></p>
---
> specified for DNS over TCP <span>[<a href="#RFC7766" class="cite xref">RFC7766</a>]</span>, in particular with regard to:<a href="#section-5.5.2-2" class="pilcrow">¶</a></p>
2184c2198
< <li class="normal" id="section-5.5.2-3.1">Concurrent Connections (<span><a href="https://www.rfc-editor.org/rfc/rfc7766#section-6.2.2" class="relref">Section 6.2.2</a> of [<a href="#RFC7766" class="xref">RFC7766</a>]</span>, updated by <span><a href="https://www.rfc-editor.org/rfc/rfc9103#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC9103" class="xref">RFC9103</a>]</span>)<a href="#section-5.5.2-3.1" class="pilcrow">¶</a>
---
> <li class="normal" id="section-5.5.2-3.1">Concurrent Connections (<span><a href="https://rfc-editor.org/rfc/rfc7766#section-6.2.2" class="relref">Section 6.2.2</a> of [<a href="#RFC7766" class="cite xref">RFC7766</a>]</span>, updated by <span><a href="https://rfc-editor.org/rfc/rfc9103#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC9103" class="cite xref">RFC9103</a>]</span>)<a href="#section-5.5.2-3.1" class="pilcrow">¶</a>
2186c2200
<             <li class="normal" id="section-5.5.2-3.2">Security Considerations (<span><a href="https://www.rfc-editor.org/rfc/rfc7766#section-10" class="relref">Section 10</a> of [<a href="#RFC7766" class="xref">RFC7766</a>]</span>)<a href="#section-5.5.2-3.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-5.5.2-3.2">Security Considerations (<span><a href="https://rfc-editor.org/rfc/rfc7766#section-10" class="relref">Section 10</a> of [<a href="#RFC7766" class="cite xref">RFC7766</a>]</span>)<a href="#section-5.5.2-3.2" class="pilcrow">¶</a>
2191c2205
< timeout mechanisms defined in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-10.1" class="relref">Section 10.1</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>, the QUIC transport
---
> timeout mechanisms defined in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-10.1" class="relref">Section 10.1</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>, the QUIC transport
2193c2207
< Option <span>[<a href="#RFC7828" class="xref">RFC7828</a>]</span> in any messages sent on a DoQ connection (because it is
---
> Option <span>[<a href="#RFC7828" class="cite xref">RFC7828</a>]</span> in any messages sent on a DoQ connection (because it is
2213c2227
< privacy risks detailed in Sections  <a href="#privacy-issues-with-0-rtt-data" class="xref">7.1</a> and <a href="#privacy-issues-with-session-resumption" class="xref">7.2</a>.
---
> privacy risks detailed in Sections  <a href="#privacy-issues-with-0-rtt-data" class="auto internal xref">7.1</a> and <a href="#privacy-issues-with-session-resumption" class="auto internal xref">7.2</a>.
2216c2230
< restrictions specified in <a href="#session-resumption-and-0-rtt" class="xref">Section 4.5</a>.<a href="#section-5.5.3-2" class="pilcrow">¶</a></p>
---
> restrictions specified in <a href="#session-resumption-and-0-rtt" class="auto internal xref">Section 4.5</a>.<a href="#section-5.5.3-2" class="pilcrow">¶</a></p>
2218c2232
< specified in <span><a href="https://www.rfc-editor.org/rfc/rfc8446#appendix-C.4" class="relref">Appendix C.4</a> of [<a href="#RFC8446" class="xref">RFC8446</a>]</span>. By
---
> specified in <span><a href="https://rfc-editor.org/rfc/rfc8446#appendix-C.4" class="relref">Appendix C.4</a> of [<a href="#RFC8446" class="cite xref">RFC8446</a>]</span>. By
2222,2223c2236,2237
< NEW_TOKEN mechanism; see <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. The associated tracking
< risks are mentioned in <a href="#privacy-issues-with-address-validation-tokens" class="xref">Section 7.3</a>.
---
> NEW_TOKEN mechanism; see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. The associated tracking
> risks are mentioned in <a href="#privacy-issues-with-address-validation-tokens" class="auto internal xref">Section 7.3</a>.
2229c2243
< Servers <span class="bcp14">SHOULD</span> implement the anti-replay mechanisms specified in <span><a href="https://www.rfc-editor.org/rfc/rfc8446#section-8" class="relref">Section 8</a> of [<a href="#RFC8446" class="xref">RFC8446</a>]</span>.<a href="#section-5.5.3-5" class="pilcrow">¶</a></p>
---
> Servers <span class="bcp14">SHOULD</span> implement the anti-replay mechanisms specified in <span><a href="https://rfc-editor.org/rfc/rfc8446#section-8" class="relref">Section 8</a> of [<a href="#RFC8446" class="cite xref">RFC8446</a>]</span>.<a href="#section-5.5.3-5" class="pilcrow">¶</a></p>
2238c2252
< in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. These features enable connections to continue operating
---
> in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. These features enable connections to continue operating
2240c2254
< As detailed in <a href="#privacy-issues-with-long-duration-sessions" class="xref">Section 7.4</a>, these features
---
> As detailed in <a href="#privacy-issues-with-long-duration-sessions" class="auto internal xref">Section 7.4</a>, these features
2252c2266
< <p id="section-5.6-1">As specified in <span><a href="https://www.rfc-editor.org/rfc/rfc7766#section-7" class="relref">Section 7</a> of [<a href="#RFC7766" class="xref">RFC7766</a>]</span> "DNS Transport over TCP - Implementation
---
> <p id="section-5.6-1">As specified in <span><a href="https://rfc-editor.org/rfc/rfc7766#section-7" class="relref">Section 7</a> of [<a href="#RFC7766" class="cite xref">RFC7766</a>]</span> "DNS Transport over TCP - Implementation
2264,2266c2278,2280
< <p id="section-5.7-1"><span>[<a href="#RFC9103" class="xref">RFC9103</a>]</span> specifies zone transfer over TLS (XoT)
< and includes updates to <span>[<a href="#RFC1995" class="xref">RFC1995</a>]</span> (IXFR), <span>[<a href="#RFC5936" class="xref">RFC5936</a>]</span> (AXFR), and
< <span>[<a href="#RFC7766" class="xref">RFC7766</a>]</span>. Considerations relating to the reuse of XoT connections
---
> <p id="section-5.7-1"><span>[<a href="#RFC9103" class="cite xref">RFC9103</a>]</span> specifies zone transfer over TLS (XoT)
> and includes updates to <span>[<a href="#RFC1995" class="cite xref">RFC1995</a>]</span> (IXFR), <span>[<a href="#RFC5936" class="cite xref">RFC5936</a>]</span> (AXFR), and
> <span>[<a href="#RFC7766" class="cite xref">RFC7766</a>]</span>. Considerations relating to the reuse of XoT connections
2302c2316
< <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-4" class="relref">Section 4</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. These mechanisms allow clients and servers to specify
---
> <span><a href="https://rfc-editor.org/rfc/rfc9000#section-4" class="relref">Section 4</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. These mechanisms allow clients and servers to specify
2332c2346
< <p id="section-6-1">A Threat Analysis of the Domain Name System is found in <span>[<a href="#RFC3833" class="xref">RFC3833</a>]</span>.
---
> <p id="section-6-1">A Threat Analysis of the Domain Name System is found in <span>[<a href="#RFC3833" class="cite xref">RFC3833</a>]</span>.
2336c2350
< <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>. DoT as specified in <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> only addresses the stub to recursive scenario, but the considerations about person-in-the-middle
---
> <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>. DoT as specified in <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> only addresses the stub to recursive scenario, but the considerations about person-in-the-middle
2339c2353
< As stated in <a href="#authentication" class="xref">Section 5.1</a>, the authentication requirements for securing zone transfer using DoQ are the same as those for zone transfer over DoT; therefore, the general security considerations are entirely analogous to those described in <span>[<a href="#RFC9103" class="xref">RFC9103</a>]</span>.<a href="#section-6-2" class="pilcrow">¶</a></p>
---
> As stated in <a href="#authentication" class="auto internal xref">Section 5.1</a>, the authentication requirements for securing zone transfer using DoQ are the same as those for zone transfer over DoT; therefore, the general security considerations are entirely analogous to those described in <span>[<a href="#RFC9103" class="cite xref">RFC9103</a>]</span>.<a href="#section-6-2" class="pilcrow">¶</a></p>
2341c2355
< the protections against downgrade attacks described in <span>[<a href="#BCP195" class="xref">BCP195</a>]</span>.
---
> the protections against downgrade attacks described in <span>[<a href="#BCP195" class="cite xref">BCP195</a>]</span>.
2343c2357
< <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-21" class="relref">Section 21</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>.<a href="#section-6-3" class="pilcrow">¶</a></p>
---
> <span><a href="https://rfc-editor.org/rfc/rfc9000#section-21" class="relref">Section 21</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>.<a href="#section-6-3" class="pilcrow">¶</a></p>
2352c2366
< Considerations" <span>[<a href="#RFC9076" class="xref">RFC9076</a>]</span> apply to DoQ. The specific
---
> Considerations" <span>[<a href="#RFC9076" class="cite xref">RFC9076</a>]</span> apply to DoQ. The specific
2355c2369
< Operators" <span>[<a href="#RFC8932" class="xref">RFC8932</a>]</span> (which covers operational, policy, and security
---
> Operators" <span>[<a href="#RFC8932" class="cite xref">RFC8932</a>]</span> (which covers operational, policy, and security
2357c2371
< <p id="section-7-2">QUIC incorporates the mechanisms of TLS 1.3 <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>, and this enables QUIC
---
> <p id="section-7-2">QUIC incorporates the mechanisms of TLS 1.3 <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span>, and this enables QUIC
2368c2382
< <p id="section-7-4">These issues are developed in Sections <a href="#privacy-issues-with-0-rtt-data" class="xref">7.1</a> and <a href="#privacy-issues-with-session-resumption" class="xref">7.2</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
---
> <p id="section-7-4">These issues are developed in Sections <a href="#privacy-issues-with-0-rtt-data" class="auto internal xref">7.1</a> and <a href="#privacy-issues-with-session-resumption" class="auto internal xref">7.2</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
2380c2394
< <span>[<a href="#RFC9076" class="xref">RFC9076</a>]</span>. The attack is partially mitigated by reducing the observability
---
> <span>[<a href="#RFC9076" class="cite xref">RFC9076</a>]</span>. The attack is partially mitigated by reducing the observability
2382c2396
< TLS 1.3 <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> limit but do not eliminate the risk of replay.
---
> TLS 1.3 <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> limit but do not eliminate the risk of replay.
2385c2399
< <p id="section-7.1-3">The recommendation for TLS 1.3 <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> is that the capability to use 0-RTT
---
> <p id="section-7.1-3">The recommendation for TLS 1.3 <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> is that the capability to use 0-RTT
2390,2392c2404,2406
< practical recommendations is provided in Sections <a href="#session-resumption-and-0-rtt" class="xref">4.5</a> and
< <a href="#using-0-rtt-and-session-resumption" class="xref">5.5.3</a>.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
< <p id="section-7.1-4">The specifications in <a href="#session-resumption-and-0-rtt" class="xref">Section 4.5</a> block the most obvious
---
> practical recommendations is provided in Sections <a href="#session-resumption-and-0-rtt" class="auto internal xref">4.5</a> and
> <a href="#using-0-rtt-and-session-resumption" class="auto internal xref">5.5.3</a>.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
> <p id="section-7.1-4">The specifications in <a href="#session-resumption-and-0-rtt" class="auto internal xref">Section 4.5</a> block the most obvious
2416c2430
< <p id="section-7.2-3">The recommendations in <a href="#using-0-rtt-and-session-resumption" class="xref">Section 5.5.3</a> are designed to
---
> <p id="section-7.2-3">The recommendations in <a href="#using-0-rtt-and-session-resumption" class="auto internal xref">Section 5.5.3</a> are designed to
2426c2440
< <p id="section-7.2-5">Encrypted zone transfer (<span>[<a href="#RFC9103" class="xref">RFC9103</a>]</span>) explicitly does
---
> <p id="section-7.2-5">Encrypted zone transfer (<span>[<a href="#RFC9103" class="cite xref">RFC9103</a>]</span>) explicitly does
2438c2452
< <p id="section-7.3-1">QUIC specifies address validation mechanisms in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. Use
---
> <p id="section-7.3-1">QUIC specifies address validation mechanisms in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. Use
2447c2461
< <p id="section-7.3-2">The recommendations in <a href="#using-0-rtt-and-session-resumption" class="xref">Section 5.5.3</a> mitigates
---
> <p id="section-7.3-2">The recommendations in <a href="#using-0-rtt-and-session-resumption" class="auto internal xref">Section 5.5.3</a> mitigates
2469c2483
< <p id="section-7.4-3">The recommendation in <a href="#controlling-connection-migration-for-privacy" class="xref">Section 5.5.4</a> mitigates
---
> <p id="section-7.4-3">The recommendation in <a href="#controlling-connection-migration-for-privacy" class="auto internal xref">Section 5.5.4</a> mitigates
2485c2499
< <p id="section-7.5-2">Implementations <span class="bcp14">SHOULD</span> use the mechanisms defined in <a href="#padding" class="xref">Section 5.4</a> to mitigate
---
> <p id="section-7.5-2">Implementations <span class="bcp14">SHOULD</span> use the mechanisms defined in <a href="#padding" class="auto internal xref">Section 5.4</a> to mitigate
2503c2517
< <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span>.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
---
> <span>[<a href="#RFC7301" class="cite xref">RFC7301</a>]</span>.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
2533c2547
< protocol run over TLS/DTLS" <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
---
> protocol run over TLS/DTLS" <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
2535c2549
< <span>[<a href="#RFC8094" class="xref">RFC8094</a>]</span> is experimental, limited to stub to resolver, and no
---
> <span>[<a href="#RFC8094" class="cite xref">RFC8094</a>]</span> is experimental, limited to stub to resolver, and no
2540c2554
< the same port, including DTLS; see <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-17.2" class="relref">Section 17.2</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>. This means
---
> the same port, including DTLS; see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-17.2" class="relref">Section 17.2</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>. This means
2544c2558
< signatures of future versions or extensions (e.g., <span>[<a href="#I-D.ietf-quic-bit-grease" class="xref">GREASING-QUIC</a>]</span>)
---
> signatures of future versions or extensions (e.g., <span>[<a href="#I-D.ietf-quic-bit-grease" class="cite xref">GREASING-QUIC</a>]</span>)
2548c2562
< requires IETF Review or IESG Approval <span>[<a href="#RFC6335" class="xref">RFC6335</a>]</span>.<a href="#section-8.2-4" class="pilcrow">¶</a></p>
---
> requires IETF Review or IESG Approval <span>[<a href="#RFC6335" class="cite xref">RFC6335</a>]</span>.<a href="#section-8.2-4" class="pilcrow">¶</a></p>
2589c2603
<             <p id="section-8.2-5.14.1"><span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span><span>[<a href="#RFC8094" class="xref">RFC8094</a>]</span> This document<a href="#section-8.2-5.14.1" class="pilcrow">¶</a></p>
---
>             <p id="section-8.2-5.14.1"><span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span><span>[<a href="#RFC8094" class="cite xref">RFC8094</a>]</span> This document<a href="#section-8.2-5.14.1" class="pilcrow">¶</a></p>
2595c2609
< over TLS" and removed <span>[<a href="#RFC8094" class="xref">RFC8094</a>]</span> from the TCP allocation's Reference field for consistency and clarity.<a href="#section-8.2-6" class="pilcrow">¶</a></p>
---
> over TLS" and removed <span>[<a href="#RFC8094" class="cite xref">RFC8094</a>]</span> from the TCP allocation's Reference field for consistency and clarity.<a href="#section-8.2-6" class="pilcrow">¶</a></p>
2604c2618
< the "Extended DNS Error Codes" registry <span>[<a href="#RFC8914" class="xref">RFC8914</a>]</span>:<a href="#section-8.3-1" class="pilcrow">¶</a></p>
---
> the "Extended DNS Error Codes" registry <span>[<a href="#RFC8914" class="cite xref">RFC8914</a>]</span>:<a href="#section-8.3-1" class="pilcrow">¶</a></p>
2639c2653
< defined in Sections <a href="https://www.rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://www.rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span><a href="#section-8.4-3.1" class="pilcrow">¶</a>
---
> defined in Sections <a href="https://rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span><a href="#section-8.4-3.1" class="pilcrow">¶</a>
2642c2656
< using the Specification Required policy (<span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>)<a href="#section-8.4-3.2" class="pilcrow">¶</a>
---
> using the Specification Required policy (<span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>)<a href="#section-8.4-3.2" class="pilcrow">¶</a>
2645c2659
< Review, as defined in <span><a href="https://www.rfc-editor.org/rfc/rfc8126#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-8.4-3.3" class="pilcrow">¶</a>
---
> Review, as defined in <span><a href="https://rfc-editor.org/rfc/rfc8126#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>.<a href="#section-8.4-3.3" class="pilcrow">¶</a>
2652c2666
< set in <span><a href="https://www.rfc-editor.org/rfc/rfc9000#section-22" class="relref">Section 22</a> of [<a href="#RFC9000" class="xref">RFC9000</a>]</span>.)<a href="#section-8.4-4" class="pilcrow">¶</a></p>
---
> set in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-22" class="relref">Section 22</a> of [<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>.)<a href="#section-8.4-4" class="pilcrow">¶</a></p>
2710c2724
< <p id="section-8.4-12">The initial content of this registry is shown in <a href="#iana-error-table" class="xref">Table 1</a> and all
---
> <p id="section-8.4-12">The initial content of this registry is shown in <a href="#iana-error-table" class="auto internal xref">Table 1</a> and all
2728c2742
<             <p id="section-8.4-13.6.1"><a href="#doq-error-codes" class="xref">Section 4.3</a><a href="#section-8.4-13.6.1" class="pilcrow">¶</a></p>
---
>             <p id="section-8.4-13.6.1"><a href="#doq-error-codes" class="auto internal xref">Section 4.3</a><a href="#section-8.4-13.6.1" class="pilcrow">¶</a></p>
2883c2897
<             <span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Holz, R.</span>, and <span class="refAuthor">P. Saint-Andre</span>, <span class="refTitle">"Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 7525</span>, <time datetime="2015-05" class="refDate">May 2015</time>. </div>
---
>             <span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Holz, R.</span>, and <span class="refAuthor">P. Saint-Andre</span>, <span class="refTitle">"Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 7525</span>, <span class="seriesInfo">DOI 10.17487/RFC7525</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7525">https://www.rfc-editor.org/info/rfc7525</a>&gt;</span>. </div>
2885c2899
<             <span class="refAuthor">Moriarty, K.</span> and <span class="refAuthor">S. Farrell</span>, <span class="refTitle">"Deprecating TLS 1.0 and TLS 1.1"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 8996</span>, <time datetime="2021-03" class="refDate">March 2021</time>. </div>
---
>             <span class="refAuthor">Moriarty, K.</span> and <span class="refAuthor">S. Farrell</span>, <span class="refTitle">"Deprecating TLS 1.0 and TLS 1.1"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 8996</span>, <span class="seriesInfo">DOI 10.17487/RFC8996</span>, <time datetime="2021-03" class="refDate">March 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8996">https://www.rfc-editor.org/info/rfc8996</a>&gt;</span>. </div>
2958,2959c2972,2973
< (see <span>[<a href="#RFC1996" class="xref">RFC1996</a>]</span>) in 0-RTT data.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
< <p id="appendix-A-2"><a href="#session-resumption-and-0-rtt" class="xref">Section 4.5</a> says "The 0-RTT mechanism <span class="bcp14">MUST NOT</span>
---
> (see <span>[<a href="#RFC1996" class="cite xref">RFC1996</a>]</span>) in 0-RTT data.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
> <p id="appendix-A-2"><a href="#session-resumption-and-0-rtt" class="auto internal xref">Section 4.5</a> says "The 0-RTT mechanism <span class="bcp14">MUST NOT</span>
2970c2984
< <p id="appendix-A-4"><span>[<a href="#RFC9103" class="xref">RFC9103</a>]</span> describes the privacy risks associated with both NOTIFY and SOA queries
---
> <p id="appendix-A-4"><span>[<a href="#RFC9103" class="cite xref">RFC9103</a>]</span> describes the privacy risks associated with both NOTIFY and SOA queries
2983c2997
<       <span>[<a href="#I-D.ietf-quic-http" class="xref">HTTP/3</a>]</span> edited by <span class="contact-name">Mike       Bishop</span> and from the DoT specification <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> authored by <span class="contact-name">Zi Hu</span>, <span class="contact-name">Liang Zhu</span>, <span class="contact-name">John Heidemann</span>, <span class="contact-name">Allison       Mankin</span>, <span class="contact-name">Duane Wessels</span>, and <span class="contact-name">Paul Hoffman</span>.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
---
>       <span>[<a href="#I-D.ietf-quic-http" class="cite xref">HTTP/3</a>]</span> edited by <span class="contact-name">Mike       Bishop</span> and from the DoT specification <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> authored by <span class="contact-name">Zi Hu</span>, <span class="contact-name">Liang Zhu</span>, <span class="contact-name">John Heidemann</span>, <span class="contact-name">Allison       Mankin</span>, <span class="contact-name">Duane Wessels</span>, and <span class="contact-name">Paul Hoffman</span>.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
2986c3000
<       Working Group <span>[<a href="#DNS0RTT" class="xref">DNS0RTT</a>]</span>.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
---
>       Working Group <span>[<a href="#DNS0RTT" class="cite xref">DNS0RTT</a>]</span>.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
