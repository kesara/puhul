29c29
< <meta content="xml2rfc 2.43.0" name="generator">
---
> <meta content="xml2rfc 3.19.1" name="generator">
65c65,81
< <link href="rfc8724.xml" rel="alternate" type="application/rfc+xml">
---
> <!-- Generator version information:
>   xml2rfc 3.19.1
>     Python 3.11.7
>     ConfigArgParse 1.7
>     google-i18n-address 3.1.0
>     intervaltree 3.1.0
>     Jinja2 3.1.3
>     lxml 4.9.4
>     platformdirs 4.1.0
>     pycountry 23.12.11
>     PyYAML 6.0.1
>     requests 2.31.0
>     setuptools 65.5.0
>     six 1.16.0
>     wcwidth 0.2.13
> -->
> <link href="rfc/rfc8724.xml" rel="alternate" type="application/rfc+xml">
75c91
<   commented changes found necssary during the development of the v3
---
>   commented changes found necessary during the development of the v3
84a101,106
> :root {
>   --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
>   --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
>   --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
> }
> 
87d108
<   width: extend-to-zoom;
102c123
<   font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
---
>   font-family: var(--font-sans);
104a126
>   overflow-wrap: break-word;
190a213,221
> svg[font-family~="serif" i], svg [font-family~="serif" i] {
>   font-family: var(--font-serif);
> }
> svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
>   font-family: var(--font-sans);
> }
> svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
>   font-family: var(--font-mono);
> }
205,208d235
<   border: none;
<   /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
<      support flexbox yet.
<   */
209a237
>   border: none;
232a261,263
> ul.ulBare, li.ulBare {
>   margin-left: 0em !important;
> }
284c315
< tt, code, pre, code {
---
> tt, code, pre {
286c317
<   font-family: 'Roboto Mono', monospace;
---
>   font-family: var(--font-mono);
325a357,359
> blockquote > *:last-child {
>   margin-bottom: 0;
> }
415a450,455
> /* Fix PDF info block run off issue */
> @media print {
>   #identifiers dd {
>     float: none;
>   }
> }
517c557
<   font-family: "Noto Sans",Arial,Helvetica,sans-serif;
---
>   font-family: var(--font-sans);
657d696
< 
679a719,721
>   .breakable pre {
>     break-inside: auto;
>   }
747c789
<   /* The follwing is commented out here, but set appropriately by in code, as
---
>   /* The following is commented out here, but set appropriately by in code, as
847c889
< tt, code, pre, code {
---
> tt, code, pre {
852c894
< pre.sourcecode,
---
> .sourcecode pre,
888c930
< /* Make the alternative author contact informatio look less like just another
---
> /* Make the alternative author contact information look less like just another
966,971d1007
< /* Avoid wrapping of URLs in references */
< @media screen {
<   .references a {
<     white-space: nowrap;
<   }
< }
1075a1112
>   .artwork > pre,
1090c1127
< and increase the contrast between border and odd row background sligthtly */
---
> and increase the contrast between border and odd row background slightly */
1096a1134,1136
> tr {
>   break-inside: avoid;
> }
1116c1156
<   break-before: avoid-page;
---
>   break-before: auto;
1120a1161
>   break-before: auto;
1125d1165
<   break-inside: avoid-page;
1130d1169
<   break-inside: avoid-page;
1131a1171,1172
>   orphans: 3;
>   widows: 3
1133c1174
< dd.break {
---
> span.break, dd.break {
1145c1186,1247
< }</style>
---
> }
> /* Text in compact lists should not get extra bottom margin space,
>    since that would makes the list not compact */
> ul.compact p, .ulCompact p,
> ol.compact p, .olCompact p {
>  margin: 0;
> }
> /* But the list as a whole needs the extra space at the end */
> section ul.compact,
> section .ulCompact,
> section ol.compact,
> section .olCompact {
>   margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
> }
> /* The tt and code background above interferes with for instance table cell
>    backgrounds.  Changed to something a bit more selective. */
> tt, code {
>   background-color: transparent;
> }
> p tt, p code, li tt, li code {
>   background-color: #f8f8f8;
> }
> /* Tweak the pre margin -- 0px doesn't come out well */
> pre {
>    margin-top: 0.5px;
> }
> /* Tweak the compact list text */
> ul.compact, .ulCompact,
> ol.compact, .olCompact,
> dl.compact, .dlCompact {
>   line-height: normal;
> }
> /* Don't add top margin for nested lists */
> li > ul, li > ol, li > dl,
> dd > ul, dd > ol, dd > dl,
> dl > dd > dl {
>   margin-top: initial;
> }
> /* Elements that should not be rendered on the same line as a <dt> */
> /* This should match the element list in writer.text.TextWriter.render_dl() */
> dd > div.artwork:first-child,
> dd > aside:first-child,
> dd > figure:first-child,
> dd > ol:first-child,
> dd > div.sourcecode:first-child,
> dd > table:first-child,
> dd > ul:first-child {
>   clear: left;
> }
> /* fix for weird browser behaviour when <dd/> is empty */
> dt+dd:empty::before{
>   content: "\00a0";
> }
> /* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
> li > p {
>   margin-bottom: 0.5em
> }
> /* Don't let p margin spill out from inside list items */
> li > p:last-of-type:only-child {
>   margin-bottom: 0;
> }
> </style>
1146a1249
> <link href="https://datatracker.ietf.org/doc/draft-ietf-lpwan-ipv6-static-context-hc-24" rel="prev">
1149c1252
<   <link href="https://datatracker.ietf.org/doc/draft-ietf-lpwan-ipv6-static-context-hc-24" rel="prev">
---
>   <script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
1151,1152c1254,1255
< <body>
< <script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
---
> <body class="xml2rfc">
> <script src="metadata.min.js"></script>
1269,1271c1372,1374
< <nav class="toc"><ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.1">
<             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
---
> <nav class="toc"><ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
>             <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
1273,1274c1376,1377
< <li class="toc ulEmpty" id="section-toc.1-1.2">
<             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-requirements-notation" class="xref">Requirements Notation</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
>             <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-requirements-notation" class="internal xref">Requirements Notation</a></p>
1276,1277c1379,1380
< <li class="toc ulEmpty" id="section-toc.1-1.3">
<             <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-lpwan-architecture" class="xref">LPWAN Architecture</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
>             <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-lpwan-architecture" class="internal xref">LPWAN Architecture</a></p>
1279,1280c1382,1383
< <li class="toc ulEmpty" id="section-toc.1-1.4">
<             <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
>             <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
1282,1286c1385,1389
< <li class="toc ulEmpty" id="section-toc.1-1.5">
<             <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-schc-overview" class="xref">SCHC Overview</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.5.2.1">
<                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-schc-packet-format" class="xref">SCHC Packet Format</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
>             <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-schc-overview" class="internal xref">SCHC Overview</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
>                 <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-schc-packet-format" class="internal xref">SCHC Packet Format</a></p>
1288,1289c1391,1392
< <li class="toc ulEmpty" id="section-toc.1-1.5.2.2">
<                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-functional-mapping" class="xref">Functional Mapping</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
>                 <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-functional-mapping" class="internal xref">Functional Mapping</a></p>
1293,1294c1396,1397
< <li class="toc ulEmpty" id="section-toc.1-1.6">
<             <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-ruleid" class="xref">RuleID</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
>             <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-ruleid" class="internal xref">RuleID</a></p>
1296,1300c1399,1403
< <li class="toc ulEmpty" id="section-toc.1-1.7">
<             <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-compression-decompression" class="xref">Compression/Decompression</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
<                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-schc-c-d-rules" class="xref">SCHC C/D Rules</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
>             <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-compression-decompression" class="internal xref">Compression/Decompression</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
>                 <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-schc-c-d-rules" class="internal xref">SCHC C/D Rules</a></p>
1302,1303c1405,1406
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.2">
<                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-packet-processing" class="xref">Packet Processing</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
>                 <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-packet-processing" class="internal xref">Packet Processing</a></p>
1305,1306c1408,1409
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.3">
<                 <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-matching-operators" class="xref">Matching Operators</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
>                 <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-matching-operators" class="internal xref">Matching Operators</a></p>
1308,1312c1411,1415
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4">
<                 <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-compression-decompression-a" class="xref">Compression/Decompression Actions (CDA)</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.1">
<                     <p id="section-toc.1-1.7.2.4.2.1.1"><a href="#section-7.4.1" class="xref">7.4.1</a>.  <a href="#name-processing-fixed-length-fie" class="xref">Processing Fixed-Length Fields</a><a href="#section-toc.1-1.7.2.4.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
>                 <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-compression-decompression-a" class="internal xref">Compression/Decompression Actions (CDA)</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.1">
>                     <p id="section-toc.1-1.7.2.4.2.1.1"><a href="#section-7.4.1" class="auto internal xref">7.4.1</a>.  <a href="#name-processing-fixed-length-fie" class="internal xref">Processing Fixed-Length Fields</a></p>
1314,1315c1417,1418
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.2">
<                     <p id="section-toc.1-1.7.2.4.2.2.1"><a href="#section-7.4.2" class="xref">7.4.2</a>.  <a href="#name-processing-variable-length-" class="xref">Processing Variable-Length Fields</a><a href="#section-toc.1-1.7.2.4.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.2">
>                     <p id="section-toc.1-1.7.2.4.2.2.1"><a href="#section-7.4.2" class="auto internal xref">7.4.2</a>.  <a href="#name-processing-variable-length-" class="internal xref">Processing Variable-Length Fields</a></p>
1317,1318c1420,1421
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.3">
<                     <p id="section-toc.1-1.7.2.4.2.3.1"><a href="#section-7.4.3" class="xref">7.4.3</a>.  <a href="#name-not-sent-cda" class="xref">Not-Sent CDA</a><a href="#section-toc.1-1.7.2.4.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.3">
>                     <p id="section-toc.1-1.7.2.4.2.3.1"><a href="#section-7.4.3" class="auto internal xref">7.4.3</a>.  <a href="#name-not-sent-cda" class="internal xref">Not-Sent CDA</a></p>
1320,1321c1423,1424
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.4">
<                     <p id="section-toc.1-1.7.2.4.2.4.1"><a href="#section-7.4.4" class="xref">7.4.4</a>.  <a href="#name-value-sent-cda" class="xref">Value-Sent CDA</a><a href="#section-toc.1-1.7.2.4.2.4.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.4">
>                     <p id="section-toc.1-1.7.2.4.2.4.1"><a href="#section-7.4.4" class="auto internal xref">7.4.4</a>.  <a href="#name-value-sent-cda" class="internal xref">Value-Sent CDA</a></p>
1323,1324c1426,1427
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.5">
<                     <p id="section-toc.1-1.7.2.4.2.5.1"><a href="#section-7.4.5" class="xref">7.4.5</a>.  <a href="#name-mapping-sent-cda" class="xref">Mapping-Sent CDA</a><a href="#section-toc.1-1.7.2.4.2.5.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.5">
>                     <p id="section-toc.1-1.7.2.4.2.5.1"><a href="#section-7.4.5" class="auto internal xref">7.4.5</a>.  <a href="#name-mapping-sent-cda" class="internal xref">Mapping-Sent CDA</a></p>
1326,1327c1429,1430
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.6">
<                     <p id="section-toc.1-1.7.2.4.2.6.1"><a href="#section-7.4.6" class="xref">7.4.6</a>.  <a href="#name-lsb-cda" class="xref">LSB CDA</a><a href="#section-toc.1-1.7.2.4.2.6.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.6">
>                     <p id="section-toc.1-1.7.2.4.2.6.1"><a href="#section-7.4.6" class="auto internal xref">7.4.6</a>.  <a href="#name-lsb-cda" class="internal xref">LSB CDA</a></p>
1329,1330c1432,1433
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.7">
<                     <p id="section-toc.1-1.7.2.4.2.7.1"><a href="#section-7.4.7" class="xref">7.4.7</a>.  <a href="#name-deviid-appiid-cda" class="xref">DevIID, AppIID CDA</a><a href="#section-toc.1-1.7.2.4.2.7.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.7">
>                     <p id="section-toc.1-1.7.2.4.2.7.1"><a href="#section-7.4.7" class="auto internal xref">7.4.7</a>.  <a href="#name-deviid-appiid-cda" class="internal xref">DevIID, AppIID CDA</a></p>
1332,1333c1435,1436
< <li class="toc ulEmpty" id="section-toc.1-1.7.2.4.2.8">
<                     <p id="section-toc.1-1.7.2.4.2.8.1"><a href="#section-7.4.8" class="xref">7.4.8</a>.  <a href="#name-compute-" class="xref">Compute-*</a><a href="#section-toc.1-1.7.2.4.2.8.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.8">
>                     <p id="section-toc.1-1.7.2.4.2.8.1"><a href="#section-7.4.8" class="auto internal xref">7.4.8</a>.  <a href="#name-compute-" class="internal xref">Compute-*</a></p>
1339,1343c1442,1446
< <li class="toc ulEmpty" id="section-toc.1-1.8">
<             <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-fragmentation-reassembly" class="xref">Fragmentation/Reassembly</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
<                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-overview" class="xref">Overview</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
>             <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-fragmentation-reassembly" class="internal xref">Fragmentation/Reassembly</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
>                 <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
1345,1349c1448,1452
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
<                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-schc-f-r-protocol-elements" class="xref">SCHC F/R Protocol Elements</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.2.2.1">
<                     <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="xref">8.2.1</a>.  <a href="#name-messages" class="xref">Messages</a><a href="#section-toc.1-1.8.2.2.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
>                 <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-schc-f-r-protocol-elements" class="internal xref">SCHC F/R Protocol Elements</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
>                     <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="auto internal xref">8.2.1</a>.  <a href="#name-messages" class="internal xref">Messages</a></p>
1351,1352c1454,1455
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.2.2.2">
<                     <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="xref">8.2.2</a>.  <a href="#name-tiles-windows-bitmaps-timer" class="xref">Tiles, Windows, Bitmaps, Timers, Counters</a><a href="#section-toc.1-1.8.2.2.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
>                     <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="auto internal xref">8.2.2</a>.  <a href="#name-tiles-windows-bitmaps-timer" class="internal xref">Tiles, Windows, Bitmaps, Timers, Counters</a></p>
1354,1355c1457,1458
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.2.2.3">
<                     <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="xref">8.2.3</a>.  <a href="#name-integrity-checking" class="xref">Integrity Checking</a><a href="#section-toc.1-1.8.2.2.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.3">
>                     <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="auto internal xref">8.2.3</a>.  <a href="#name-integrity-checking" class="internal xref">Integrity Checking</a></p>
1357,1358c1460,1461
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.2.2.4">
<                     <p id="section-toc.1-1.8.2.2.2.4.1"><a href="#section-8.2.4" class="xref">8.2.4</a>.  <a href="#name-header-fields" class="xref">Header Fields</a><a href="#section-toc.1-1.8.2.2.2.4.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.4">
>                     <p id="section-toc.1-1.8.2.2.2.4.1"><a href="#section-8.2.4" class="auto internal xref">8.2.4</a>.  <a href="#name-header-fields" class="internal xref">Header Fields</a></p>
1362,1366c1465,1469
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3">
<                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-schc-f-r-message-formats" class="xref">SCHC F/R Message Formats</a><a href="#section-toc.1-1.8.2.3.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3.2.1">
<                     <p id="section-toc.1-1.8.2.3.2.1.1"><a href="#section-8.3.1" class="xref">8.3.1</a>.  <a href="#name-schc-fragment-format" class="xref">SCHC Fragment Format</a><a href="#section-toc.1-1.8.2.3.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
>                 <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-schc-f-r-message-formats" class="internal xref">SCHC F/R Message Formats</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.1">
>                     <p id="section-toc.1-1.8.2.3.2.1.1"><a href="#section-8.3.1" class="auto internal xref">8.3.1</a>.  <a href="#name-schc-fragment-format" class="internal xref">SCHC Fragment Format</a></p>
1368,1369c1471,1472
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3.2.2">
<                     <p id="section-toc.1-1.8.2.3.2.2.1"><a href="#section-8.3.2" class="xref">8.3.2</a>.  <a href="#name-schc-ack-format" class="xref">SCHC ACK Format</a><a href="#section-toc.1-1.8.2.3.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.2">
>                     <p id="section-toc.1-1.8.2.3.2.2.1"><a href="#section-8.3.2" class="auto internal xref">8.3.2</a>.  <a href="#name-schc-ack-format" class="internal xref">SCHC ACK Format</a></p>
1371,1372c1474,1475
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3.2.3">
<                     <p id="section-toc.1-1.8.2.3.2.3.1"><a href="#section-8.3.3" class="xref">8.3.3</a>.  <a href="#name-schc-ack-req-format" class="xref">SCHC ACK REQ Format</a><a href="#section-toc.1-1.8.2.3.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.3">
>                     <p id="section-toc.1-1.8.2.3.2.3.1"><a href="#section-8.3.3" class="auto internal xref">8.3.3</a>.  <a href="#name-schc-ack-req-format" class="internal xref">SCHC ACK REQ Format</a></p>
1374,1375c1477,1478
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3.2.4">
<                     <p id="section-toc.1-1.8.2.3.2.4.1"><a href="#section-8.3.4" class="xref">8.3.4</a>.  <a href="#name-schc-sender-abort-format" class="xref">SCHC Sender-Abort Format</a><a href="#section-toc.1-1.8.2.3.2.4.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.4">
>                     <p id="section-toc.1-1.8.2.3.2.4.1"><a href="#section-8.3.4" class="auto internal xref">8.3.4</a>.  <a href="#name-schc-sender-abort-format" class="internal xref">SCHC Sender-Abort Format</a></p>
1377,1378c1480,1481
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.3.2.5">
<                     <p id="section-toc.1-1.8.2.3.2.5.1"><a href="#section-8.3.5" class="xref">8.3.5</a>.  <a href="#name-schc-receiver-abort-format" class="xref">SCHC Receiver-Abort Format</a><a href="#section-toc.1-1.8.2.3.2.5.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.5">
>                     <p id="section-toc.1-1.8.2.3.2.5.1"><a href="#section-8.3.5" class="auto internal xref">8.3.5</a>.  <a href="#name-schc-receiver-abort-format" class="internal xref">SCHC Receiver-Abort Format</a></p>
1382,1386c1485,1489
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.4">
<                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-schc-f-r-modes" class="xref">SCHC F/R Modes</a><a href="#section-toc.1-1.8.2.4.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.4.2.1">
<                     <p id="section-toc.1-1.8.2.4.2.1.1"><a href="#section-8.4.1" class="xref">8.4.1</a>.  <a href="#name-no-ack-mode" class="xref">No-ACK Mode</a><a href="#section-toc.1-1.8.2.4.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
>                 <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-schc-f-r-modes" class="internal xref">SCHC F/R Modes</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4.2.1">
>                     <p id="section-toc.1-1.8.2.4.2.1.1"><a href="#section-8.4.1" class="auto internal xref">8.4.1</a>.  <a href="#name-no-ack-mode" class="internal xref">No-ACK Mode</a></p>
1388,1389c1491,1492
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.4.2.2">
<                     <p id="section-toc.1-1.8.2.4.2.2.1"><a href="#section-8.4.2" class="xref">8.4.2</a>.  <a href="#name-ack-always-mode" class="xref">ACK-Always Mode</a><a href="#section-toc.1-1.8.2.4.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4.2.2">
>                     <p id="section-toc.1-1.8.2.4.2.2.1"><a href="#section-8.4.2" class="auto internal xref">8.4.2</a>.  <a href="#name-ack-always-mode" class="internal xref">ACK-Always Mode</a></p>
1391,1392c1494,1495
< <li class="toc ulEmpty" id="section-toc.1-1.8.2.4.2.3">
<                     <p id="section-toc.1-1.8.2.4.2.3.1"><a href="#section-8.4.3" class="xref">8.4.3</a>.  <a href="#name-ack-on-error-mode" class="xref">ACK-on-Error Mode</a><a href="#section-toc.1-1.8.2.4.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4.2.3">
>                     <p id="section-toc.1-1.8.2.4.2.3.1"><a href="#section-8.4.3" class="auto internal xref">8.4.3</a>.  <a href="#name-ack-on-error-mode" class="internal xref">ACK-on-Error Mode</a></p>
1398,1399c1501,1502
< <li class="toc ulEmpty" id="section-toc.1-1.9">
<             <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-padding-management" class="xref">Padding Management</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
>             <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-padding-management" class="internal xref">Padding Management</a></p>
1401,1405c1504,1508
< <li class="toc ulEmpty" id="section-toc.1-1.10">
<             <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-schc-compression-for-ipv6-a" class="xref">SCHC Compression for IPv6 and UDP Headers</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.1">
<                 <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-ipv6-version-field" class="xref">IPv6 Version Field</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
>             <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-schc-compression-for-ipv6-a" class="internal xref">SCHC Compression for IPv6 and UDP Headers</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
>                 <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-ipv6-version-field" class="internal xref">IPv6 Version Field</a></p>
1407,1408c1510,1511
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.2">
<                 <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-ipv6-traffic-class-field" class="xref">IPv6 Traffic Class Field</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
>                 <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-ipv6-traffic-class-field" class="internal xref">IPv6 Traffic Class Field</a></p>
1410,1411c1513,1514
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.3">
<                 <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-flow-label-field" class="xref">Flow Label Field</a><a href="#section-toc.1-1.10.2.3.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
>                 <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-flow-label-field" class="internal xref">Flow Label Field</a></p>
1413,1414c1516,1517
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.4">
<                 <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-payload-length-field" class="xref">Payload Length Field</a><a href="#section-toc.1-1.10.2.4.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
>                 <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-payload-length-field" class="internal xref">Payload Length Field</a></p>
1416,1417c1519,1520
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.5">
<                 <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-next-header-field" class="xref">Next Header Field</a><a href="#section-toc.1-1.10.2.5.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
>                 <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-next-header-field" class="internal xref">Next Header Field</a></p>
1419,1420c1522,1523
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.6">
<                 <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-hop-limit-field" class="xref">Hop Limit Field</a><a href="#section-toc.1-1.10.2.6.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
>                 <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="auto internal xref">10.6</a>.  <a href="#name-hop-limit-field" class="internal xref">Hop Limit Field</a></p>
1422,1426c1525,1529
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.7">
<                 <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-ipv6-addresses-fields" class="xref">IPv6 Addresses Fields</a><a href="#section-toc.1-1.10.2.7.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.7.2.1">
<                     <p id="section-toc.1-1.10.2.7.2.1.1"><a href="#section-10.7.1" class="xref">10.7.1</a>.  <a href="#name-ipv6-source-and-destination" class="xref">IPv6 Source and Destination Prefixes</a><a href="#section-toc.1-1.10.2.7.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
>                 <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="auto internal xref">10.7</a>.  <a href="#name-ipv6-addresses-fields" class="internal xref">IPv6 Addresses Fields</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7.2.1">
>                     <p id="section-toc.1-1.10.2.7.2.1.1"><a href="#section-10.7.1" class="auto internal xref">10.7.1</a>.  <a href="#name-ipv6-source-and-destination" class="internal xref">IPv6 Source and Destination Prefixes</a></p>
1428,1429c1531,1532
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.7.2.2">
<                     <p id="section-toc.1-1.10.2.7.2.2.1"><a href="#section-10.7.2" class="xref">10.7.2</a>.  <a href="#name-ipv6-source-and-destination-" class="xref">IPv6 Source and Destination IID</a><a href="#section-toc.1-1.10.2.7.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7.2.2">
>                     <p id="section-toc.1-1.10.2.7.2.2.1"><a href="#section-10.7.2" class="auto internal xref">10.7.2</a>.  <a href="#name-ipv6-source-and-destination-" class="internal xref">IPv6 Source and Destination IID</a></p>
1433,1434c1536,1537
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.8">
<                 <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="xref">10.8</a>.  <a href="#name-ipv6-extension-headers" class="xref">IPv6 Extension Headers</a><a href="#section-toc.1-1.10.2.8.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
>                 <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="auto internal xref">10.8</a>.  <a href="#name-ipv6-extension-headers" class="internal xref">IPv6 Extension Headers</a></p>
1436,1437c1539,1540
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.9">
<                 <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="xref">10.9</a>.  <a href="#name-udp-source-and-destination-" class="xref">UDP Source and Destination Ports</a><a href="#section-toc.1-1.10.2.9.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.9">
>                 <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="auto internal xref">10.9</a>.  <a href="#name-udp-source-and-destination-" class="internal xref">UDP Source and Destination Ports</a></p>
1439,1440c1542,1543
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.10">
<                 <p id="section-toc.1-1.10.2.10.1"><a href="#section-10.10" class="xref">10.10</a>. <a href="#name-udp-length-field" class="xref">UDP Length Field</a><a href="#section-toc.1-1.10.2.10.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.10">
>                 <p id="section-toc.1-1.10.2.10.1"><a href="#section-10.10" class="auto internal xref">10.10</a>. <a href="#name-udp-length-field" class="internal xref">UDP Length Field</a></p>
1442,1443c1545,1546
< <li class="toc ulEmpty" id="section-toc.1-1.10.2.11">
<                 <p id="section-toc.1-1.10.2.11.1"><a href="#section-10.11" class="xref">10.11</a>. <a href="#name-udp-checksum-field" class="xref">UDP Checksum Field</a><a href="#section-toc.1-1.10.2.11.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.11">
>                 <p id="section-toc.1-1.10.2.11.1"><a href="#section-10.11" class="auto internal xref">10.11</a>. <a href="#name-udp-checksum-field" class="internal xref">UDP Checksum Field</a></p>
1447,1448c1550,1551
< <li class="toc ulEmpty" id="section-toc.1-1.11">
<             <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
>             <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
1450,1457c1553,1560
< <li class="toc ulEmpty" id="section-toc.1-1.12">
<             <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.1">
<                 <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-security-considerations-for" class="xref">Security Considerations for SCHC Compression/Decompression</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.1.2.1">
<                     <p id="section-toc.1-1.12.2.1.2.1.1"><a href="#section-12.1.1" class="xref">12.1.1</a>.  <a href="#name-forged-schc-packet" class="xref">Forged SCHC Packet</a><a href="#section-toc.1-1.12.2.1.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
>             <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
>                 <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-security-considerations-for" class="internal xref">Security Considerations for SCHC Compression/Decompression</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.1">
>                     <p id="section-toc.1-1.12.2.1.2.1.1"><a href="#section-12.1.1" class="auto internal xref">12.1.1</a>.  <a href="#name-forged-schc-packet" class="internal xref">Forged SCHC Packet</a></p>
1459,1460c1562,1563
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.1.2.2">
<                     <p id="section-toc.1-1.12.2.1.2.2.1"><a href="#section-12.1.2" class="xref">12.1.2</a>.  <a href="#name-compressed-packet-size-as-a" class="xref">Compressed Packet Size as a Side Channel to Guess a Secret Token</a><a href="#section-toc.1-1.12.2.1.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.2">
>                     <p id="section-toc.1-1.12.2.1.2.2.1"><a href="#section-12.1.2" class="auto internal xref">12.1.2</a>.  <a href="#name-compressed-packet-size-as-a" class="internal xref">Compressed Packet Size as a Side Channel to Guess a Secret Token</a></p>
1462,1463c1565,1566
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.1.2.3">
<                     <p id="section-toc.1-1.12.2.1.2.3.1"><a href="#section-12.1.3" class="xref">12.1.3</a>.  <a href="#name-decompressed-packet-differe" class="xref">Decompressed Packet Different from the Original Packet</a><a href="#section-toc.1-1.12.2.1.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1.2.3">
>                     <p id="section-toc.1-1.12.2.1.2.3.1"><a href="#section-12.1.3" class="auto internal xref">12.1.3</a>.  <a href="#name-decompressed-packet-differe" class="internal xref">Decompressed Packet Different from the Original Packet</a></p>
1467,1471c1570,1574
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.2">
<                 <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-security-considerations-for-" class="xref">Security Considerations for SCHC Fragmentation/Reassembly</a><a href="#section-toc.1-1.12.2.2.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.2.2.1">
<                     <p id="section-toc.1-1.12.2.2.2.1.1"><a href="#section-12.2.1" class="xref">12.2.1</a>.  <a href="#name-buffer-reservation-attack" class="xref">Buffer Reservation Attack</a><a href="#section-toc.1-1.12.2.2.2.1.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
>                 <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-security-considerations-for-" class="internal xref">Security Considerations for SCHC Fragmentation/Reassembly</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.1">
>                     <p id="section-toc.1-1.12.2.2.2.1.1"><a href="#section-12.2.1" class="auto internal xref">12.2.1</a>.  <a href="#name-buffer-reservation-attack" class="internal xref">Buffer Reservation Attack</a></p>
1473,1474c1576,1577
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.2.2.2">
<                     <p id="section-toc.1-1.12.2.2.2.2.1"><a href="#section-12.2.2" class="xref">12.2.2</a>.  <a href="#name-corrupt-fragment-attack" class="xref">Corrupt Fragment Attack</a><a href="#section-toc.1-1.12.2.2.2.2.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.2">
>                     <p id="section-toc.1-1.12.2.2.2.2.1"><a href="#section-12.2.2" class="auto internal xref">12.2.2</a>.  <a href="#name-corrupt-fragment-attack" class="internal xref">Corrupt Fragment Attack</a></p>
1476,1477c1579,1580
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.2.2.3">
<                     <p id="section-toc.1-1.12.2.2.2.3.1"><a href="#section-12.2.3" class="xref">12.2.3</a>.  <a href="#name-fragmentation-as-a-way-to-b" class="xref">Fragmentation as a Way to Bypass Network Inspection</a><a href="#section-toc.1-1.12.2.2.2.3.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.3">
>                     <p id="section-toc.1-1.12.2.2.2.3.1"><a href="#section-12.2.3" class="auto internal xref">12.2.3</a>.  <a href="#name-fragmentation-as-a-way-to-b" class="internal xref">Fragmentation as a Way to Bypass Network Inspection</a></p>
1479,1480c1582,1583
< <li class="toc ulEmpty" id="section-toc.1-1.12.2.2.2.4">
<                     <p id="section-toc.1-1.12.2.2.2.4.1"><a href="#section-12.2.4" class="xref">12.2.4</a>.  <a href="#name-privacy-issues-associated-w" class="xref">Privacy Issues Associated with SCHC Header Fields</a><a href="#section-toc.1-1.12.2.2.2.4.1" class="pilcrow">¶</a></p>
---
>                   <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2.2.4">
>                     <p id="section-toc.1-1.12.2.2.2.4.1"><a href="#section-12.2.4" class="auto internal xref">12.2.4</a>.  <a href="#name-privacy-issues-associated-w" class="internal xref">Privacy Issues Associated with SCHC Header Fields</a></p>
1486,1490c1589,1593
< <li class="toc ulEmpty" id="section-toc.1-1.13">
<             <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
< <ul class="toc ulEmpty">
< <li class="toc ulEmpty" id="section-toc.1-1.13.2.1">
<                 <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.13.2.1.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
>             <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
> <ul class="compact toc ulBare ulEmpty">
> <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
>                 <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
1492,1493c1595,1596
< <li class="toc ulEmpty" id="section-toc.1-1.13.2.2">
<                 <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.13.2.2.1" class="pilcrow">¶</a></p>
---
>               <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
>                 <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
1497,1498c1600,1601
< <li class="toc ulEmpty" id="section-toc.1-1.14">
<             <p id="section-toc.1-1.14.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-compression-examples" class="xref">Compression Examples</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
>             <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-compression-examples" class="internal xref">Compression Examples</a></p>
1500,1501c1603,1604
< <li class="toc ulEmpty" id="section-toc.1-1.15">
<             <p id="section-toc.1-1.15.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-fragmentation-examples" class="xref">Fragmentation Examples</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
>             <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-fragmentation-examples" class="internal xref">Fragmentation Examples</a></p>
1503,1504c1606,1607
< <li class="toc ulEmpty" id="section-toc.1-1.16">
<             <p id="section-toc.1-1.16.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-fragmentation-state-machine" class="xref">Fragmentation State Machines</a><a href="#section-toc.1-1.16.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
>             <p id="section-toc.1-1.16.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-fragmentation-state-machine" class="internal xref">Fragmentation State Machines</a></p>
1506,1507c1609,1610
< <li class="toc ulEmpty" id="section-toc.1-1.17">
<             <p id="section-toc.1-1.17.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-schc-parameters" class="xref">SCHC Parameters</a><a href="#section-toc.1-1.17.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
>             <p id="section-toc.1-1.17.1"><a href="#appendix-D" class="auto internal xref">Appendix D</a>.  <a href="#name-schc-parameters" class="internal xref">SCHC Parameters</a></p>
1509,1510c1612,1613
< <li class="toc ulEmpty" id="section-toc.1-1.18">
<             <p id="section-toc.1-1.18.1"><a href="#section-appendix.e" class="xref">Appendix E</a>.  <a href="#name-supporting-multiple-window-" class="xref">Supporting Multiple Window Sizes for Fragmentation</a><a href="#section-toc.1-1.18.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
>             <p id="section-toc.1-1.18.1"><a href="#appendix-E" class="auto internal xref">Appendix E</a>.  <a href="#name-supporting-multiple-window-" class="internal xref">Supporting Multiple Window Sizes for Fragmentation</a></p>
1512,1513c1615,1616
< <li class="toc ulEmpty" id="section-toc.1-1.19">
<             <p id="section-toc.1-1.19.1"><a href="#section-appendix.f" class="xref">Appendix F</a>.  <a href="#name-ack-always-and-ack-on-error" class="xref">ACK-Always and ACK-on-Error on Quasi-Bidirectional Links</a><a href="#section-toc.1-1.19.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
>             <p id="section-toc.1-1.19.1"><a href="#appendix-F" class="auto internal xref">Appendix F</a>.  <a href="#name-ack-always-and-ack-on-error" class="internal xref">ACK-Always and ACK-on-Error on Quasi-Bidirectional Links</a></p>
1515,1516c1618,1619
< <li class="toc ulEmpty" id="section-toc.1-1.20">
<             <p id="section-toc.1-1.20.1"><a href="#section-appendix.g" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.20.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.20">
>             <p id="section-toc.1-1.20.1"><a href="#appendix-G" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
1518,1519c1621,1622
< <li class="toc ulEmpty" id="section-toc.1-1.21">
<             <p id="section-toc.1-1.21.1"><a href="#section-appendix.h" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.21.1" class="pilcrow">¶</a></p>
---
>           <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21">
>             <p id="section-toc.1-1.21.1"><a href="#appendix-H" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
1532c1635
< LPWAN technologies are also characterized by a greatly reduced data unit and/or payload size (see <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
---
> LPWAN technologies are also characterized by a greatly reduced data unit and/or payload size (see <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
1534,1535c1637,1638
< <ul>
< <li id="section-1-4.1">The network topology is star-oriented, which means that all packets between the same source-destination pair follow the same path. For the needs of this document, the architecture can simply be described as Devices (Dev) exchanging information with LPWAN Application Servers (Apps) through a Network Gateway (NGW).<a href="#section-1-4.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-1-4.1">The network topology is star-oriented, which means that all packets between the same source-destination pair follow the same path. For the needs of this document, the architecture can simply be described as Devices (Dev) exchanging information with LPWAN Application Servers (Apps) through a Network Gateway (NGW).<a href="#section-1-4.1" class="pilcrow">¶</a>
1537c1640
< <li id="section-1-4.2">Because devices embed built-in applications, the traffic flows to be compressed are known in advance. Indeed, new applications are less frequently installed in an LPWAN device than they are in a general-purpose computer or smartphone.<a href="#section-1-4.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-1-4.2">Because devices embed built-in applications, the traffic flows to be compressed are known in advance. Indeed, new applications are less frequently installed in an LPWAN device than they are in a general-purpose computer or smartphone.<a href="#section-1-4.2" class="pilcrow">¶</a>
1542c1645
< sometimes be completely unavailable <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>.
---
> sometimes be completely unavailable <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>.
1545c1648
< <p id="section-1-7">Furthermore, some LPWAN technologies do not provide a fragmentation functionality; to support the IPv6 MTU requirement of 1280 bytes <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>, they require a fragmentation protocol at the adaptation layer below IPv6.
---
> <p id="section-1-7">Furthermore, some LPWAN technologies do not provide a fragmentation functionality; to support the IPv6 MTU requirement of 1280 bytes <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>, they require a fragmentation protocol at the adaptation layer below IPv6.
1559c1662
<     described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
---
>     described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
1569c1672
< In this document, we use terminology from <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>,
---
> In this document, we use terminology from <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>,
1571,1573c1674,1676
<       (see <a href="#Fig-LPWANarchi" class="xref">Figure 1</a>):<a href="#section-3-1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-3-2.1">Devices (Dev) are the end-devices or hosts (e.g., sensors, actuators, etc.). There can be a very high density of devices per Radio Gateway.<a href="#section-3-2.1" class="pilcrow">¶</a>
---
>       (see <a href="#Fig-LPWANarchi" class="auto internal xref">Figure 1</a>):<a href="#section-3-1" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="section-3-2.1">Devices (Dev) are the end-devices or hosts (e.g., sensors, actuators, etc.). There can be a very high density of devices per Radio Gateway.<a href="#section-3-2.1" class="pilcrow">¶</a>
1575c1678
< <li id="section-3-2.2">The Radio Gateway (RGW) is the endpoint of the constrained link.<a href="#section-3-2.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-2.2">The Radio Gateway (RGW) is the endpoint of the constrained link.<a href="#section-3-2.2" class="pilcrow">¶</a>
1577c1680
< <li id="section-3-2.3">The Network Gateway (NGW) is the interconnection node between the Radio Gateway and the Internet.<a href="#section-3-2.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-2.3">The Network Gateway (NGW) is the interconnection node between the Radio Gateway and the Internet.<a href="#section-3-2.3" class="pilcrow">¶</a>
1579c1682
< <li id="section-3-2.4">The Application Server (App) is the endpoint of the application-level protocol on the Internet side.<a href="#section-3-2.4" class="pilcrow">¶</a>
---
>         <li class="normal" id="section-3-2.4">The Application Server (App) is the endpoint of the application-level protocol on the Internet side.<a href="#section-3-2.4" class="pilcrow">¶</a>
1584c1687
<         <div class="artwork art-text alignLeft" id="section-3-3.1">
---
>         <div class="alignLeft art-text artwork" id="section-3-3.1">
1606c1709
< It extends the terminology of <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
---
> It extends the terminology of <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
1608c1711
< <dl class="dlParallel" id="section-4-3">
---
> <span class="break"></span><dl class="dlParallel" id="section-4-3">
1610c1713
< <dd style="margin-left: 4.5em" id="section-4-3.2">LPWAN Application Server, as defined by <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>. It runs an application sending/receiving packets to/from the Dev.<a href="#section-4-3.2" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 4.5em" id="section-4-3.2">LPWAN Application Server, as defined by <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>. It runs an application sending/receiving packets to/from the Dev.<a href="#section-4-3.2" class="pilcrow">¶</a>
1627c1730
< <dd style="margin-left: 4.5em" id="section-4-3.10">Device, as defined by <span>[<a href="#RFC8376" class="xref">RFC8376</a>]</span>.<a href="#section-4-3.10" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 4.5em" id="section-4-3.10">Device, as defined by <span>[<a href="#RFC8376" class="cite xref">RFC8376</a>]</span>.<a href="#section-4-3.10" class="pilcrow">¶</a>
1639c1742
< <dd style="margin-left: 4.5em" id="section-4-3.16">Interface Identifier. See the IPv6 addressing architecture <span>[<a href="#RFC7136" class="xref">RFC7136</a>]</span>.<a href="#section-4-3.16" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 4.5em" id="section-4-3.16">Interface Identifier. See the IPv6 addressing architecture <span>[<a href="#RFC7136" class="cite xref">RFC7136</a>]</span>.<a href="#section-4-3.16" class="pilcrow">¶</a>
1654c1757
< SCHC itself operates on bits, not bytes, and does not have any alignment prerequisite. See <a href="#Padding" class="xref">Section 9</a>.<a href="#section-4-3.22" class="pilcrow">¶</a>
---
> SCHC itself operates on bits, not bytes, and does not have any alignment prerequisite. See <a href="#Padding" class="auto internal xref">Section 9</a>.<a href="#section-4-3.22" class="pilcrow">¶</a>
1658c1761
< <dd style="margin-left: 4.5em" id="section-4-3.24">SCHC offers variations in the way it is operated, with a number of parameters listed in <a href="#SCHCParams" class="xref">Appendix D</a>.
---
>         <dd style="margin-left: 4.5em" id="section-4-3.24">SCHC offers variations in the way it is operated, with a number of parameters listed in <a href="#SCHCParams" class="auto internal xref">Appendix D</a>.
1685c1788
< <dd style="margin-left: 4.5em" id="section-4-3.36">A packet (e.g., an IPv6 packet) whose header has been compressed as per the header compression mechanism defined in this document. If the header compression process is unable to actually compress the packet header, the packet with the uncompressed header is still called a SCHC Packet (in this case, a RuleID is used to indicate that the packet header has not been compressed). See <a href="#SCHComp" class="xref">Section 7</a> for more details.<a href="#section-4-3.36" class="pilcrow">¶</a>
---
>         <dd style="margin-left: 4.5em" id="section-4-3.36">A packet (e.g., an IPv6 packet) whose header has been compressed as per the header compression mechanism defined in this document. If the header compression process is unable to actually compress the packet header, the packet with the uncompressed header is still called a SCHC Packet (in this case, a RuleID is used to indicate that the packet header has not been compressed). See <a href="#SCHComp" class="auto internal xref">Section 7</a> for more details.<a href="#section-4-3.36" class="pilcrow">¶</a>
1693,1694c1796,1797
< <p id="section-4-4">Additional terminology for the optional SCHC F/R is found in <a href="#FragTools" class="xref">Section 8.2</a>.<a href="#section-4-4" class="pilcrow">¶</a></p>
< <p id="section-4-5">Additional terminology for SCHC C/D is found in <a href="#schc-cd-rules" class="xref">Section 7.1</a>.<a href="#section-4-5" class="pilcrow">¶</a></p>
---
> <p id="section-4-4">Additional terminology for the optional SCHC F/R is found in <a href="#FragTools" class="auto internal xref">Section 8.2</a>.<a href="#section-4-4" class="pilcrow">¶</a></p>
> <p id="section-4-5">Additional terminology for SCHC C/D is found in <a href="#schc-cd-rules" class="auto internal xref">Section 7.1</a>.<a href="#section-4-5" class="pilcrow">¶</a></p>
1703c1806
< SCHC comprises two sublayers (i.e., the Compression sublayer and the Fragmentation sublayer), as shown in <a href="#Fig-IntroLayers" class="xref">Figure 2</a>.<a href="#section-5-1" class="pilcrow">¶</a></p>
---
> SCHC comprises two sublayers (i.e., the Compression sublayer and the Fragmentation sublayer), as shown in <a href="#Fig-IntroLayers" class="auto internal xref">Figure 2</a>.<a href="#section-5-1" class="pilcrow">¶</a></p>
1706c1809
<         <div class="artwork art-text alignLeft" id="section-5-2.1">
---
>         <div class="alignLeft art-text artwork" id="section-5-2.1">
1724c1827
< The inverse operations take place at the receiver. This process is illustrated in <a href="#Fig-Operations" class="xref">Figure 3</a>.<a href="#section-5-3" class="pilcrow">¶</a></p>
---
> The inverse operations take place at the receiver. This process is illustrated in <a href="#Fig-Operations" class="auto internal xref">Figure 3</a>.<a href="#section-5-3" class="pilcrow">¶</a></p>
1727c1830
<         <div class="artwork art-text alignLeft" id="section-5-4.1">
---
>         <div class="alignLeft art-text artwork" id="section-5-4.1">
1763,1764c1866,1867
< <p id="section-5.1-1">The SCHC Packet is composed of the Compressed Header followed by the payload from the original packet (see <a href="#Fig-SCHCpckt" class="xref">Figure 4</a>).
< The Compressed Header itself is composed of the RuleID and a Compression Residue, which is the output of compressing the packet header with the Rule identified by that RuleID (see <a href="#SCHComp" class="xref">Section 7</a>).
---
> <p id="section-5.1-1">The SCHC Packet is composed of the Compressed Header followed by the payload from the original packet (see <a href="#Fig-SCHCpckt" class="auto internal xref">Figure 4</a>).
> The Compressed Header itself is composed of the RuleID and a Compression Residue, which is the output of compressing the packet header with the Rule identified by that RuleID (see <a href="#SCHComp" class="auto internal xref">Section 7</a>).
1768c1871
<           <div class="artwork art-text alignLeft" id="section-5.1-2.1">
---
>           <div class="alignLeft art-text artwork" id="section-5.1-2.1">
1786,1788c1889,1891
< <p id="section-5.2-1"><a href="#Fig-archi" class="xref">Figure 5</a> maps the
<  functional elements of <a href="#Fig-Operations" class="xref">Figure 3</a> onto the LPWAN architecture elements of
<  <a href="#Fig-LPWANarchi" class="xref">Figure 1</a>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
---
> <p id="section-5.2-1"><a href="#Fig-archi" class="auto internal xref">Figure 5</a> maps the
>  functional elements of <a href="#Fig-Operations" class="auto internal xref">Figure 3</a> onto the LPWAN architecture elements of
>  <a href="#Fig-LPWANarchi" class="auto internal xref">Figure 1</a>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
1791c1894
<           <div class="artwork art-text alignLeft" id="section-5.2-2.1">
---
>           <div class="alignLeft art-text artwork" id="section-5.2-2.1">
1813c1916
< if the SCHC Packet resulting from the compression needs to be fragmented by SCHC, SCHC F/R is performed (see <a href="#Frag" class="xref">Section 8</a>).
---
> if the SCHC Packet resulting from the compression needs to be fragmented by SCHC, SCHC F/R is performed (see <a href="#Frag" class="auto internal xref">Section 8</a>).
1850,1851c1953,1954
< <ul>
< <li id="section-6-7.1">
---
> <ul class="normal">
> <li class="normal" id="section-6-7.1">
1853,1854c1956,1957
< <ul>
< <li id="section-6-7.1.2.1">At least one RuleID <span class="bcp14">MUST</span> be allocated to tagging packets for which SCHC compression was not possible (i.e., no matching compression Rule was found).<a href="#section-6-7.1.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-6-7.1.2.1">At least one RuleID <span class="bcp14">MUST</span> be allocated to tagging packets for which SCHC compression was not possible (i.e., no matching compression Rule was found).<a href="#section-6-7.1.2.1" class="pilcrow">¶</a>
1858c1961
< <li id="section-6-7.2">
---
>         <li class="normal" id="section-6-7.2">
1860,1861c1963,1964
< <ul>
< <li id="section-6-7.2.2.1">When SCHC F/R is used for both communication directions, at least two RuleID values are needed for fragmentation/reassembly: one per direction of data traffic.
---
> <ul class="normal">
> <li class="normal" id="section-6-7.2.2.1">When SCHC F/R is used for both communication directions, at least two RuleID values are needed for fragmentation/reassembly: one per direction of data traffic.
1879c1982
<       <span>[<a href="#RFC5795" class="xref">RFC5795</a>]</span>. Since the content of
---
>       <span>[<a href="#RFC5795" class="cite xref">RFC5795</a>]</span>. Since the content of
1892c1995
< See <a href="#Fig-ctxt" class="xref">Figure 6</a> for a high-level, abstract representation of the Context.
---
> See <a href="#Fig-ctxt" class="auto internal xref">Figure 6</a> for a high-level, abstract representation of the Context.
1897c2000
<           <div class="artwork art-text alignLeft" id="section-7.1-4.1">
---
>           <div class="alignLeft art-text artwork" id="section-7.1-4.1">
1928,1929c2031,2032
< <ul>
< <li id="section-7.1-7.1">Field Identifier (FID) designates a protocol and field (e.g., UDP Destination Port), unambiguously among all protocols that a SCHC compressor processes. In the presence of protocol nesting, the Field ID also identifies the nesting.<a href="#section-7.1-7.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-7.1-7.1">Field Identifier (FID) designates a protocol and field (e.g., UDP Destination Port), unambiguously among all protocols that a SCHC compressor processes. In the presence of protocol nesting, the Field ID also identifies the nesting.<a href="#section-7.1-7.1" class="pilcrow">¶</a>
1931c2034
< <li id="section-7.1-7.2">Field Length (FL) represents the length of the original field. It can be either a fixed value (in bits) if the length is known when the Rule is created or a type if the length is variable. The length of a header field is defined by its own protocol specification (e.g., IPv6 or UDP). If the length is variable, the type defines the process to compute the length and its unit (bits, bytes...).<a href="#section-7.1-7.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-7.1-7.2">Field Length (FL) represents the length of the original field. It can be either a fixed value (in bits) if the length is known when the Rule is created or a type if the length is variable. The length of a header field is defined by its own protocol specification (e.g., IPv6 or UDP). If the length is variable, the type defines the process to compute the length and its unit (bits, bytes...).<a href="#section-7.1-7.2" class="pilcrow">¶</a>
1933c2036
< <li id="section-7.1-7.3">Field Position (FP): most often, a field only occurs once in a packet header.
---
>           <li class="normal" id="section-7.1-7.3">Field Position (FP): most often, a field only occurs once in a packet header.
1938c2041
< The value 0 is special. It means "don't care", see <a href="#PProcessing" class="xref">Section 7.2</a>.<a href="#section-7.1-7.3" class="pilcrow">¶</a>
---
> The value 0 is special. It means "don't care", see <a href="#PProcessing" class="auto internal xref">Section 7.2</a>.<a href="#section-7.1-7.3" class="pilcrow">¶</a>
1940c2043
< <li id="section-7.1-7.4">
---
>           <li class="normal" id="section-7.1-7.4">
1942c2045
< <dl class="dlParallel" id="section-7.1-7.4.2">
---
> <span class="break"></span><dl class="dlParallel" id="section-7.1-7.4.2">
1944c2047
< <dd id="section-7.1-7.4.2.2">this Field Descriptor is only applicable to packets traveling Uplink.<a href="#section-7.1-7.4.2.2" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-7.1-7.4.2.2">this Field Descriptor is only applicable to packets traveling Uplink.<a href="#section-7.1-7.4.2.2" class="pilcrow">¶</a>
1948c2051
< <dd id="section-7.1-7.4.2.4">this Field Descriptor is only applicable to packets traveling Downlink.<a href="#section-7.1-7.4.2.4" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-7.1-7.4.2.4">this Field Descriptor is only applicable to packets traveling Downlink.<a href="#section-7.1-7.4.2.4" class="pilcrow">¶</a>
1952c2055
< <dd id="section-7.1-7.4.2.6">this Field Descriptor is applicable to packets traveling Uplink or Downlink.<a href="#section-7.1-7.4.2.6" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-7.1-7.4.2.6">this Field Descriptor is applicable to packets traveling Uplink or Downlink.<a href="#section-7.1-7.4.2.6" class="pilcrow">¶</a>
1957c2060
< <li id="section-7.1-7.5">Target Value (TV) is the value used to match against the packet header field. The Target Value can be a scalar value of any type (integer, strings, etc.) or a more complex structure (array, list, etc.). The types and representations are out of scope for this document.<a href="#section-7.1-7.5" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-7.1-7.5">Target Value (TV) is the value used to match against the packet header field. The Target Value can be a scalar value of any type (integer, strings, etc.) or a more complex structure (array, list, etc.). The types and representations are out of scope for this document.<a href="#section-7.1-7.5" class="pilcrow">¶</a>
1959c2062
< <li id="section-7.1-7.6">Matching Operator (MO) is the operator used to match the field value and the Target Value. The Matching Operator may require some parameters. The set of MOs defined in this document can be found in <a href="#chap-MO" class="xref">Section 7.3</a>.<a href="#section-7.1-7.6" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-7.1-7.6">Matching Operator (MO) is the operator used to match the field value and the Target Value. The Matching Operator may require some parameters. The set of MOs defined in this document can be found in <a href="#chap-MO" class="auto internal xref">Section 7.3</a>.<a href="#section-7.1-7.6" class="pilcrow">¶</a>
1961c2064
< <li id="section-7.1-7.7">Compression/Decompression Action (CDA) describes the pair of actions that are performed at the compressor to compress a header field and at the decompressor to recover the original value of the header field. Some CDAs might use parameter values for their operation. The set of CDAs defined in this document can be found in <a href="#chap-CDA" class="xref">Section 7.4</a>.<a href="#section-7.1-7.7" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-7.1-7.7">Compression/Decompression Action (CDA) describes the pair of actions that are performed at the compressor to compress a header field and at the decompressor to recover the original value of the header field. Some CDAs might use parameter values for their operation. The set of CDAs defined in this document can be found in <a href="#chap-CDA" class="auto internal xref">Section 7.4</a>.<a href="#section-7.1-7.7" class="pilcrow">¶</a>
1972c2075
< <dl class="dlParallel" id="section-7.2-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-7.2-2">
1974c2077
< <dd id="section-7.2-2.2">
---
>           <dd style="margin-left: 1.5em" id="section-7.2-2.2">
1978,1979c2081,2082
< <ul>
< <li id="section-7.2-2.2.2.1">The first step is to check the FIDs.
---
> <ul class="normal">
> <li class="normal" id="section-7.2-2.2.2.1">The first step is to check the FIDs.
1983c2086
< <li id="section-7.2-2.2.2.2">The next step is to match the Field Descriptors by their direction, using the DI. If any field of the packet header cannot be matched with a Field Descriptor with the correct FID and DI, the Rule <span class="bcp14">MUST</span> be disregarded.<a href="#section-7.2-2.2.2.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-7.2-2.2.2.2">The next step is to match the Field Descriptors by their direction, using the DI. If any field of the packet header cannot be matched with a Field Descriptor with the correct FID and DI, the Rule <span class="bcp14">MUST</span> be disregarded.<a href="#section-7.2-2.2.2.2" class="pilcrow">¶</a>
1985c2088
< <li id="section-7.2-2.2.2.3">
---
>               <li class="normal" id="section-7.2-2.2.2.3">
1995c2098
< <li id="section-7.2-2.2.2.4">
---
>               <li class="normal" id="section-7.2-2.2.2.4">
2004,2006c2107,2109
< <li id="section-7.2-2.2.2.5">If no valid compression Rule is found, then the packet <span class="bcp14">MUST</span> be sent uncompressed
< using the RuleID dedicated to this purpose (see <a href="#RuleID" class="xref">Section 6</a>).
< The entire packet header is the Compression Residue (see <a href="#Fig-SCHCpckt" class="xref">Figure 4</a>).
---
>               <li class="normal" id="section-7.2-2.2.2.5">If no valid compression Rule is found, then the packet <span class="bcp14">MUST</span> be sent uncompressed
> using the RuleID dedicated to this purpose (see <a href="#RuleID" class="auto internal xref">Section 6</a>).
> The entire packet header is the Compression Residue (see <a href="#Fig-SCHCpckt" class="auto internal xref">Figure 4</a>).
2013c2116
< <dd id="section-7.2-2.4">if a valid Rule is found, each field of the header is compressed according to the CDAs of the Rule.
---
>           <dd style="margin-left: 1.5em" id="section-7.2-2.4">if a valid Rule is found, each field of the header is compressed according to the CDAs of the Rule.
2023c2126
<           <div class="artwork art-text alignLeft" id="section-7.2-3.1">
---
>           <div class="alignLeft art-text artwork" id="section-7.2-3.1">
2034c2137
< <dl class="dlParallel" id="section-7.2-4">
---
> <span class="break"></span><dl class="dlParallel" id="section-7.2-4">
2036c2139
< <dd id="section-7.2-4.2">The RuleID is sent to the other end jointly with the Compression Residue (which could be empty) or the uncompressed header, and directly followed by the payload (see <a href="#Fig-SCHCpckt" class="xref">Figure 4</a>).
---
>           <dd style="margin-left: 1.5em" id="section-7.2-4.2">The RuleID is sent to the other end jointly with the Compression Residue (which could be empty) or the uncompressed header, and directly followed by the payload (see <a href="#Fig-SCHCpckt" class="auto internal xref">Figure 4</a>).
2042c2145
< <dd id="section-7.2-4.4">
---
>           <dd style="margin-left: 1.5em" id="section-7.2-4.4">
2045c2148
< This Rule describes the compressed header format. From this, the decompressor determines the order of the residues, the fixed-size or variable-size nature of each residue (see <a href="#var-length-field" class="xref">Section 7.4.2</a>),
---
> This Rule describes the compressed header format. From this, the decompressor determines the order of the residues, the fixed-size or variable-size nature of each residue (see <a href="#var-length-field" class="auto internal xref">Section 7.4.2</a>),
2062c2165
< <dl class="dlParallel" id="section-7.3-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-7.3-2">
2064c2167
< <dd id="section-7.3-2.2">The match result is True if the field value in the packet matches the TV.<a href="#section-7.3-2.2" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-7.3-2.2">The match result is True if the field value in the packet matches the TV.<a href="#section-7.3-2.2" class="pilcrow">¶</a>
2068c2171
< <dd id="section-7.3-2.4">No matching is attempted between the
---
>           <dd style="margin-left: 1.5em" id="section-7.3-2.4">No matching is attempted between the
2074c2177
< <dd id="section-7.3-2.6">A match is obtained if the most significant (leftmost) x bits of the packet header field value are equal to the TV in the Rule. The x parameter of the MSB MO indicates how many bits are involved in the comparison. If the FL is described as variable, the x parameter must be a multiple of the FL unit. For example, x must be multiple of 8 if the unit of the variable length is bytes.<a href="#section-7.3-2.6" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-7.3-2.6">A match is obtained if the most significant (leftmost) x bits of the packet header field value are equal to the TV in the Rule. The x parameter of the MSB MO indicates how many bits are involved in the comparison. If the FL is described as variable, the x parameter must be a multiple of the FL unit. For example, x must be multiple of 8 if the unit of the variable length is bytes.<a href="#section-7.3-2.6" class="pilcrow">¶</a>
2078c2181
< <dd id="section-7.3-2.8">With match-mapping, TV is a list of values. Each value of the list is identified by an index. Compression is achieved by sending the index instead of the original header field value. This operator matches if the header field value is equal to one of the values in the target list.<a href="#section-7.3-2.8" class="pilcrow">¶</a>
---
>           <dd style="margin-left: 1.5em" id="section-7.3-2.8">With match-mapping, TV is a list of values. Each value of the list is identified by an index. Compression is achieved by sending the index instead of the original header field value. This operator matches if the header field value is equal to one of the values in the target list.<a href="#section-7.3-2.8" class="pilcrow">¶</a>
2090,2091c2193,2194
<         The CDAs defined by this document are described in detail in <a href="#NotSentCDA" class="xref">Section 7.4.3</a> to <a href="#compute-" class="xref">Section 7.4.8</a>.
<         They are summarized in <a href="#Fig-function" class="xref">Table 1</a>.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
---
>         The CDAs defined by this document are described in detail in <a href="#NotSentCDA" class="auto internal xref">Section 7.4.3</a> to <a href="#compute-" class="auto internal xref">Section 7.4.8</a>.
>         They are summarized in <a href="#Fig-function" class="auto internal xref">Table 1</a>.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
2155c2258
<             <div class="artwork art-text alignLeft" id="section-7.4.1-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-7.4.1-2.1">
2181c2284
<             <div class="artwork art-text alignLeft" id="section-7.4.2-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-7.4.2-2.1">
2193,2194c2296,2297
< <ul>
< <li id="section-7.4.2-4.1">If the size is between 0 and 14, it is encoded as a 4-bit unsigned integer.<a href="#section-7.4.2-4.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-7.4.2-4.1">If the size is between 0 and 14, it is encoded as a 4-bit unsigned integer.<a href="#section-7.4.2-4.1" class="pilcrow">¶</a>
2196c2299
< <li id="section-7.4.2-4.2">Sizes between 15 and 254 are encoded as 0b1111 followed by the 8-bit unsigned integer.<a href="#section-7.4.2-4.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-7.4.2-4.2">Sizes between 15 and 254 are encoded as 0b1111 followed by the 8-bit unsigned integer.<a href="#section-7.4.2-4.2" class="pilcrow">¶</a>
2198c2301
< <li id="section-7.4.2-4.3">Larger sizes are encoded as 0xfff followed by the 16-bit unsigned integer.<a href="#section-7.4.2-4.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-7.4.2-4.3">Larger sizes are encoded as 0xfff followed by the 16-bit unsigned integer.<a href="#section-7.4.2-4.3" class="pilcrow">¶</a>
2225c2328
< <p id="section-7.4.4-2">If this action is performed on a variable-length field, the size of the residue value (using the units defined in FL) <span class="bcp14">MUST</span> be sent as described in <a href="#var-length-field" class="xref">Section 7.4.2</a>.<a href="#section-7.4.4-2" class="pilcrow">¶</a></p>
---
> <p id="section-7.4.4-2">If this action is performed on a variable-length field, the size of the residue value (using the units defined in FL) <span class="bcp14">MUST</span> be sent as described in <a href="#var-length-field" class="auto internal xref">Section 7.4.2</a>.<a href="#section-7.4.4-2" class="pilcrow">¶</a></p>
2253c2356
< <p id="section-7.4.6-4">If this action is performed on a variable-length field, the size of the residue value (using the units defined in FL) <span class="bcp14">MUST</span> be sent as described in <a href="#var-length-field" class="xref">Section 7.4.2</a>.<a href="#section-7.4.6-4" class="pilcrow">¶</a></p>
---
> <p id="section-7.4.6-4">If this action is performed on a variable-length field, the size of the residue value (using the units defined in FL) <span class="bcp14">MUST</span> be sent as described in <a href="#var-length-field" class="auto internal xref">Section 7.4.2</a>.<a href="#section-7.4.6-4" class="pilcrow">¶</a></p>
2292c2395
< <p id="section-8.1-2">The optional SCHC F/R functionality enables such LPWAN technologies to comply with the IPv6 MTU requirement of 1280 bytes <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>.
---
> <p id="section-8.1-2">The optional SCHC F/R functionality enables such LPWAN technologies to comply with the IPv6 MTU requirement of 1280 bytes <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>.
2301c2404
< <p id="section-8.1-6">The L2 Word size (see <a href="#Term" class="xref">Section 4</a>) determines the encoding of some messages.
---
> <p id="section-8.1-6">The L2 Word size (see <a href="#Term" class="auto internal xref">Section 4</a>) determines the encoding of some messages.
2312c2415
< <p id="section-8.2-2">The elements are described here in a generic manner. Their application to each SCHC F/R mode is found in <a href="#FragModes" class="xref">Section 8.4</a>.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
---
> <p id="section-8.2-2">The elements are described here in a generic manner. Their application to each SCHC F/R mode is found in <a href="#FragModes" class="auto internal xref">Section 8.4</a>.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
2319c2422
< <dl class="dlParallel" id="section-8.2.1-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-8.2.1-2">
2321c2424
< <dd id="section-8.2.1-2.2">A message that carries part of a SCHC Packet from the sender to the receiver.<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-8.2.1-2.2">A message that carries part of a SCHC Packet from the sender to the receiver.<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
2325c2428
< <dd id="section-8.2.1-2.4">An acknowledgement for fragmentation, by the receiver to the sender.
---
>             <dd style="margin-left: 1.5em" id="section-8.2.1-2.4">An acknowledgement for fragmentation, by the receiver to the sender.
2331c2434
< <dd id="section-8.2.1-2.6">A request by the sender for a SCHC ACK from the receiver.<a href="#section-8.2.1-2.6" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-8.2.1-2.6">A request by the sender for a SCHC ACK from the receiver.<a href="#section-8.2.1-2.6" class="pilcrow">¶</a>
2335c2438
< <dd id="section-8.2.1-2.8">A message by the sender telling the receiver that it has aborted the transmission of a fragmented SCHC Packet.<a href="#section-8.2.1-2.8" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-8.2.1-2.8">A message by the sender telling the receiver that it has aborted the transmission of a fragmented SCHC Packet.<a href="#section-8.2.1-2.8" class="pilcrow">¶</a>
2339c2442
< <dd id="section-8.2.1-2.10">A message by the receiver to tell the sender to abort the transmission of a fragmented SCHC Packet.<a href="#section-8.2.1-2.10" class="pilcrow">¶</a>
---
>             <dd style="margin-left: 1.5em" id="section-8.2.1-2.10">A message by the receiver to tell the sender to abort the transmission of a fragmented SCHC Packet.<a href="#section-8.2.1-2.10" class="pilcrow">¶</a>
2343c2446
< <p id="section-8.2.1-3">The format of these messages is provided in <a href="#Fragfor" class="xref">Section 8.3</a>.<a href="#section-8.2.1-3" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.1-3">The format of these messages is provided in <a href="#Fragfor" class="auto internal xref">Section 8.3</a>.<a href="#section-8.2.1-3" class="pilcrow">¶</a></p>
2359c2462
< <p id="section-8.2.2.1-2">See <a href="#Fig-TilesExample" class="xref">Figure 10</a> for an example.<a href="#section-8.2.2.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.2.1-2">See <a href="#Fig-TilesExample" class="auto internal xref">Figure 10</a> for an example.<a href="#section-8.2.2.1-2" class="pilcrow">¶</a></p>
2362c2465
<               <div class="artwork art-text alignLeft" id="section-8.2.2.1-3.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.2.2.1-3.1">
2373c2476
< <p id="section-8.2.2.1-4">Modes (see <a href="#FragModes" class="xref">Section 8.4</a>) <span class="bcp14">MAY</span> place additional constraints on tile sizes.<a href="#section-8.2.2.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.2.1-4">Modes (see <a href="#FragModes" class="auto internal xref">Section 8.4</a>) <span class="bcp14">MAY</span> place additional constraints on tile sizes.<a href="#section-8.2.2.1-4" class="pilcrow">¶</a></p>
2384,2385c2487,2488
< <ul>
< <li id="section-8.2.2.2-3.1">all the windows of a SCHC Packet, except the last one, <span class="bcp14">MUST</span> contain the same number of tiles.
---
> <ul class="normal">
> <li class="normal" id="section-8.2.2.2-3.1">all the windows of a SCHC Packet, except the last one, <span class="bcp14">MUST</span> contain the same number of tiles.
2388c2491
< <li id="section-8.2.2.2-3.2">WINDOW_SIZE <span class="bcp14">MUST</span> be specified in a Profile.<a href="#section-8.2.2.2-3.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.2">WINDOW_SIZE <span class="bcp14">MUST</span> be specified in a Profile.<a href="#section-8.2.2.2-3.2" class="pilcrow">¶</a>
2390c2493
< <li id="section-8.2.2.2-3.3">the windows are numbered.<a href="#section-8.2.2.2-3.3" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.3">the windows are numbered.<a href="#section-8.2.2.2-3.3" class="pilcrow">¶</a>
2392c2495
< <li id="section-8.2.2.2-3.4">their numbers <span class="bcp14">MUST</span> increment by 1 from 0 upward, from the start of the SCHC Packet to its end.<a href="#section-8.2.2.2-3.4" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.4">their numbers <span class="bcp14">MUST</span> increment by 1 from 0 upward, from the start of the SCHC Packet to its end.<a href="#section-8.2.2.2-3.4" class="pilcrow">¶</a>
2394c2497
< <li id="section-8.2.2.2-3.5">the last window <span class="bcp14">MUST</span> contain WINDOW_SIZE tiles or less.<a href="#section-8.2.2.2-3.5" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.5">the last window <span class="bcp14">MUST</span> contain WINDOW_SIZE tiles or less.<a href="#section-8.2.2.2-3.5" class="pilcrow">¶</a>
2396c2499
< <li id="section-8.2.2.2-3.6">tiles are numbered within each window.<a href="#section-8.2.2.2-3.6" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.6">tiles are numbered within each window.<a href="#section-8.2.2.2-3.6" class="pilcrow">¶</a>
2398c2501
< <li id="section-8.2.2.2-3.7">the tile indices <span class="bcp14">MUST</span> decrement by 1 from WINDOW_SIZE - 1 downward, looking from the start of the SCHC Packet toward its end.<a href="#section-8.2.2.2-3.7" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.7">the tile indices <span class="bcp14">MUST</span> decrement by 1 from WINDOW_SIZE - 1 downward, looking from the start of the SCHC Packet toward its end.<a href="#section-8.2.2.2-3.7" class="pilcrow">¶</a>
2400c2503
< <li id="section-8.2.2.2-3.8">therefore, each tile of a SCHC Packet is uniquely identified by a window number and a tile index within this window.<a href="#section-8.2.2.2-3.8" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-3.8">therefore, each tile of a SCHC Packet is uniquely identified by a window number and a tile index within this window.<a href="#section-8.2.2.2-3.8" class="pilcrow">¶</a>
2403c2506
< <p id="section-8.2.2.2-4">See <a href="#Fig-WindowsExample" class="xref">Figure 11</a> for an example.<a href="#section-8.2.2.2-4" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.2.2-4">See <a href="#Fig-WindowsExample" class="auto internal xref">Figure 11</a> for an example.<a href="#section-8.2.2.2-4" class="pilcrow">¶</a></p>
2406c2509
<               <div class="artwork art-text alignLeft" id="section-8.2.2.2-5.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.2.2.2-5.1">
2419c2522
< <p id="section-8.2.2.2-6"><a href="#MultWinSizes" class="xref">Appendix E</a> discusses the benefits of selecting one among multiple window sizes depending on the size of the SCHC Packet to be fragmented.<a href="#section-8.2.2.2-6" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.2.2-6"><a href="#MultWinSizes" class="auto internal xref">Appendix E</a> discusses the benefits of selecting one among multiple window sizes depending on the size of the SCHC Packet to be fragmented.<a href="#section-8.2.2.2-6" class="pilcrow">¶</a></p>
2421,2422c2524,2525
< <ul>
< <li id="section-8.2.2.2-8.1">Bitmaps (see <a href="#Bitmap" class="xref">Section 8.2.2.3</a>) <span class="bcp14">MAY</span> be sent back by the receiver to the sender in a SCHC ACK message.<a href="#section-8.2.2.2-8.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.2.2.2-8.1">Bitmaps (see <a href="#Bitmap" class="auto internal xref">Section 8.2.2.3</a>) <span class="bcp14">MAY</span> be sent back by the receiver to the sender in a SCHC ACK message.<a href="#section-8.2.2.2-8.1" class="pilcrow">¶</a>
2424c2527
< <li id="section-8.2.2.2-8.2">A Bitmap corresponds to exactly one Window.<a href="#section-8.2.2.2-8.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.2.2.2-8.2">A Bitmap corresponds to exactly one Window.<a href="#section-8.2.2.2-8.2" class="pilcrow">¶</a>
2441c2544
< the bit at the rightmost position corresponds either to the tile numbered 0 or to a tile that is sent/received as "the last one of the SCHC Packet" without explicitly stating its number (see <a href="#LastFrag" class="xref">Section 8.3.1.2</a>).<a href="#section-8.2.2.3-1" class="pilcrow">¶</a></p>
---
> the bit at the rightmost position corresponds either to the tile numbered 0 or to a tile that is sent/received as "the last one of the SCHC Packet" without explicitly stating its number (see <a href="#LastFrag" class="auto internal xref">Section 8.3.1.2</a>).<a href="#section-8.2.2.3-1" class="pilcrow">¶</a></p>
2443,2444c2546,2547
< <ul>
< <li id="section-8.2.2.3-3.1">a bit set to 1 in the Bitmap indicates that a tile associated with that bit position has been correctly received for that window.<a href="#section-8.2.2.3-3.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.2.2.3-3.1">a bit set to 1 in the Bitmap indicates that a tile associated with that bit position has been correctly received for that window.<a href="#section-8.2.2.3-3.1" class="pilcrow">¶</a>
2446c2549
< <li id="section-8.2.2.3-3.2">a bit set to 0 in the Bitmap indicates that there has been no tile correctly received, associated with that bit position, for that window.
---
>               <li class="normal" id="section-8.2.2.3-3.2">a bit set to 0 in the Bitmap indicates that there has been no tile correctly received, associated with that bit position, for that window.
2458c2561
< <dl class="dlParallel" id="section-8.2.2.4-2">
---
> <span class="break"></span><dl class="dlParallel" id="section-8.2.2.4-2">
2460c2563
< <dd id="section-8.2.2.4-2.2">a SCHC Fragment receiver uses this timer to abort waiting for a SCHC F/R message.<a href="#section-8.2.2.4-2.2" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-8.2.2.4-2.2">a SCHC Fragment receiver uses this timer to abort waiting for a SCHC F/R message.<a href="#section-8.2.2.4-2.2" class="pilcrow">¶</a>
2464c2567
< <dd id="section-8.2.2.4-2.4">a SCHC Fragment sender uses this timer to abort waiting for an expected SCHC ACK.<a href="#section-8.2.2.4-2.4" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-8.2.2.4-2.4">a SCHC Fragment sender uses this timer to abort waiting for an expected SCHC ACK.<a href="#section-8.2.2.4-2.4" class="pilcrow">¶</a>
2468c2571
< <dd id="section-8.2.2.4-2.6">this counter counts the requests for SCHC ACKs, up to MAX_ACK_REQUESTS.<a href="#section-8.2.2.4-2.6" class="pilcrow">¶</a>
---
>               <dd style="margin-left: 1.5em" id="section-8.2.2.4-2.6">this counter counts the requests for SCHC ACKs, up to MAX_ACK_REQUESTS.<a href="#section-8.2.2.4-2.6" class="pilcrow">¶</a>
2486c2589
< <p id="section-8.2.3-3">The RCS supports UDP checksum elision by SCHC C/D (see <a href="#UDPchecksum" class="xref">Section 10.11</a>).<a href="#section-8.2.3-3" class="pilcrow">¶</a></p>
---
> <p id="section-8.2.3-3">The RCS supports UDP checksum elision by SCHC C/D (see <a href="#UDPchecksum" class="auto internal xref">Section 10.11</a>).<a href="#section-8.2.3-3" class="pilcrow">¶</a></p>
2488c2591
< used in the Ethernet standard <span>[<a href="#ETHERNET" class="xref">ETHERNET</a>]</span>) is <span class="bcp14">RECOMMENDED</span> as the default algorithm for computing the
---
> used in the Ethernet standard <span>[<a href="#ETHERNET" class="cite xref">ETHERNET</a>]</span>) is <span class="bcp14">RECOMMENDED</span> as the default algorithm for computing the
2506,2507c2609,2610
< <p id="section-8.2.4-1">The SCHC F/R messages contain the following fields (see the formats in <a href="#Fragfor" class="xref">Section 8.3</a>):<a href="#section-8.2.4-1" class="pilcrow">¶</a></p>
< <dl class="dlParallel" id="section-8.2.4-2">
---
> <p id="section-8.2.4-1">The SCHC F/R messages contain the following fields (see the formats in <a href="#Fragfor" class="auto internal xref">Section 8.3</a>):<a href="#section-8.2.4-1" class="pilcrow">¶</a></p>
> <span class="break"></span><dl class="dlParallel" id="section-8.2.4-2">
2509c2612
< <dd id="section-8.2.4-2.2">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.2">
2511,2512c2614,2615
< <ul>
< <li id="section-8.2.4-2.2.2.1">that a SCHC F/R message is being carried, as opposed to an unfragmented SCHC Packet,<a href="#section-8.2.4-2.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.2.4-2.2.2.1">that a SCHC F/R message is being carried, as opposed to an unfragmented SCHC Packet,<a href="#section-8.2.4-2.2.2.1" class="pilcrow">¶</a>
2514c2617
< <li id="section-8.2.4-2.2.2.2">which SCHC F/R mode is used,<a href="#section-8.2.4-2.2.2.2" class="pilcrow">¶</a>
---
>                 <li class="normal" id="section-8.2.4-2.2.2.2">which SCHC F/R mode is used,<a href="#section-8.2.4-2.2.2.2" class="pilcrow">¶</a>
2516c2619
< <li id="section-8.2.4-2.2.2.3">in case this mode uses windows, what the value of
---
>                 <li class="normal" id="section-8.2.4-2.2.2.3">in case this mode uses windows, what the value of
2519c2622
< <li id="section-8.2.4-2.2.2.4">what other optional fields are present and what the field sizes are.<a href="#section-8.2.4-2.2.2.4" class="pilcrow">¶</a>
---
>                 <li class="normal" id="section-8.2.4-2.2.2.4">what other optional fields are present and what the field sizes are.<a href="#section-8.2.4-2.2.2.4" class="pilcrow">¶</a>
2531c2634
< <dd id="section-8.2.4-2.4">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.4">
2542,2543c2645,2646
< <ul>
< <li id="section-8.2.4-2.4.5.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.2.4-2.4.5.1">
2546c2649
< <li id="section-8.2.4-2.4.5.2">
---
>                 <li class="normal" id="section-8.2.4-2.4.5.2">
2553c2656
< <dd id="section-8.2.4-2.6">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.6">
2563c2666
< <dd id="section-8.2.4-2.8">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.8">
2571,2572c2674,2675
< <ul>
< <li id="section-8.2.4-2.8.3.1">The FCN value with all the bits equal to 1 (called "All-1") signals that the very last tile of a SCHC Packet has been transmitted.
---
> <ul class="normal">
> <li class="normal" id="section-8.2.4-2.8.3.1">The FCN value with all the bits equal to 1 (called "All-1") signals that the very last tile of a SCHC Packet has been transmitted.
2575c2678
< <li id="section-8.2.4-2.8.3.2">If windows are used, the FCN value with all the bits equal to 0 (called "All-0") signals
---
>                 <li class="normal" id="section-8.2.4-2.8.3.2">If windows are used, the FCN value with all the bits equal to 0 (called "All-0") signals
2583c2686
< <dd id="section-8.2.4-2.10">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.10">
2587c2690
< See <a href="#IntegrityChecking" class="xref">Section 8.2.3</a> for the RCS default size, default polynomial and details on RCS computation.<a href="#section-8.2.4-2.10.2" class="pilcrow">¶</a></p>
---
> See <a href="#IntegrityChecking" class="auto internal xref">Section 8.2.3</a> for the RCS default size, default polynomial and details on RCS computation.<a href="#section-8.2.4-2.10.2" class="pilcrow">¶</a></p>
2591c2694
< <dd id="section-8.2.4-2.12">
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.12">
2593c2696
< This field is used in the SCHC ACK message to report on the reassembled SCHC Packet integrity check (see <a href="#IntegrityChecking" class="xref">Section 8.2.3</a>).<a href="#section-8.2.4-2.12.1" class="pilcrow">¶</a></p>
---
> This field is used in the SCHC ACK message to report on the reassembled SCHC Packet integrity check (see <a href="#IntegrityChecking" class="auto internal xref">Section 8.2.3</a>).<a href="#section-8.2.4-2.12.1" class="pilcrow">¶</a></p>
2600,2601c2703,2704
< <dd id="section-8.2.4-2.14">
<               <p id="section-8.2.4-2.14.1">The Compressed Bitmap is used together with windows and Bitmaps (see <a href="#Bitmap" class="xref">Section 8.2.2.3</a>).
---
>             <dd style="margin-left: 1.5em" id="section-8.2.4-2.14">
>               <p id="section-8.2.4-2.14.1">The Compressed Bitmap is used together with windows and Bitmaps (see <a href="#Bitmap" class="auto internal xref">Section 8.2.2.3</a>).
2604c2707
< This field appears in the SCHC ACK message to report on the receiver Bitmap (see <a href="#BitmapTrunc" class="xref">Section 8.3.2.1</a>).<a href="#section-8.2.4-2.14.2" class="pilcrow">¶</a></p>
---
> This field appears in the SCHC ACK message to report on the receiver Bitmap (see <a href="#BitmapTrunc" class="auto internal xref">Section 8.3.2.1</a>).<a href="#section-8.2.4-2.14.2" class="pilcrow">¶</a></p>
2623c2726
< <p id="section-8.3.1-1">A SCHC Fragment conforms to the general format shown in <a href="#Fig-FragFormat" class="xref">Figure 12</a>.
---
> <p id="section-8.3.1-1">A SCHC Fragment conforms to the general format shown in <a href="#Fig-FragFormat" class="auto internal xref">Figure 12</a>.
2628c2731
<             <div class="artwork art-text alignLeft" id="section-8.3.1-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.3.1-2.1">
2643c2746
< <p id="section-8.3.1.1-1">The Regular SCHC Fragment format is shown in <a href="#Fig-NotLastFrag" class="xref">Figure 13</a>.
---
> <p id="section-8.3.1.1-1">The Regular SCHC Fragment format is shown in <a href="#Fig-NotLastFrag" class="auto internal xref">Figure 13</a>.
2648c2751
<               <div class="artwork art-text alignLeft" id="section-8.3.1.1-2.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.1.1-2.1">
2664c2767
< from a SCHC ACK REQ message (see <a href="#ACKREQ" class="xref">Section 8.3.3</a>) with the same RuleID value and with the same T, M, and N values.
---
> from a SCHC ACK REQ message (see <a href="#ACKREQ" class="auto internal xref">Section 8.3.3</a>) with the same RuleID value and with the same T, M, and N values.
2674c2777
< <p id="section-8.3.1.2-1">The All-1 SCHC Fragment format is shown in <a href="#Fig-LastFrag" class="xref">Figure 14</a>.
---
> <p id="section-8.3.1.2-1">The All-1 SCHC Fragment format is shown in <a href="#Fig-LastFrag" class="auto internal xref">Figure 14</a>.
2681c2784
<               <div class="artwork art-text alignLeft" id="section-8.3.1.2-2.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.1.2-2.1">
2697c2800
< from a SCHC Sender-Abort message (see <a href="#SenderAbort" class="xref">Section 8.3.4</a>) with the same RuleID value and with the same T, M, and N values.
---
> from a SCHC Sender-Abort message (see <a href="#SenderAbort" class="auto internal xref">Section 8.3.4</a>) with the same RuleID value and with the same T, M, and N values.
2710c2813
< <p id="section-8.3.2-1">The SCHC ACK message is shown in <a href="#Fig-ACK-Format" class="xref">Figure 15</a>.
---
> <p id="section-8.3.2-1">The SCHC ACK message is shown in <a href="#Fig-ACK-Format" class="auto internal xref">Figure 15</a>.
2715c2818
<             <div class="artwork art-text alignLeft" id="section-8.3.2-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.3.2-2.1">
2731c2834
< <p id="section-8.3.2-3">The SCHC ACK Header contains a C bit (see <a href="#HeaderFields" class="xref">Section 8.2.4</a>).<a href="#section-8.3.2-3" class="pilcrow">¶</a></p>
---
> <p id="section-8.3.2-3">The SCHC ACK Header contains a C bit (see <a href="#HeaderFields" class="auto internal xref">Section 8.2.4</a>).<a href="#section-8.3.2-3" class="pilcrow">¶</a></p>
2736c2839
< as specified in <a href="#BitmapTrunc" class="xref">Section 8.3.2.1</a>.<a href="#section-8.3.2-5" class="pilcrow">¶</a></p>
---
> as specified in <a href="#BitmapTrunc" class="auto internal xref">Section 8.3.2.1</a>.<a href="#section-8.3.2-5" class="pilcrow">¶</a></p>
2742,2745c2845,2848
< <p id="section-8.3.2.1-1">For transmission, the Compressed Bitmap in the SCHC ACK message is defined by the following algorithm (see <a href="#Fig-Localbitmap" class="xref">Figure 16</a> for a follow-along example):<a href="#section-8.3.2.1-1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-8.3.2.1-2.1">Build a temporary SCHC ACK message that contains the Header followed by the original Bitmap
<  (see <a href="#Bitmap" class="xref">Section 8.2.2.3</a> for a description of Bitmaps).<a href="#section-8.3.2.1-2.1" class="pilcrow">¶</a>
---
> <p id="section-8.3.2.1-1">For transmission, the Compressed Bitmap in the SCHC ACK message is defined by the following algorithm (see <a href="#Fig-Localbitmap" class="auto internal xref">Figure 16</a> for a follow-along example):<a href="#section-8.3.2.1-1" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="section-8.3.2.1-2.1">Build a temporary SCHC ACK message that contains the Header followed by the original Bitmap
>  (see <a href="#Bitmap" class="auto internal xref">Section 8.2.2.3</a> for a description of Bitmaps).<a href="#section-8.3.2.1-2.1" class="pilcrow">¶</a>
2747c2850
< <li id="section-8.3.2.1-2.2">Position scissors at the end of the Bitmap, after
---
>               <li class="normal" id="section-8.3.2.1-2.2">Position scissors at the end of the Bitmap, after
2750c2853
< <li id="section-8.3.2.1-2.3">While the bit on the left of the scissors is 1 and belongs to the Bitmap, keep moving left, then stop.<a href="#section-8.3.2.1-2.3" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.3.2.1-2.3">While the bit on the left of the scissors is 1 and belongs to the Bitmap, keep moving left, then stop.<a href="#section-8.3.2.1-2.3" class="pilcrow">¶</a>
2752c2855
< <li id="section-8.3.2.1-2.4">Then, while the scissors are not on an L2 Word boundary of the SCHC ACK message and there is a Bitmap bit on the right of the scissors, keep moving right, then stop.<a href="#section-8.3.2.1-2.4" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.3.2.1-2.4">Then, while the scissors are not on an L2 Word boundary of the SCHC ACK message and there is a Bitmap bit on the right of the scissors, keep moving right, then stop.<a href="#section-8.3.2.1-2.4" class="pilcrow">¶</a>
2754c2857
< <li id="section-8.3.2.1-2.5">At this point, cut and drop off any bits to the right of the scissors.<a href="#section-8.3.2.1-2.5" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.3.2.1-2.5">At this point, cut and drop off any bits to the right of the scissors.<a href="#section-8.3.2.1-2.5" class="pilcrow">¶</a>
2759c2862
< <p id="section-8.3.2.1-5"><a href="#Fig-Localbitmap" class="xref">Figure 16</a> shows an example where L2 Words are actually bytes and where the original Bitmap contains 17 bits, the last 15 of which are all set to 1.<a href="#section-8.3.2.1-5" class="pilcrow">¶</a></p>
---
> <p id="section-8.3.2.1-5"><a href="#Fig-Localbitmap" class="auto internal xref">Figure 16</a> shows an example where L2 Words are actually bytes and where the original Bitmap contains 17 bits, the last 15 of which are all set to 1.<a href="#section-8.3.2.1-5" class="pilcrow">¶</a></p>
2762c2865
<               <div class="artwork art-text alignLeft" id="section-8.3.2.1-6.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.2.1-6.1">
2775c2878
< <p id="section-8.3.2.1-7"><a href="#Fig-transmittedbitmap" class="xref">Figure 17</a> shows that the last 14 bits are not sent.<a href="#section-8.3.2.1-7" class="pilcrow">¶</a></p>
---
> <p id="section-8.3.2.1-7"><a href="#Fig-transmittedbitmap" class="auto internal xref">Figure 17</a> shows that the last 14 bits are not sent.<a href="#section-8.3.2.1-7" class="pilcrow">¶</a></p>
2778c2881
<               <div class="artwork art-text alignLeft" id="section-8.3.2.1-8.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.2.1-8.1">
2791c2894
< <p id="section-8.3.2.1-9"><a href="#Fig-Bitmap-Win" class="xref">Figure 18</a> shows an example of a SCHC ACK with tile indices ranging from 6 down to 0, where the Bitmap indicates that the second and the fourth tile of the window have not been correctly received.<a href="#section-8.3.2.1-9" class="pilcrow">¶</a></p>
---
> <p id="section-8.3.2.1-9"><a href="#Fig-Bitmap-Win" class="auto internal xref">Figure 18</a> shows an example of a SCHC ACK with tile indices ranging from 6 down to 0, where the Bitmap indicates that the second and the fourth tile of the window have not been correctly received.<a href="#section-8.3.2.1-9" class="pilcrow">¶</a></p>
2794c2897
<               <div class="artwork art-text alignLeft" id="section-8.3.2.1-10.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.2.1-10.1">
2812c2915
< <p id="section-8.3.2.1-11"><a href="#Fig-Bitmap-lastWin" class="xref">Figure 19</a> shows an example of a SCHC ACK with tile indices ranging from 6 down to 0, where integrity check has not been performed or has failed and the Bitmap indicates that there is no missing tile in that window.<a href="#section-8.3.2.1-11" class="pilcrow">¶</a></p>
---
> <p id="section-8.3.2.1-11"><a href="#Fig-Bitmap-lastWin" class="auto internal xref">Figure 19</a> shows an example of a SCHC ACK with tile indices ranging from 6 down to 0, where integrity check has not been performed or has failed and the Bitmap indicates that there is no missing tile in that window.<a href="#section-8.3.2.1-11" class="pilcrow">¶</a></p>
2815c2918
<               <div class="artwork art-text alignLeft" id="section-8.3.2.1-12.1">
---
>               <div class="alignLeft art-text artwork" id="section-8.3.2.1-12.1">
2843c2946
< Its format is shown in <a href="#Fig-ACKREQ" class="xref">Figure 20</a>.
---
> Its format is shown in <a href="#Fig-ACKREQ" class="auto internal xref">Figure 20</a>.
2848c2951
<             <div class="artwork art-text alignLeft" id="section-8.3.3-2.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.3.3-2.1">
2868c2971
< <p id="section-8.3.4-2">The SCHC Sender-Abort format is shown in <a href="#Fig-SenderAbort" class="xref">Figure 21</a>.
---
> <p id="section-8.3.4-2">The SCHC Sender-Abort format is shown in <a href="#Fig-SenderAbort" class="auto internal xref">Figure 21</a>.
2873c2976
<             <div class="artwork art-text alignLeft" id="section-8.3.4-3.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.3.4-3.1">
2886,2887c2989,2990
< <ul>
< <li id="section-8.3.4-5.1">the fragment sender <span class="bcp14">MUST</span> set it to all ones.
---
> <ul class="normal">
> <li class="normal" id="section-8.3.4-5.1">the fragment sender <span class="bcp14">MUST</span> set it to all ones.
2890c2993
< <li id="section-8.3.4-5.2">the fragment receiver <span class="bcp14">MUST</span> check its value.
---
>             <li class="normal" id="section-8.3.4-5.2">the fragment receiver <span class="bcp14">MUST</span> check its value.
2903c3006
< <p id="section-8.3.5-2">The SCHC Receiver-Abort format is shown in <a href="#Fig-ReceiverAbort" class="xref">Figure 22</a>.
---
> <p id="section-8.3.5-2">The SCHC Receiver-Abort format is shown in <a href="#Fig-ReceiverAbort" class="auto internal xref">Figure 22</a>.
2907c3010
<             <div class="artwork art-text alignLeft" id="section-8.3.5-3.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.3.5-3.1">
2921,2922c3024,3025
< <ul>
< <li id="section-8.3.5-5.1">the fragment receiver <span class="bcp14">MUST</span> set it to all ones.
---
> <ul class="normal">
> <li class="normal" id="section-8.3.5-5.1">the fragment receiver <span class="bcp14">MUST</span> set it to all ones.
2925c3028
< <li id="section-8.3.5-5.2">if the value is different from all ones, the fragment sender <span class="bcp14">MUST</span> ignore the message.<a href="#section-8.3.5-5.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.3.5-5.2">if the value is different from all ones, the fragment sender <span class="bcp14">MUST</span> ignore the message.<a href="#section-8.3.5-5.2" class="pilcrow">¶</a>
2930,2931c3033,3034
< <ul>
< <li id="section-8.3.5-7.1">if the Header does not end at an L2 Word boundary, append bits set to 1 as needed to reach the next L2 Word boundary.<a href="#section-8.3.5-7.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.3.5-7.1">if the Header does not end at an L2 Word boundary, append bits set to 1 as needed to reach the next L2 Word boundary.<a href="#section-8.3.5-7.1" class="pilcrow">¶</a>
2933c3036
< <li id="section-8.3.5-7.2">append exactly one more L2 Word with bits all set to ones.<a href="#section-8.3.5-7.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.3.5-7.2">append exactly one more L2 Word with bits all set to ones.<a href="#section-8.3.5-7.2" class="pilcrow">¶</a>
2948,2949c3051,3052
< <ul>
< <li id="section-8.4-2.1">allow for a range of reliability options, such as optional SCHC Fragment retransmission.<a href="#section-8.4-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4-2.1">allow for a range of reliability options, such as optional SCHC Fragment retransmission.<a href="#section-8.4-2.1" class="pilcrow">¶</a>
2951c3054
< <li id="section-8.4-2.2">support various LPWAN characteristics, such as links with variable MTU or unidirectional links.<a href="#section-8.4-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-8.4-2.2">support various LPWAN characteristics, such as links with variable MTU or unidirectional links.<a href="#section-8.4-2.2" class="pilcrow">¶</a>
2955,2956c3058,3059
< <p id="section-8.4-4"><a href="#FragExamples" class="xref">Appendix B</a> provides examples of fragmentation sessions based on the modes described hereafter.<a href="#section-8.4-4" class="pilcrow">¶</a></p>
< <p id="section-8.4-5"><a href="#FSM" class="xref">Appendix C</a> provides examples of Finite State Machines implementing the SCHC F/R modes described hereafter.<a href="#section-8.4-5" class="pilcrow">¶</a></p>
---
> <p id="section-8.4-4"><a href="#FragExamples" class="auto internal xref">Appendix B</a> provides examples of fragmentation sessions based on the modes described hereafter.<a href="#section-8.4-4" class="pilcrow">¶</a></p>
> <p id="section-8.4-5"><a href="#FSM" class="auto internal xref">Appendix C</a> provides examples of Finite State Machines implementing the SCHC F/R modes described hereafter.<a href="#section-8.4-5" class="pilcrow">¶</a></p>
2980,2981c3083,3084
< <ul>
< <li id="section-8.4.1-9.1">the size of the DTag field,<a href="#section-8.4.1-9.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.1-9.1">the size of the DTag field,<a href="#section-8.4.1-9.1" class="pilcrow">¶</a>
2983c3086
< <li id="section-8.4.1-9.2">the size and algorithm for the RCS field, and<a href="#section-8.4.1-9.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.1-9.2">the size and algorithm for the RCS field, and<a href="#section-8.4.1-9.2" class="pilcrow">¶</a>
2985c3088
< <li id="section-8.4.1-9.3">the expiration time of the Inactivity Timer.<a href="#section-8.4.1-9.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.1-9.3">the expiration time of the Inactivity Timer.<a href="#section-8.4.1-9.3" class="pilcrow">¶</a>
2989,2990c3092,3093
< <ul>
< <li id="section-8.4.1-11.1">a value of N different from the recommended one, and<a href="#section-8.4.1-11.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.1-11.1">a value of N different from the recommended one, and<a href="#section-8.4.1-11.1" class="pilcrow">¶</a>
2992c3095
< <li id="section-8.4.1-11.2">the meaning of values sent in the FCN field, for values different from the All-1 value.<a href="#section-8.4.1-11.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.1-11.2">the meaning of values sent in the FCN field, for values different from the All-1 value.<a href="#section-8.4.1-11.2" class="pilcrow">¶</a>
3009,3010c3112,3113
< Except for the last one, the SCHC Fragments <span class="bcp14">MUST</span> use the Regular SCHC Fragment format specified in <a href="#NotLastFrag" class="xref">Section 8.3.1.1</a>.
< The SCHC Fragment that carries the last tile <span class="bcp14">MUST</span> be an All-1 SCHC Fragment, described in <a href="#LastFrag" class="xref">Section 8.3.1.2</a>.<a href="#section-8.4.1.1-2" class="pilcrow">¶</a></p>
---
> Except for the last one, the SCHC Fragments <span class="bcp14">MUST</span> use the Regular SCHC Fragment format specified in <a href="#NotLastFrag" class="auto internal xref">Section 8.3.1.1</a>.
> The SCHC Fragment that carries the last tile <span class="bcp14">MUST</span> be an All-1 SCHC Fragment, described in <a href="#LastFrag" class="auto internal xref">Section 8.3.1.2</a>.<a href="#section-8.4.1.1-2" class="pilcrow">¶</a></p>
3012c3115
< <p id="section-8.4.1.1-4"><a href="#Fig-NoACKModeSnd" class="xref">Figure 39</a> shows an example of a corresponding state machine.<a href="#section-8.4.1.1-4" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.1.1-4"><a href="#Fig-NoACKModeSnd" class="auto internal xref">Figure 39</a> shows an example of a corresponding state machine.<a href="#section-8.4.1.1-4" class="pilcrow">¶</a></p>
3021,3022c3124,3125
< <ul>
< <li id="section-8.4.1.2-2.1">the receiver <span class="bcp14">MUST</span> reset the Inactivity Timer.<a href="#section-8.4.1.2-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.1.2-2.1">the receiver <span class="bcp14">MUST</span> reset the Inactivity Timer.<a href="#section-8.4.1.2-2.1" class="pilcrow">¶</a>
3024c3127
< <li id="section-8.4.1.2-2.2">the receiver assembles the payloads of the SCHC Fragments.<a href="#section-8.4.1.2-2.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.1.2-2.2">the receiver assembles the payloads of the SCHC Fragments.<a href="#section-8.4.1.2-2.2" class="pilcrow">¶</a>
3028,3029c3131,3132
< <ul>
< <li id="section-8.4.1.2-4.1">the receiver <span class="bcp14">MUST</span> append the All-1 SCHC Fragment Payload and the padding bits to the
---
> <ul class="normal">
> <li class="normal" id="section-8.4.1.2-4.1">the receiver <span class="bcp14">MUST</span> append the All-1 SCHC Fragment Payload and the padding bits to the
3032c3135
< <li id="section-8.4.1.2-4.2">the receiver <span class="bcp14">MUST</span> perform the integrity check.<a href="#section-8.4.1.2-4.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.1.2-4.2">the receiver <span class="bcp14">MUST</span> perform the integrity check.<a href="#section-8.4.1.2-4.2" class="pilcrow">¶</a>
3034c3137
< <li id="section-8.4.1.2-4.3">if integrity checking fails,
---
>               <li class="normal" id="section-8.4.1.2-4.3">if integrity checking fails,
3037c3140
< <li id="section-8.4.1.2-4.4">the reassembly operation concludes.<a href="#section-8.4.1.2-4.4" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.1.2-4.4">the reassembly operation concludes.<a href="#section-8.4.1.2-4.4" class="pilcrow">¶</a>
3044c3147
< <p id="section-8.4.1.2-7"><a href="#Fig-NoACKModeRcv" class="xref">Figure 40</a> shows an example of a corresponding state machine.<a href="#section-8.4.1.2-7" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.1.2-7"><a href="#Fig-NoACKModeRcv" class="auto internal xref">Figure 40</a> shows an example of a corresponding state machine.<a href="#section-8.4.1.2-7" class="pilcrow">¶</a></p>
3055,3056c3158,3159
< <ul>
< <li id="section-8.4.2-2.1">Data unit out-of-sequence delivery does not occur between the entity performing fragmentation and the entity performing reassembly,<a href="#section-8.4.2-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2-2.1">Data unit out-of-sequence delivery does not occur between the entity performing fragmentation and the entity performing reassembly,<a href="#section-8.4.2-2.1" class="pilcrow">¶</a>
3058c3161
< <li id="section-8.4.2-2.2">The L2 MTU value does not change while the fragments of a SCHC Packet are being transmitted, and<a href="#section-8.4.2-2.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-2.2">The L2 MTU value does not change while the fragments of a SCHC Packet are being transmitted, and<a href="#section-8.4.2-2.2" class="pilcrow">¶</a>
3060,3061c3163,3164
< <li id="section-8.4.2-2.3">There is a feedback path from the reassembler to the fragmenter.
< See <a href="#AsymLinks" class="xref">Appendix F</a> for a discussion on using ACK-Always mode on quasi-bidirectional links.<a href="#section-8.4.2-2.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-2.3">There is a feedback path from the reassembler to the fragmenter.
> See <a href="#AsymLinks" class="auto internal xref">Appendix F</a> for a discussion on using ACK-Always mode on quasi-bidirectional links.<a href="#section-8.4.2-2.3" class="pilcrow">¶</a>
3072,3073c3175,3176
< <ul>
< <li id="section-8.4.2-9.1">the value of N,<a href="#section-8.4.2-9.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2-9.1">the value of N,<a href="#section-8.4.2-9.1" class="pilcrow">¶</a>
3075c3178
< <li id="section-8.4.2-9.2">the value of WINDOW_SIZE, which <span class="bcp14">MUST</span> be strictly less than 2^N,<a href="#section-8.4.2-9.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.2">the value of WINDOW_SIZE, which <span class="bcp14">MUST</span> be strictly less than 2^N,<a href="#section-8.4.2-9.2" class="pilcrow">¶</a>
3077c3180
< <li id="section-8.4.2-9.3">the size and algorithm for the RCS field,<a href="#section-8.4.2-9.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.3">the size and algorithm for the RCS field,<a href="#section-8.4.2-9.3" class="pilcrow">¶</a>
3079c3182
< <li id="section-8.4.2-9.4">the value of T,<a href="#section-8.4.2-9.4" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.4">the value of T,<a href="#section-8.4.2-9.4" class="pilcrow">¶</a>
3081c3184
< <li id="section-8.4.2-9.5">the value of MAX_ACK_REQUESTS,<a href="#section-8.4.2-9.5" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.5">the value of MAX_ACK_REQUESTS,<a href="#section-8.4.2-9.5" class="pilcrow">¶</a>
3083c3186
< <li id="section-8.4.2-9.6">the expiration time of the Retransmission Timer, and<a href="#section-8.4.2-9.6" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.6">the expiration time of the Retransmission Timer, and<a href="#section-8.4.2-9.6" class="pilcrow">¶</a>
3085c3188
< <li id="section-8.4.2-9.7">the expiration time of the Inactivity Timer.<a href="#section-8.4.2-9.7" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-9.7">the expiration time of the Inactivity Timer.<a href="#section-8.4.2-9.7" class="pilcrow">¶</a>
3089,3090c3192,3193
< <ul>
< <li id="section-8.4.2-11.1">one Attempts counter<a href="#section-8.4.2-11.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2-11.1">one Attempts counter<a href="#section-8.4.2-11.1" class="pilcrow">¶</a>
3092c3195
< <li id="section-8.4.2-11.2">one Retransmission Timer<a href="#section-8.4.2-11.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-11.2">one Retransmission Timer<a href="#section-8.4.2-11.2" class="pilcrow">¶</a>
3096,3097c3199,3200
< <ul>
< <li id="section-8.4.2-13.1">one Inactivity Timer, and<a href="#section-8.4.2-13.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2-13.1">one Inactivity Timer, and<a href="#section-8.4.2-13.1" class="pilcrow">¶</a>
3099c3202
< <li id="section-8.4.2-13.2">one Attempts counter.<a href="#section-8.4.2-13.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.2-13.2">one Attempts counter.<a href="#section-8.4.2-13.2" class="pilcrow">¶</a>
3112,3113c3215,3216
< <ul>
< <li id="section-8.4.2.1-5.1">the Fragment <span class="bcp14">MUST</span> be of the Regular type specified in <a href="#NotLastFrag" class="xref">Section 8.3.1.1</a>.<a href="#section-8.4.2.1-5.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.1-5.1">the Fragment <span class="bcp14">MUST</span> be of the Regular type specified in <a href="#NotLastFrag" class="auto internal xref">Section 8.3.1.1</a>.<a href="#section-8.4.2.1-5.1" class="pilcrow">¶</a>
3115c3218
< <li id="section-8.4.2.1-5.2">the FCN field <span class="bcp14">MUST</span> contain the tile index.<a href="#section-8.4.2.1-5.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.2.1-5.2">the FCN field <span class="bcp14">MUST</span> contain the tile index.<a href="#section-8.4.2.1-5.2" class="pilcrow">¶</a>
3117c3220
< <li id="section-8.4.2.1-5.3">each tile <span class="bcp14">MUST</span> be of a size
---
>               <li class="normal" id="section-8.4.2.1-5.3">each tile <span class="bcp14">MUST</span> be of a size
3122c3225
< <p id="section-8.4.2.1-6">The SCHC Fragment that carries the last tile <span class="bcp14">MUST</span> be an All-1 SCHC Fragment, described in <a href="#LastFrag" class="xref">Section 8.3.1.2</a>.<a href="#section-8.4.2.1-6" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.2.1-6">The SCHC Fragment that carries the last tile <span class="bcp14">MUST</span> be an All-1 SCHC Fragment, described in <a href="#LastFrag" class="auto internal xref">Section 8.3.1.2</a>.<a href="#section-8.4.2.1-6" class="pilcrow">¶</a></p>
3131,3132c3234,3235
< <ul>
< <li id="section-8.4.2.1-11.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.1-11.1">
3134,3135c3237,3238
< <ul>
< <li id="section-8.4.2.1-11.1.2.1">if the SCHC ACK indicates that some tiles are missing at the receiver, then
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.1-11.1.2.1">if the SCHC ACK indicates that some tiles are missing at the receiver, then
3141c3244
< <li id="section-8.4.2.1-11.1.2.2">if the current window is not the last one and the SCHC ACK indicates that all tiles were correctly received,
---
>                   <li class="normal" id="section-8.4.2.1-11.1.2.2">if the current window is not the last one and the SCHC ACK indicates that all tiles were correctly received,
3146c3249
< <li id="section-8.4.2.1-11.1.2.3">if the current window is the last one and the SCHC ACK indicates that more tiles were received than the sender sent,
---
>                   <li class="normal" id="section-8.4.2.1-11.1.2.3">if the current window is the last one and the SCHC ACK indicates that more tiles were received than the sender sent,
3150c3253
< <li id="section-8.4.2.1-11.1.2.4">if the current window is the last one and the
---
>                   <li class="normal" id="section-8.4.2.1-11.1.2.4">if the current window is the last one and the
3156c3259
< <li id="section-8.4.2.1-11.1.2.5">if the current window is the last one and the SCHC ACK indicates that integrity checking was successful,
---
>                   <li class="normal" id="section-8.4.2.1-11.1.2.5">if the current window is the last one and the SCHC ACK indicates that integrity checking was successful,
3161c3264
< <li id="section-8.4.2.1-11.2">
---
>               <li class="normal" id="section-8.4.2.1-11.2">
3163,3164c3266,3267
< <ul>
< <li id="section-8.4.2.1-11.2.2.1">if Attempts is strictly less that MAX_ACK_REQUESTS,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.1-11.2.2.1">if Attempts is strictly less that MAX_ACK_REQUESTS,
3168c3271
< <li id="section-8.4.2.1-11.2.2.2">otherwise,
---
>                   <li class="normal" id="section-8.4.2.1-11.2.2.2">otherwise,
3176,3177c3279,3280
< <ul>
< <li id="section-8.4.2.1-13.1">on receiving a SCHC Receiver-Abort, the fragment sender <span class="bcp14">MAY</span> exit with an error condition.<a href="#section-8.4.2.1-13.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.1-13.1">on receiving a SCHC Receiver-Abort, the fragment sender <span class="bcp14">MAY</span> exit with an error condition.<a href="#section-8.4.2.1-13.1" class="pilcrow">¶</a>
3179c3282
< <li id="section-8.4.2.1-13.2">on receiving a SCHC ACK that bears a W value different from the W value that it currently uses, the fragment sender <span class="bcp14">MUST</span> silently discard and ignore that SCHC ACK.<a href="#section-8.4.2.1-13.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.2.1-13.2">on receiving a SCHC ACK that bears a W value different from the W value that it currently uses, the fragment sender <span class="bcp14">MUST</span> silently discard and ignore that SCHC ACK.<a href="#section-8.4.2.1-13.2" class="pilcrow">¶</a>
3182c3285
< <p id="section-8.4.2.1-14"><a href="#Fig-ACKAlwaysSnd" class="xref">Figure 41</a> shows an example of a corresponding state machine.<a href="#section-8.4.2.1-14" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.2.1-14"><a href="#Fig-ACKAlwaysSnd" class="auto internal xref">Figure 41</a> shows an example of a corresponding state machine.<a href="#section-8.4.2.1-14" class="pilcrow">¶</a></p>
3191,3192c3294,3295
< <ul>
< <li id="section-8.4.2.2-2.1">the receiver <span class="bcp14">SHOULD</span> check if the DTag value has not recently been used for that RuleID value,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-2.1">the receiver <span class="bcp14">SHOULD</span> check if the DTag value has not recently been used for that RuleID value,
3197c3300
< <li id="section-8.4.2.2-2.2">the receiver <span class="bcp14">MUST</span> start a process to assemble a new SCHC Packet with that RuleID and DTag value pair.<a href="#section-8.4.2.2-2.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.2.2-2.2">the receiver <span class="bcp14">MUST</span> start a process to assemble a new SCHC Packet with that RuleID and DTag value pair.<a href="#section-8.4.2.2-2.2" class="pilcrow">¶</a>
3199c3302
< <li id="section-8.4.2.2-2.3">the receiver <span class="bcp14">MUST</span> start an Inactivity Timer for that RuleID and DTag pair.
---
>               <li class="normal" id="section-8.4.2.2-2.3">the receiver <span class="bcp14">MUST</span> start an Inactivity Timer for that RuleID and DTag pair.
3211,3212c3314,3315
< <ul>
< <li id="section-8.4.2.2-7.1">on receiving a SCHC Fragment or a SCHC ACK REQ, either one having the W bit different from the local W bit,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-7.1">on receiving a SCHC Fragment or a SCHC ACK REQ, either one having the W bit different from the local W bit,
3215c3318
< <li id="section-8.4.2.2-7.2">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
---
>               <li class="normal" id="section-8.4.2.2-7.2">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
3218c3321
< <li id="section-8.4.2.2-7.3">
---
>               <li class="normal" id="section-8.4.2.2-7.3">
3222,3223c3325,3326
< <ul>
< <li id="section-8.4.2.2-7.3.2.1">if the SCHC Fragment received is an All-0 SCHC Fragment,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-7.3.2.1">if the SCHC Fragment received is an All-0 SCHC Fragment,
3228c3331
< <li id="section-8.4.2.2-7.3.2.2">
---
>                   <li class="normal" id="section-8.4.2.2-7.3.2.2">
3234,3235c3337,3338
< <ul>
< <li id="section-8.4.2.2-7.3.2.2.2.1">If the integrity check indicates that the full SCHC Packet has been correctly reassembled,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-7.3.2.2.2.1">If the integrity check indicates that the full SCHC Packet has been correctly reassembled,
3238c3341
< <li id="section-8.4.2.2-7.3.2.2.2.2">If the integrity check indicates that the full SCHC Packet has not been correctly reassembled,
---
>                       <li class="normal" id="section-8.4.2.2-7.3.2.2.2.2">If the integrity check indicates that the full SCHC Packet has not been correctly reassembled,
3247,3248c3350,3351
< <ul>
< <li id="section-8.4.2.2-9.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.1">
3250,3251c3353,3354
< <ul>
< <li id="section-8.4.2.2-9.1.2.1">on receiving a SCHC Fragment that is not All-0 or All-1 and that has a W bit different from the local W bit,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.1.2.1">on receiving a SCHC Fragment that is not All-0 or All-1 and that has a W bit different from the local W bit,
3256c3359
< <li id="section-8.4.2.2-9.1.2.2">on receiving a SCHC ACK REQ with a W bit different from the local W bit,
---
>                   <li class="normal" id="section-8.4.2.2-9.1.2.2">on receiving a SCHC ACK REQ with a W bit different from the local W bit,
3261c3364
< <li id="section-8.4.2.2-9.1.2.3">on receiving a SCHC All-0 Fragment with a W bit different from the local W bit,
---
>                   <li class="normal" id="section-8.4.2.2-9.1.2.3">on receiving a SCHC All-0 Fragment with a W bit different from the local W bit,
3267c3370
< <li id="section-8.4.2.2-9.1.2.4">
---
>                   <li class="normal" id="section-8.4.2.2-9.1.2.4">
3275,3276c3378,3379
< <ul>
< <li id="section-8.4.2.2-9.1.2.4.2.1">If the integrity check indicates that the full SCHC Packet has been correctly reassembled,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.1.2.4.2.1">If the integrity check indicates that the full SCHC Packet has been correctly reassembled,
3279c3382
< <li id="section-8.4.2.2-9.1.2.4.2.2">If the integrity check indicates that the full SCHC Packet has not been correctly reassembled,
---
>                       <li class="normal" id="section-8.4.2.2-9.1.2.4.2.2">If the integrity check indicates that the full SCHC Packet has not been correctly reassembled,
3284c3387
< <li id="section-8.4.2.2-9.1.2.5">
---
>                   <li class="normal" id="section-8.4.2.2-9.1.2.5">
3286,3287c3389,3390
< <ul>
< <li id="section-8.4.2.2-9.1.2.5.2.1">if the SCHC Fragment received is an All-1 SCHC Fragment,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.1.2.5.2.1">if the SCHC Fragment received is an All-1 SCHC Fragment,
3290c3393
< <li id="section-8.4.2.2-9.1.2.5.2.2">otherwise,
---
>                       <li class="normal" id="section-8.4.2.2-9.1.2.5.2.2">otherwise,
3297c3400
< <li id="section-8.4.2.2-9.1.2.6">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
---
>                   <li class="normal" id="section-8.4.2.2-9.1.2.6">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
3302c3405
< <li id="section-8.4.2.2-9.2">
---
>               <li class="normal" id="section-8.4.2.2-9.2">
3304,3305c3407,3408
< <ul>
< <li id="section-8.4.2.2-9.2.2.1">on receiving a SCHC Fragment or a SCHC ACK REQ, either one having a W bit different from the local W bit,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.2.2.1">on receiving a SCHC Fragment or a SCHC ACK REQ, either one having a W bit different from the local W bit,
3308c3411
< <li id="section-8.4.2.2-9.2.2.2">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
---
>                   <li class="normal" id="section-8.4.2.2-9.2.2.2">on receiving a SCHC ACK REQ with the W bit equal to the local W bit,
3311c3414
< <li id="section-8.4.2.2-9.2.2.3">
---
>                   <li class="normal" id="section-8.4.2.2-9.2.2.3">
3313,3314c3416,3417
< <ul>
< <li id="section-8.4.2.2-9.2.2.3.2.1">if the SCHC Fragment received is an All-0 SCHC Fragment,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.2.2.3.2.1">if the SCHC Fragment received is an All-0 SCHC Fragment,
3317c3420
< <li id="section-8.4.2.2-9.2.2.3.2.2">
---
>                       <li class="normal" id="section-8.4.2.2-9.2.2.3.2.2">
3323,3324c3426,3427
< <ul>
< <li id="section-8.4.2.2-9.2.2.3.2.2.2.1">if the integrity check indicates that the full SCHC Packet has been correctly reassembled,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.2.2.3.2.2.2.1">if the integrity check indicates that the full SCHC Packet has been correctly reassembled,
3328c3431
< <li id="section-8.4.2.2-9.2.2.3.2.2.2.2">
---
>                           <li class="normal" id="section-8.4.2.2-9.2.2.3.2.2.2.2">
3330,3331c3433,3434
< <ul>
< <li id="section-8.4.2.2-9.2.2.3.2.2.2.2.2.1">if the SCHC Fragment received was an All-1 SCHC Fragment, the receiver <span class="bcp14">MUST</span> send a SCHC ACK for this window.<a href="#section-8.4.2.2-9.2.2.3.2.2.2.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-9.2.2.3.2.2.2.2.2.1">if the SCHC Fragment received was an All-1 SCHC Fragment, the receiver <span class="bcp14">MUST</span> send a SCHC ACK for this window.<a href="#section-8.4.2.2-9.2.2.3.2.2.2.2.2.1" class="pilcrow">¶</a>
3343,3344c3446,3447
< <ul>
< <li id="section-8.4.2.2-11.1">On receiving an All-1 SCHC Fragment or a SCHC ACK REQ, either one having the W bit equal to the local W bit, the receiver <span class="bcp14">MUST</span> send a SCHC ACK.<a href="#section-8.4.2.2-11.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.2.2-11.1">On receiving an All-1 SCHC Fragment or a SCHC ACK REQ, either one having the W bit equal to the local W bit, the receiver <span class="bcp14">MUST</span> send a SCHC ACK.<a href="#section-8.4.2.2-11.1" class="pilcrow">¶</a>
3346c3449
< <li id="section-8.4.2.2-11.2">Any other SCHC Fragment received <span class="bcp14">MUST</span> be silently ignored and discarded.<a href="#section-8.4.2.2-11.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.2.2-11.2">Any other SCHC Fragment received <span class="bcp14">MUST</span> be silently ignored and discarded.<a href="#section-8.4.2.2-11.2" class="pilcrow">¶</a>
3361c3464
< <p id="section-8.4.2.2-15"><a href="#Fig-ACKAlwaysRcv" class="xref">Figure 42</a> shows an example of a corresponding state machine.<a href="#section-8.4.2.2-15" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.2.2-15"><a href="#Fig-ACKAlwaysRcv" class="auto internal xref">Figure 42</a> shows an example of a corresponding state machine.<a href="#section-8.4.2.2-15" class="pilcrow">¶</a></p>
3373c3476
< See <a href="#AsymLinks" class="xref">Appendix F</a> for a discussion on using ACK-on-Error mode on quasi-bidirectional links.<a href="#section-8.4.3-1" class="pilcrow">¶</a></p>
---
> See <a href="#AsymLinks" class="auto internal xref">Appendix F</a> for a discussion on using ACK-on-Error mode on quasi-bidirectional links.<a href="#section-8.4.3-1" class="pilcrow">¶</a></p>
3378,3379c3481,3482
< <ul>
< <li id="section-8.4.3-4.1">The penultimate tile size <span class="bcp14">MUST</span> be the
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3-4.1">The penultimate tile size <span class="bcp14">MUST</span> be the
3382c3485
< <li id="section-8.4.3-4.2">the penultimate tile size <span class="bcp14">MUST</span> be either the regular tile size or the regular tile size minus one L2 Word.<a href="#section-8.4.3-4.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-4.2">the penultimate tile size <span class="bcp14">MUST</span> be either the regular tile size or the regular tile size minus one L2 Word.<a href="#section-8.4.3-4.2" class="pilcrow">¶</a>
3387c3490
< <p id="section-8.4.3-6">See <a href="#Fig-TilesACKonError" class="xref">Figure 23</a> for an example.<a href="#section-8.4.3-6" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.3-6">See <a href="#Fig-TilesACKonError" class="auto internal xref">Figure 23</a> for an example.<a href="#section-8.4.3-6" class="pilcrow">¶</a></p>
3390c3493
<             <div class="artwork art-text alignLeft" id="section-8.4.3-7.1">
---
>             <div class="alignLeft art-text artwork" id="section-8.4.3-7.1">
3414,3415c3517,3518
< <ul>
< <li id="section-8.4.3-10.1">integrity checking shows that the fragmented SCHC Packet has been correctly reassembled at the receive end,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3-10.1">integrity checking shows that the fragmented SCHC Packet has been correctly reassembled at the receive end,
3418c3521
< <li id="section-8.4.3-10.2">too many retransmission attempts were made, or<a href="#section-8.4.3-10.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-10.2">too many retransmission attempts were made, or<a href="#section-8.4.3-10.2" class="pilcrow">¶</a>
3420c3523
< <li id="section-8.4.3-10.3">the receiver determines that the transmission of this fragmented SCHC Packet has been inactive for too long.<a href="#section-8.4.3-10.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-10.3">the receiver determines that the transmission of this fragmented SCHC Packet has been inactive for too long.<a href="#section-8.4.3-10.3" class="pilcrow">¶</a>
3426,3427c3529,3530
< <ul>
< <li id="section-8.4.3-14.1">the tile size (a tile does not need to be multiple of an L2 Word, but it <span class="bcp14">MUST</span> be at least the size of an L2 Word),<a href="#section-8.4.3-14.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3-14.1">the tile size (a tile does not need to be multiple of an L2 Word, but it <span class="bcp14">MUST</span> be at least the size of an L2 Word),<a href="#section-8.4.3-14.1" class="pilcrow">¶</a>
3429c3532
< <li id="section-8.4.3-14.2">the value of M,<a href="#section-8.4.3-14.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.2">the value of M,<a href="#section-8.4.3-14.2" class="pilcrow">¶</a>
3431c3534
< <li id="section-8.4.3-14.3">the value of N,<a href="#section-8.4.3-14.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.3">the value of N,<a href="#section-8.4.3-14.3" class="pilcrow">¶</a>
3433c3536
< <li id="section-8.4.3-14.4">the value of WINDOW_SIZE, which <span class="bcp14">MUST</span> be strictly less than 2^N,<a href="#section-8.4.3-14.4" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.4">the value of WINDOW_SIZE, which <span class="bcp14">MUST</span> be strictly less than 2^N,<a href="#section-8.4.3-14.4" class="pilcrow">¶</a>
3435c3538
< <li id="section-8.4.3-14.5">the size and algorithm for the RCS field,<a href="#section-8.4.3-14.5" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.5">the size and algorithm for the RCS field,<a href="#section-8.4.3-14.5" class="pilcrow">¶</a>
3437c3540
< <li id="section-8.4.3-14.6">the value of T,<a href="#section-8.4.3-14.6" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.6">the value of T,<a href="#section-8.4.3-14.6" class="pilcrow">¶</a>
3439c3542
< <li id="section-8.4.3-14.7">the value of MAX_ACK_REQUESTS,<a href="#section-8.4.3-14.7" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.7">the value of MAX_ACK_REQUESTS,<a href="#section-8.4.3-14.7" class="pilcrow">¶</a>
3441c3544
< <li id="section-8.4.3-14.8">the expiration time of the Retransmission Timer,<a href="#section-8.4.3-14.8" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.8">the expiration time of the Retransmission Timer,<a href="#section-8.4.3-14.8" class="pilcrow">¶</a>
3443c3546
< <li id="section-8.4.3-14.9">the expiration time of the Inactivity Timer,<a href="#section-8.4.3-14.9" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.9">the expiration time of the Inactivity Timer,<a href="#section-8.4.3-14.9" class="pilcrow">¶</a>
3445c3548
< <li id="section-8.4.3-14.10">if the last tile is carried in a Regular SCHC Fragment or an All-1 SCHC Fragment (see <a href="#ACK-on-Error-sender" class="xref">Section 8.4.3.1</a>), and<a href="#section-8.4.3-14.10" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.10">if the last tile is carried in a Regular SCHC Fragment or an All-1 SCHC Fragment (see <a href="#ACK-on-Error-sender" class="auto internal xref">Section 8.4.3.1</a>), and<a href="#section-8.4.3-14.10" class="pilcrow">¶</a>
3447c3550
< <li id="section-8.4.3-14.11">if the penultimate tile <span class="bcp14">MAY</span> be one L2 Word smaller than the regular tile size. In this case, the regular tile size <span class="bcp14">MUST</span> be at least twice the L2 Word size.<a href="#section-8.4.3-14.11" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-14.11">if the penultimate tile <span class="bcp14">MAY</span> be one L2 Word smaller than the regular tile size. In this case, the regular tile size <span class="bcp14">MUST</span> be at least twice the L2 Word size.<a href="#section-8.4.3-14.11" class="pilcrow">¶</a>
3451,3452c3554,3555
< <ul>
< <li id="section-8.4.3-16.1">one Attempts counter, and<a href="#section-8.4.3-16.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3-16.1">one Attempts counter, and<a href="#section-8.4.3-16.1" class="pilcrow">¶</a>
3454c3557
< <li id="section-8.4.3-16.2">one Retransmission Timer.<a href="#section-8.4.3-16.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-16.2">one Retransmission Timer.<a href="#section-8.4.3-16.2" class="pilcrow">¶</a>
3458,3459c3561,3562
< <ul>
< <li id="section-8.4.3-18.1">one Inactivity Timer, and<a href="#section-8.4.3-18.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3-18.1">one Inactivity Timer, and<a href="#section-8.4.3-18.1" class="pilcrow">¶</a>
3461c3564
< <li id="section-8.4.3-18.2">one Attempts counter.<a href="#section-8.4.3-18.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="section-8.4.3-18.2">one Attempts counter.<a href="#section-8.4.3-18.2" class="pilcrow">¶</a>
3470,3471c3573,3574
< <ul>
< <li id="section-8.4.3.1-2.1">the fragment sender <span class="bcp14">MUST</span> select a RuleID and DTag value pair for this SCHC Packet.
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-2.1">the fragment sender <span class="bcp14">MUST</span> select a RuleID and DTag value pair for this SCHC Packet.
3474c3577
< <li id="section-8.4.3.1-2.2">the fragment sender <span class="bcp14">MUST</span> initialize the Attempts counter to 0 for that RuleID and DTag value pair.<a href="#section-8.4.3.1-2.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-2.2">the fragment sender <span class="bcp14">MUST</span> initialize the Attempts counter to 0 for that RuleID and DTag value pair.<a href="#section-8.4.3.1-2.2" class="pilcrow">¶</a>
3479,3480c3582,3583
< <ul>
< <li id="section-8.4.3.1-4.1">the selected tiles <span class="bcp14">MUST</span> be contiguous in the original SCHC Packet, and<a href="#section-8.4.3.1-4.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-4.1">the selected tiles <span class="bcp14">MUST</span> be contiguous in the original SCHC Packet, and<a href="#section-8.4.3.1-4.1" class="pilcrow">¶</a>
3482c3585
< <li id="section-8.4.3.1-4.2">they <span class="bcp14">MUST</span> be placed in the SCHC Fragment Payload adjacent to one another, in the order they appear in the SCHC Packet, from the start of the SCHC Packet toward its end.<a href="#section-8.4.3.1-4.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-4.2">they <span class="bcp14">MUST</span> be placed in the SCHC Fragment Payload adjacent to one another, in the order they appear in the SCHC Packet, from the start of the SCHC Packet toward its end.<a href="#section-8.4.3.1-4.2" class="pilcrow">¶</a>
3485c3588
< <p id="section-8.4.3.1-5">Tiles that are not the last one <span class="bcp14">MUST</span> be sent in Regular SCHC Fragments specified in <a href="#NotLastFrag" class="xref">Section 8.3.1.1</a>.
---
> <p id="section-8.4.3.1-5">Tiles that are not the last one <span class="bcp14">MUST</span> be sent in Regular SCHC Fragments specified in <a href="#NotLastFrag" class="auto internal xref">Section 8.3.1.1</a>.
3489,3490c3592,3593
< <ul>
< <li id="section-8.4.3.1-8.1">in a Regular SCHC Fragment, alone or as part of a multi-tiles Payload,<a href="#section-8.4.3.1-8.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-8.1">in a Regular SCHC Fragment, alone or as part of a multi-tiles Payload,<a href="#section-8.4.3.1-8.1" class="pilcrow">¶</a>
3492c3595
< <li id="section-8.4.3.1-8.2">alone in an All-1 SCHC Fragment, or<a href="#section-8.4.3.1-8.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-8.2">alone in an All-1 SCHC Fragment, or<a href="#section-8.4.3.1-8.2" class="pilcrow">¶</a>
3494c3597
< <li id="section-8.4.3.1-8.3">with any of the above two methods.<a href="#section-8.4.3.1-8.3" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-8.3">with any of the above two methods.<a href="#section-8.4.3.1-8.3" class="pilcrow">¶</a>
3502,3503c3605,3606
< <ul>
< <li id="section-8.4.3.1-14.1">an All-1 SCHC Fragment, or<a href="#section-8.4.3.1-14.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-14.1">an All-1 SCHC Fragment, or<a href="#section-8.4.3.1-14.1" class="pilcrow">¶</a>
3505c3608
< <li id="section-8.4.3.1-14.2">a SCHC ACK REQ.<a href="#section-8.4.3.1-14.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-14.2">a SCHC ACK REQ.<a href="#section-8.4.3.1-14.2" class="pilcrow">¶</a>
3511,3512c3614,3615
< <ul>
< <li id="section-8.4.3.1-17.1">it <span class="bcp14">MUST</span> increment the Attempts counter, and<a href="#section-8.4.3.1-17.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-17.1">it <span class="bcp14">MUST</span> increment the Attempts counter, and<a href="#section-8.4.3.1-17.1" class="pilcrow">¶</a>
3514c3617
< <li id="section-8.4.3.1-17.2">it <span class="bcp14">MUST</span> reset the Retransmission Timer.<a href="#section-8.4.3.1-17.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.1-17.2">it <span class="bcp14">MUST</span> reset the Retransmission Timer.<a href="#section-8.4.3.1-17.2" class="pilcrow">¶</a>
3518,3519c3621,3622
< <ul>
< <li id="section-8.4.3.1-19.1">if the Attempts counter is strictly less than MAX_ACK_REQUESTS,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-19.1">if the Attempts counter is strictly less than MAX_ACK_REQUESTS,
3524c3627
< <li id="section-8.4.3.1-19.2">otherwise, the fragment sender <span class="bcp14">MUST</span> send a SCHC Sender-Abort, and
---
>               <li class="normal" id="section-8.4.3.1-19.2">otherwise, the fragment sender <span class="bcp14">MUST</span> send a SCHC Sender-Abort, and
3531,3532c3634,3635
< <ul>
< <li id="section-8.4.3.1-22.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1">
3534,3535c3637,3638
< <ul>
< <li id="section-8.4.3.1-22.1.2.1">if the C bit is set, the sender <span class="bcp14">MAY</span> exit successfully.<a href="#section-8.4.3.1-22.1.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.1">if the C bit is set, the sender <span class="bcp14">MAY</span> exit successfully.<a href="#section-8.4.3.1-22.1.2.1" class="pilcrow">¶</a>
3537c3640
< <li id="section-8.4.3.1-22.1.2.2">
---
>                   <li class="normal" id="section-8.4.3.1-22.1.2.2">
3539,3540c3642,3643
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1">
3542,3543c3645,3646
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.1">
3545,3546c3648,3649
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.1.2.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.1.2.1">
3549c3652
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.1.2.2">
---
>                               <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.1.2.2">
3554c3657
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.2">
---
>                           <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.2">
3556,3557c3659,3660
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.1">the fragment sender <span class="bcp14">MUST</span> send SCHC Fragment messages containing all the tiles that are reported missing in the SCHC ACK.<a href="#section-8.4.3.1-22.1.2.2.2.1.2.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.1">the fragment sender <span class="bcp14">MUST</span> send SCHC Fragment messages containing all the tiles that are reported missing in the SCHC ACK.<a href="#section-8.4.3.1-22.1.2.2.2.1.2.2.2.1" class="pilcrow">¶</a>
3559c3662
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.2">if the last of these SCHC Fragment messages is not an All-1 SCHC Fragment,
---
>                               <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.2">if the last of these SCHC Fragment messages is not an All-1 SCHC Fragment,
3562c3665
< <li id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.3">in doing the two items above, the sender <span class="bcp14">MUST</span> ascertain that the receiver will not receive the last tile through both a Regular SCHC Fragment and an All-1 SCHC Fragment.<a href="#section-8.4.3.1-22.1.2.2.2.1.2.2.2.3" class="pilcrow">¶</a>
---
>                               <li class="normal" id="section-8.4.3.1-22.1.2.2.2.1.2.2.2.3">in doing the two items above, the sender <span class="bcp14">MUST</span> ascertain that the receiver will not receive the last tile through both a Regular SCHC Fragment and an All-1 SCHC Fragment.<a href="#section-8.4.3.1-22.1.2.2.2.1.2.2.2.3" class="pilcrow">¶</a>
3568c3671
< <li id="section-8.4.3.1-22.1.2.2.2.2">
---
>                       <li class="normal" id="section-8.4.3.1-22.1.2.2.2.2">
3570,3571c3673,3674
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.2.2.1">if the SCHC ACK shows no missing tile at the receiver, the sender
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.2.2.1">if the SCHC ACK shows no missing tile at the receiver, the sender
3574c3677
< <li id="section-8.4.3.1-22.1.2.2.2.2.2.2">
---
>                           <li class="normal" id="section-8.4.3.1-22.1.2.2.2.2.2.2">
3576,3577c3679,3680
< <ul>
< <li id="section-8.4.3.1-22.1.2.2.2.2.2.2.2.1">the fragment sender <span class="bcp14">MUST</span> send SCHC Fragment messages containing all the tiles that are reported missing in the SCHC ACK.<a href="#section-8.4.3.1-22.1.2.2.2.2.2.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.1.2.2.2.2.2.2.2.1">the fragment sender <span class="bcp14">MUST</span> send SCHC Fragment messages containing all the tiles that are reported missing in the SCHC ACK.<a href="#section-8.4.3.1-22.1.2.2.2.2.2.2.2.1" class="pilcrow">¶</a>
3579c3682
< <li id="section-8.4.3.1-22.1.2.2.2.2.2.2.2.2">the fragment sender <span class="bcp14">MUST</span> then send
---
>                               <li class="normal" id="section-8.4.3.1-22.1.2.2.2.2.2.2.2.2">the fragment sender <span class="bcp14">MUST</span> then send
3591c3694
< <li id="section-8.4.3.1-22.2">
---
>               <li class="normal" id="section-8.4.3.1-22.2">
3593,3594c3696,3697
< <ul>
< <li id="section-8.4.3.1-22.2.2.1">
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.1-22.2.2.1">
3597c3700
< <li id="section-8.4.3.1-22.2.2.2">then, it <span class="bcp14">MAY</span> send a SCHC ACK REQ with the W field corresponding to the last window.<a href="#section-8.4.3.1-22.2.2.2" class="pilcrow">¶</a>
---
>                   <li class="normal" id="section-8.4.3.1-22.2.2.2">then, it <span class="bcp14">MAY</span> send a SCHC ACK REQ with the W field corresponding to the last window.<a href="#section-8.4.3.1-22.2.2.2" class="pilcrow">¶</a>
3602c3705
< <p id="section-8.4.3.1-23">See <a href="#Fig-ACKonerrorSnd" class="xref">Figure 43</a> for one among several possible examples of a Finite State Machine implementing a sender behavior obeying this specification.<a href="#section-8.4.3.1-23" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.3.1-23">See <a href="#Fig-ACKonerrorSnd" class="auto internal xref">Figure 43</a> for one among several possible examples of a Finite State Machine implementing a sender behavior obeying this specification.<a href="#section-8.4.3.1-23" class="pilcrow">¶</a></p>
3611,3612c3714,3715
< <ul>
< <li id="section-8.4.3.2-2.1">the receiver <span class="bcp14">SHOULD</span> check if the DTag value has not recently been used for that RuleID value,
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-2.1">the receiver <span class="bcp14">SHOULD</span> check if the DTag value has not recently been used for that RuleID value,
3617c3720
< <li id="section-8.4.3.2-2.2">the receiver <span class="bcp14">MUST</span> start a process to assemble a new SCHC Packet with that RuleID and DTag value pair.
---
>               <li class="normal" id="section-8.4.3.2-2.2">the receiver <span class="bcp14">MUST</span> start a process to assemble a new SCHC Packet with that RuleID and DTag value pair.
3628,3629c3731,3732
< <ul>
< <li id="section-8.4.3.2-6.1">if the FCN is All-1, if a Payload is present, the full SCHC Fragment Payload <span class="bcp14">MUST</span> be assembled including the padding bits.
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-6.1">if the FCN is All-1, if a Payload is present, the full SCHC Fragment Payload <span class="bcp14">MUST</span> be assembled including the padding bits.
3636c3739
< <li id="section-8.4.3.2-6.2">
---
>               <li class="normal" id="section-8.4.3.2-6.2">
3638,3639c3741,3742
< <ul>
< <li id="section-8.4.3.2-6.2.2.1">If allowed by the Profile, the end of the payload <span class="bcp14">MAY</span> contain the last tile, which may be shorter. Padding bits are indistinguishable from the tile data bits, at this stage.<a href="#section-8.4.3.2-6.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-6.2.2.1">If allowed by the Profile, the end of the payload <span class="bcp14">MAY</span> contain the last tile, which may be shorter. Padding bits are indistinguishable from the tile data bits, at this stage.<a href="#section-8.4.3.2-6.2.2.1" class="pilcrow">¶</a>
3641c3744
< <li id="section-8.4.3.2-6.2.2.2">The payload may contain the penultimate tile that, if allowed by the Profile, <span class="bcp14">MAY</span> be exactly one L2 Word shorter than the regular tile size.<a href="#section-8.4.3.2-6.2.2.2" class="pilcrow">¶</a>
---
>                   <li class="normal" id="section-8.4.3.2-6.2.2.2">The payload may contain the penultimate tile that, if allowed by the Profile, <span class="bcp14">MAY</span> be exactly one L2 Word shorter than the regular tile size.<a href="#section-8.4.3.2-6.2.2.2" class="pilcrow">¶</a>
3643c3746
< <li id="section-8.4.3.2-6.2.2.3">
---
>                   <li class="normal" id="section-8.4.3.2-6.2.2.3">
3646,3647c3749,3750
< <ul>
< <li id="section-8.4.3.2-6.2.2.3.2.1">the size of the tiles is known a priori,<a href="#section-8.4.3.2-6.2.2.3.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-6.2.2.3.2.1">the size of the tiles is known a priori,<a href="#section-8.4.3.2-6.2.2.3.2.1" class="pilcrow">¶</a>
3649c3752
< <li id="section-8.4.3.2-6.2.2.3.2.2">tiles are larger than an L2 Word, and<a href="#section-8.4.3.2-6.2.2.3.2.2" class="pilcrow">¶</a>
---
>                       <li class="normal" id="section-8.4.3.2-6.2.2.3.2.2">tiles are larger than an L2 Word, and<a href="#section-8.4.3.2-6.2.2.3.2.2" class="pilcrow">¶</a>
3651c3754
< <li id="section-8.4.3.2-6.2.2.3.2.3">padding bits are always strictly less than an L2 Word.<a href="#section-8.4.3.2-6.2.2.3.2.3" class="pilcrow">¶</a>
---
>                       <li class="normal" id="section-8.4.3.2-6.2.2.3.2.3">padding bits are always strictly less than an L2 Word.<a href="#section-8.4.3.2-6.2.2.3.2.3" class="pilcrow">¶</a>
3659,3660c3762,3763
< <ul>
< <li id="section-8.4.3.2-8.1">if the receiver knows of any windows with missing tiles for the packet being reassembled, it
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-8.1">if the receiver knows of any windows with missing tiles for the packet being reassembled, it
3663c3766
< <li id="section-8.4.3.2-8.2">
---
>               <li class="normal" id="section-8.4.3.2-8.2">
3665,3666c3768,3769
< <ul>
< <li id="section-8.4.3.2-8.2.2.1">if it has received at least one tile, it <span class="bcp14">MUST</span> return a SCHC ACK for the highest-numbered window it currently has tiles for,<a href="#section-8.4.3.2-8.2.2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-8.2.2.1">if it has received at least one tile, it <span class="bcp14">MUST</span> return a SCHC ACK for the highest-numbered window it currently has tiles for,<a href="#section-8.4.3.2-8.2.2.1" class="pilcrow">¶</a>
3668c3771
< <li id="section-8.4.3.2-8.2.2.2">otherwise, it <span class="bcp14">MUST</span> return a SCHC ACK for window numbered 0.<a href="#section-8.4.3.2-8.2.2.2" class="pilcrow">¶</a>
---
>                   <li class="normal" id="section-8.4.3.2-8.2.2.2">otherwise, it <span class="bcp14">MUST</span> return a SCHC ACK for window numbered 0.<a href="#section-8.4.3.2-8.2.2.2" class="pilcrow">¶</a>
3689,3690c3792,3793
< <ul>
< <li id="section-8.4.3.2-16.1">a Sender-Abort has been received, or<a href="#section-8.4.3.2-16.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-8.4.3.2-16.1">a Sender-Abort has been received, or<a href="#section-8.4.3.2-16.1" class="pilcrow">¶</a>
3692c3795
< <li id="section-8.4.3.2-16.2">the Inactivity Timer has expired, or<a href="#section-8.4.3.2-16.2" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.2-16.2">the Inactivity Timer has expired, or<a href="#section-8.4.3.2-16.2" class="pilcrow">¶</a>
3694c3797
< <li id="section-8.4.3.2-16.3">the Attempts counter has exceeded MAX_ACK_REQUESTS, or<a href="#section-8.4.3.2-16.3" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.2-16.3">the Attempts counter has exceeded MAX_ACK_REQUESTS, or<a href="#section-8.4.3.2-16.3" class="pilcrow">¶</a>
3696c3799
< <li id="section-8.4.3.2-16.4">at least an All-1 SCHC Fragment has been received and integrity checking of the reassembled SCHC Packet is successful.<a href="#section-8.4.3.2-16.4" class="pilcrow">¶</a>
---
>               <li class="normal" id="section-8.4.3.2-16.4">at least an All-1 SCHC Fragment has been received and integrity checking of the reassembled SCHC Packet is successful.<a href="#section-8.4.3.2-16.4" class="pilcrow">¶</a>
3699c3802
< <p id="section-8.4.3.2-17">See <a href="#Fig-ACKonerrorRcv" class="xref">Figure 44</a> for one among several possible examples of a Finite State Machine implementing a receiver behavior obeying this specification. The example provided is meant to match the sender Finite State Machine of <a href="#Fig-ACKonerrorSnd" class="xref">Figure 43</a>.<a href="#section-8.4.3.2-17" class="pilcrow">¶</a></p>
---
> <p id="section-8.4.3.2-17">See <a href="#Fig-ACKonerrorRcv" class="auto internal xref">Figure 44</a> for one among several possible examples of a Finite State Machine implementing a receiver behavior obeying this specification. The example provided is meant to match the sender Finite State Machine of <a href="#Fig-ACKonerrorSnd" class="auto internal xref">Figure 43</a>.<a href="#section-8.4.3.2-17" class="pilcrow">¶</a></p>
3718c3821
< <p id="section-9-3">If a SCHC Packet is sent unfragmented (see <a href="#Fig-Operations-Pad" class="xref">Figure 24</a>), it is padded as needed for transmission.<a href="#section-9-3" class="pilcrow">¶</a></p>
---
> <p id="section-9-3">If a SCHC Packet is sent unfragmented (see <a href="#Fig-Operations-Pad" class="auto internal xref">Figure 24</a>), it is padded as needed for transmission.<a href="#section-9-3" class="pilcrow">¶</a></p>
3723c3826
<         <div class="artwork art-text alignLeft" id="section-9-5.1">
---
>         <div class="alignLeft art-text artwork" id="section-9-5.1">
3762c3865
< An example of a set of Rules for UDP/IPv6 header compression is provided in <a href="#compressIPv6" class="xref">Appendix A</a>.<a href="#section-10-1" class="pilcrow">¶</a></p>
---
> An example of a set of Rules for UDP/IPv6 header compression is provided in <a href="#compressIPv6" class="auto internal xref">Appendix A</a>.<a href="#section-10-1" class="pilcrow">¶</a></p>
3782,3783c3885,3886
< <ul>
< <li id="section-10.2-3.1">One possibility is to not compress the field and send the original value. In the Rule, TV is not set to any particular value, MO is set to "ignore", and CDA is set to "value-sent".<a href="#section-10.2-3.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-10.2-3.1">One possibility is to not compress the field and send the original value. In the Rule, TV is not set to any particular value, MO is set to "ignore", and CDA is set to "value-sent".<a href="#section-10.2-3.1" class="pilcrow">¶</a>
3785c3888
< <li id="section-10.2-3.2">
---
>           <li class="normal" id="section-10.2-3.2">
3801,3802c3904,3905
< <p id="section-10.3-2">If the flow label is set to a pseudorandom value according to <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>, in the Rule, TV is not set to any particular value, MO is set to "ignore", and CDA is set to "value-sent".<a href="#section-10.3-2" class="pilcrow">¶</a></p>
< <p id="section-10.3-3">If the flow label is set according to some prior agreement, i.e., by a flow state establishment method as allowed by <span>[<a href="#RFC6437" class="xref">RFC6437</a>]</span>,
---
> <p id="section-10.3-2">If the flow label is set to a pseudorandom value according to <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span>, in the Rule, TV is not set to any particular value, MO is set to "ignore", and CDA is set to "value-sent".<a href="#section-10.3-2" class="pilcrow">¶</a></p>
> <p id="section-10.3-3">If the flow label is set according to some prior agreement, i.e., by a flow state establishment method as allowed by <span>[<a href="#RFC6437" class="cite xref">RFC6437</a>]</span>,
3833,3834c3936,3937
< <ul>
< <li id="section-10.6-2.1">in an Up Field Descriptor, elide the field: the TV is set to the known constant value, the MO is set to "equal" and the CDA is set to "not-sent".<a href="#section-10.6-2.1" class="pilcrow">¶</a>
---
> <ul class="normal">
> <li class="normal" id="section-10.6-2.1">in an Up Field Descriptor, elide the field: the TV is set to the known constant value, the MO is set to "equal" and the CDA is set to "not-sent".<a href="#section-10.6-2.1" class="pilcrow">¶</a>
3836c3939
< <li id="section-10.6-2.2">in a Dw Field Descriptor, the Hop Limit is elided for transmission and forced to 1 at the receiver, by setting TV to 1, MO to "ignore" and CDA to "not-sent". This prevents any further forwarding.<a href="#section-10.6-2.2" class="pilcrow">¶</a>
---
>           <li class="normal" id="section-10.6-2.2">in a Dw Field Descriptor, the Hop Limit is elided for transmission and forced to 1 at the receiver, by setting TV to 1, MO to "ignore" and CDA to "not-sent". This prevents any further forwarding.<a href="#section-10.6-2.2" class="pilcrow">¶</a>
3846c3949
< <p id="section-10.7-1">As in 6LoWPAN <span>[<a href="#RFC4944" class="xref">RFC4944</a>]</span>, IPv6 addresses are split into two 64-bit-long fields; one for the prefix and one for the Interface Identifier (IID). These fields <span class="bcp14">SHOULD</span> be compressed. To allow for a single Rule being used for both directions, these values are identified by their role (Dev or App) and not by their position in the header (source or destination).<a href="#section-10.7-1" class="pilcrow">¶</a></p>
---
> <p id="section-10.7-1">As in 6LoWPAN <span>[<a href="#RFC4944" class="cite xref">RFC4944</a>]</span>, IPv6 addresses are split into two 64-bit-long fields; one for the prefix and one for the Interface Identifier (IID). These fields <span class="bcp14">SHOULD</span> be compressed. To allow for a single Rule being used for both directions, these values are identified by their role (Dev or App) and not by their position in the header (source or destination).<a href="#section-10.7-1" class="pilcrow">¶</a></p>
3855c3958
< <p id="section-10.7.1-2">If the Rule is intended to compress packets with different prefix values, match-mapping <span class="bcp14">SHOULD</span> be used. The different prefixes are listed in the TV, the MO is set to "match-mapping" and the CDA is set to "mapping-sent". See <a href="#Fig-fields" class="xref">Figure 26</a>.<a href="#section-10.7.1-2" class="pilcrow">¶</a></p>
---
> <p id="section-10.7.1-2">If the Rule is intended to compress packets with different prefix values, match-mapping <span class="bcp14">SHOULD</span> be used. The different prefixes are listed in the TV, the MO is set to "match-mapping" and the CDA is set to "mapping-sent". See <a href="#Fig-fields" class="auto internal xref">Figure 26</a>.<a href="#section-10.7.1-2" class="pilcrow">¶</a></p>
3866c3969
< <p id="section-10.7.2-2">As described in <span>[<a href="#RFC8065" class="xref">RFC8065</a>]</span>, it may be undesirable to build the Dev IPv6 IID out of the Dev address. Another static value is used instead.
---
> <p id="section-10.7.2-2">As described in <span>[<a href="#RFC8065" class="cite xref">RFC8065</a>]</span>, it may be undesirable to build the Dev IPv6 IID out of the Dev address. Another static value is used instead.
3913c4016
< packets, but there are exceptions <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>.<a href="#section-10.11-1" class="pilcrow">¶</a></p>
---
> packets, but there are exceptions <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>.<a href="#section-10.11-1" class="pilcrow">¶</a></p>
3916c4019
< sending and/or receiving. <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> requires any node
---
> sending and/or receiving. <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span> requires any node
3919,3920c4022,4023
< Zero Checksums" <span>[<a href="#RFC6936" class="xref">RFC6936</a>]</span>.<a href="#section-10.11-2" class="pilcrow">¶</a></p>
< <p id="section-10.11-3">6LoWPAN Header Compression <span>[<a href="#RFC6282" class="xref">RFC6282</a>]</span> also specifies that a UDP
---
> Zero Checksums" <span>[<a href="#RFC6936" class="cite xref">RFC6936</a>]</span>.<a href="#section-10.11-2" class="pilcrow">¶</a></p>
> <p id="section-10.11-3">6LoWPAN Header Compression <span>[<a href="#RFC6282" class="cite xref">RFC6282</a>]</span> also specifies that a UDP
3963c4066
< <p id="section-12-1">As explained in <a href="#Overview" class="xref">Section 5</a>, SCHC is expected to be implemented on top of LPWAN technologies,
---
> <p id="section-12-1">As explained in <a href="#Overview" class="auto internal xref">Section 5</a>, SCHC is expected to be implemented on top of LPWAN technologies,
4008c4111
< <p id="section-12.1.3-1">As explained in <a href="#PProcessing" class="xref">Section 7.2</a>, using FPs with value 0 in Field Descriptors in a Rule may result in header fields
---
> <p id="section-12.1.3-1">As explained in <a href="#PProcessing" class="auto internal xref">Section 7.2</a>, using FPs with value 0 in Field Descriptors in a Rule may result in header fields
4010c4113
< Likewise, as stated in <a href="#NotSentCDA" class="xref">Section 7.4.3</a>, using an "ignore" MO together with a "not-sent" CDA will
---
> Likewise, as stated in <a href="#NotSentCDA" class="auto internal xref">Section 7.4.3</a>, using an "ignore" MO together with a "not-sent" CDA will
4067c4170
< As described in <a href="#FunctionalMapping" class="xref">Section 5.2</a>, even if the SCHC F/R on the Network Infrastructure side is located
---
> As described in <a href="#FunctionalMapping" class="auto internal xref">Section 5.2</a>, even if the SCHC F/R on the Network Infrastructure side is located
4080c4183
< As described in <a href="#FunctionalMapping" class="xref">Section 5.2</a>, even if the SCHC F/R on the Network Infrastructure side is located
---
> As described in <a href="#FunctionalMapping" class="auto internal xref">Section 5.2</a>, even if the SCHC F/R on the Network Infrastructure side is located
4100c4203
< <span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
4104c4207
< <span class="refAuthor">Fairhurst, G.</span><span class="refAuthor"> and M. Westerlund</span>, <span class="refTitle">"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"</span>, <span class="seriesInfo">RFC 6936</span>, <span class="seriesInfo">DOI 10.17487/RFC6936</span>, <time datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6936">https://www.rfc-editor.org/info/rfc6936</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Fairhurst, G.</span> and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"</span>, <span class="seriesInfo">RFC 6936</span>, <span class="seriesInfo">DOI 10.17487/RFC6936</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6936">https://www.rfc-editor.org/info/rfc6936</a>&gt;</span>. </dd>
4108c4211
< <span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
4112c4215
< <span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
4116c4219
< <span class="refAuthor">Farrell, S., Ed.</span>, <span class="refTitle">"Low-Power Wide Area Network (LPWAN) Overview"</span>, <span class="seriesInfo">RFC 8376</span>, <span class="seriesInfo">DOI 10.17487/RFC8376</span>, <time datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8376">https://www.rfc-editor.org/info/rfc8376</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Farrell, S., Ed.</span>, <span class="refTitle">"Low-Power Wide Area Network (LPWAN) Overview"</span>, <span class="seriesInfo">RFC 8376</span>, <span class="seriesInfo">DOI 10.17487/RFC8376</span>, <time datetime="2018-05" class="refDate">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8376">https://www.rfc-editor.org/info/rfc8376</a>&gt;</span>. </dd>
4127c4230
< <span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Ethernet"</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2012.6419735</span>, <span class="seriesInfo">IEEE Standard 802.3-2012</span>, <time datetime="2012-12">December 2012</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/6419735">https://ieeexplore.ieee.org/document/6419735</a>&gt;</span>. </dd>
---
> <span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Ethernet"</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2012.6419735</span>, <span class="seriesInfo">IEEE Standard 802.3-2012</span>, <time datetime="2012-12" class="refDate">December 2012</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/6419735">https://ieeexplore.ieee.org/document/6419735</a>&gt;</span>. </dd>
4131c4234
< <span class="refAuthor">Montenegro, G.</span><span class="refAuthor">, Kushalnagar, N.</span><span class="refAuthor">, Hui, J.</span><span class="refAuthor">, and D. Culler</span>, <span class="refTitle">"Transmission of IPv6 Packets over IEEE 802.15.4 Networks"</span>, <span class="seriesInfo">RFC 4944</span>, <span class="seriesInfo">DOI 10.17487/RFC4944</span>, <time datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4944">https://www.rfc-editor.org/info/rfc4944</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Montenegro, G.</span>, <span class="refAuthor">Kushalnagar, N.</span>, <span class="refAuthor">Hui, J.</span>, and <span class="refAuthor">D. Culler</span>, <span class="refTitle">"Transmission of IPv6 Packets over IEEE 802.15.4 Networks"</span>, <span class="seriesInfo">RFC 4944</span>, <span class="seriesInfo">DOI 10.17487/RFC4944</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4944">https://www.rfc-editor.org/info/rfc4944</a>&gt;</span>. </dd>
4135c4238
< <span class="refAuthor">Sandlund, K.</span><span class="refAuthor">, Pelletier, G.</span><span class="refAuthor">, and L-E. Jonsson</span>, <span class="refTitle">"The RObust Header Compression (ROHC) Framework"</span>, <span class="seriesInfo">RFC 5795</span>, <span class="seriesInfo">DOI 10.17487/RFC5795</span>, <time datetime="2010-03">March 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5795">https://www.rfc-editor.org/info/rfc5795</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Sandlund, K.</span>, <span class="refAuthor">Pelletier, G.</span>, and <span class="refAuthor">L-E. Jonsson</span>, <span class="refTitle">"The RObust Header Compression (ROHC) Framework"</span>, <span class="seriesInfo">RFC 5795</span>, <span class="seriesInfo">DOI 10.17487/RFC5795</span>, <time datetime="2010-03" class="refDate">March 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5795">https://www.rfc-editor.org/info/rfc5795</a>&gt;</span>. </dd>
4139c4242
< <span class="refAuthor">Hui, J., Ed.</span><span class="refAuthor"> and P. Thubert</span>, <span class="refTitle">"Compression Format for IPv6 Datagrams over IEEE 802.15.4-Based Networks"</span>, <span class="seriesInfo">RFC 6282</span>, <span class="seriesInfo">DOI 10.17487/RFC6282</span>, <time datetime="2011-09">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6282">https://www.rfc-editor.org/info/rfc6282</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Hui, J., Ed.</span> and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Compression Format for IPv6 Datagrams over IEEE 802.15.4-Based Networks"</span>, <span class="seriesInfo">RFC 6282</span>, <span class="seriesInfo">DOI 10.17487/RFC6282</span>, <time datetime="2011-09" class="refDate">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6282">https://www.rfc-editor.org/info/rfc6282</a>&gt;</span>. </dd>
4143c4246
< <span class="refAuthor">Amante, S.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, Jiang, S.</span><span class="refAuthor">, and J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time datetime="2011-11" class="refDate">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
4147c4250
< <span class="refAuthor">Carpenter, B.</span><span class="refAuthor"> and S. Jiang</span>, <span class="refTitle">"Significance of IPv6 Interface Identifiers"</span>, <span class="seriesInfo">RFC 7136</span>, <span class="seriesInfo">DOI 10.17487/RFC7136</span>, <time datetime="2014-02">February 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7136">https://www.rfc-editor.org/info/rfc7136</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">S. Jiang</span>, <span class="refTitle">"Significance of IPv6 Interface Identifiers"</span>, <span class="seriesInfo">RFC 7136</span>, <span class="seriesInfo">DOI 10.17487/RFC7136</span>, <time datetime="2014-02" class="refDate">February 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7136">https://www.rfc-editor.org/info/rfc7136</a>&gt;</span>. </dd>
4151c4254
< <span class="refAuthor">Thaler, D.</span>, <span class="refTitle">"Privacy Considerations for IPv6 Adaptation-Layer Mechanisms"</span>, <span class="seriesInfo">RFC 8065</span>, <span class="seriesInfo">DOI 10.17487/RFC8065</span>, <time datetime="2017-02">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8065">https://www.rfc-editor.org/info/rfc8065</a>&gt;</span>. </dd>
---
> <span class="refAuthor">Thaler, D.</span>, <span class="refTitle">"Privacy Considerations for IPv6 Adaptation-Layer Mechanisms"</span>, <span class="seriesInfo">RFC 8065</span>, <span class="seriesInfo">DOI 10.17487/RFC8065</span>, <time datetime="2017-02" class="refDate">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8065">https://www.rfc-editor.org/info/rfc8065</a>&gt;</span>. </dd>
4157c4260
< <section id="section-appendix.a">
---
> <section id="appendix-A">
4159c4262
< <a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-compression-examples" class="section-name selfRef">Compression Examples</a>
---
> <a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-compression-examples" class="section-name selfRef">Compression Examples</a>
4161,4162c4264,4265
< <p id="section-appendix.a-1">This section gives some scenarios of the compression mechanism for IPv6/UDP. The goal is to illustrate the behavior of SCHC.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-2">The mechanisms defined in this document can be applied to a Dev that embeds some applications running over CoAP. In this example, three flows are considered. The first flow is for the device management based
---
> <p id="appendix-A-1">This section gives some scenarios of the compression mechanism for IPv6/UDP. The goal is to illustrate the behavior of SCHC.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
> <p id="appendix-A-2">The mechanisms defined in this document can be applied to a Dev that embeds some applications running over CoAP. In this example, three flows are considered. The first flow is for the device management based
4165,4166c4268,4269
< The last flow is for legacy applications using different ports numbers, the destination IPv6 address prefix is gamma::1/64.<a href="#section-appendix.a-2" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-3"><a href="#FigStack" class="xref">Figure 25</a> presents the protocol stack. IPv6 and UDP are represented with dotted lines since these protocols are compressed on the radio link.<a href="#section-appendix.a-3" class="pilcrow">¶</a></p>
---
> The last flow is for legacy applications using different ports numbers, the destination IPv6 address prefix is gamma::1/64.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
> <p id="appendix-A-3"><a href="#FigStack" class="auto internal xref">Figure 25</a> presents the protocol stack. IPv6 and UDP are represented with dotted lines since these protocols are compressed on the radio link.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
4169c4272
<         <div class="artwork art-text alignLeft" id="section-appendix.a-4.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-A-4.1">
4192c4295
<         <div class="artwork art-text alignLeft" id="section-appendix.a-5.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-A-5.1">
4225c4328
<         <div class="artwork art-text alignLeft" id="section-appendix.a-6.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-A-6.1">
4258c4361
<         <div class="artwork art-text alignLeft" id="section-appendix.a-7.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-A-7.1">
4287,4291c4390,4394
< <p id="section-appendix.a-8">Figures <a href="#Fig-fields" class="xref">26</a> to <a href="#Fig-fields2" class="xref">28</a> describe an example of a Rule set.<a href="#section-appendix.a-8" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-9">In this example, 0 was chosen as the special RuleID that tags packets that cannot be compressed with any compression Rule.<a href="#section-appendix.a-9" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-10">All the fields described in Rules 1-3 are present in the IPv6 and UDP headers. The DevIID value is inferred from the L2 header.<a href="#section-appendix.a-10" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-11">Rules 2-3 use global addresses. The way the Dev learns the prefix is not in the scope of the document.<a href="#section-appendix.a-11" class="pilcrow">¶</a></p>
< <p id="section-appendix.a-12">Rule 3 compresses each port number to 4 bits.<a href="#section-appendix.a-12" class="pilcrow">¶</a></p>
---
> <p id="appendix-A-8">Figures <a href="#Fig-fields" class="auto internal xref">26</a> to <a href="#Fig-fields2" class="auto internal xref">28</a> describe an example of a Rule set.<a href="#appendix-A-8" class="pilcrow">¶</a></p>
> <p id="appendix-A-9">In this example, 0 was chosen as the special RuleID that tags packets that cannot be compressed with any compression Rule.<a href="#appendix-A-9" class="pilcrow">¶</a></p>
> <p id="appendix-A-10">All the fields described in Rules 1-3 are present in the IPv6 and UDP headers. The DevIID value is inferred from the L2 header.<a href="#appendix-A-10" class="pilcrow">¶</a></p>
> <p id="appendix-A-11">Rules 2-3 use global addresses. The way the Dev learns the prefix is not in the scope of the document.<a href="#appendix-A-11" class="pilcrow">¶</a></p>
> <p id="appendix-A-12">Rule 3 compresses each port number to 4 bits.<a href="#appendix-A-12" class="pilcrow">¶</a></p>
4295c4398
< <section id="section-appendix.b">
---
> <section id="appendix-B">
4297c4400
< <a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-fragmentation-examples" class="section-name selfRef">Fragmentation Examples</a>
---
> <a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-fragmentation-examples" class="section-name selfRef">Fragmentation Examples</a>
4299,4301c4402,4404
< <p id="section-appendix.b-1">This section provides examples for the various fragment reliability modes specified in this document.
< In the drawings, Bitmaps are shown in their uncompressed form.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-2"><a href="#Fig-Example-Unreliable" class="xref">Figure 29</a> illustrates the transmission in No-ACK mode of a SCHC Packet that needs 11 SCHC Fragments. FCN is 1 bit wide.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-1">This section provides examples for the various fragment reliability modes specified in this document.
> In the drawings, Bitmaps are shown in their uncompressed form.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
> <p id="appendix-B-2"><a href="#Fig-Example-Unreliable" class="auto internal xref">Figure 29</a> illustrates the transmission in No-ACK mode of a SCHC Packet that needs 11 SCHC Fragments. FCN is 1 bit wide.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
4304c4407
<         <div class="artwork art-text alignLeft" id="section-appendix.b-3.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-3.1">
4324,4325c4427,4428
< <p id="section-appendix.b-4">In the following examples, N (the size of the FCN field) is 3 bits. The All-1 FCN value is therefore 7.<a href="#section-appendix.b-4" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-5"><a href="#Fig-Example-Win-NoLoss-NACK" class="xref">Figure 30</a> illustrates the transmission in ACK-on-Error mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, WINDOW_SIZE=7 and no lost SCHC Fragment.<a href="#section-appendix.b-5" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-4">In the following examples, N (the size of the FCN field) is 3 bits. The All-1 FCN value is therefore 7.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
> <p id="appendix-B-5"><a href="#Fig-Example-Win-NoLoss-NACK" class="auto internal xref">Figure 30</a> illustrates the transmission in ACK-on-Error mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, WINDOW_SIZE=7 and no lost SCHC Fragment.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
4328c4431
<         <div class="artwork art-text alignLeft" id="section-appendix.b-6.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-6.1">
4350c4453
< <p id="section-appendix.b-7"><a href="#Fig-Example-Rel-Window-NACK-Loss" class="xref">Figure 31</a> illustrates the transmission in ACK-on-Error mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, WINDOW_SIZE=7, and three lost SCHC Fragments.<a href="#section-appendix.b-7" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-7"><a href="#Fig-Example-Rel-Window-NACK-Loss" class="auto internal xref">Figure 31</a> illustrates the transmission in ACK-on-Error mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, WINDOW_SIZE=7, and three lost SCHC Fragments.<a href="#appendix-B-7" class="pilcrow">¶</a></p>
4353c4456
<         <div class="artwork art-text alignLeft" id="section-appendix.b-8.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-8.1">
4380,4381c4483,4484
< <p id="section-appendix.b-9"><a href="#Figure-Example-ACK-on-Error-VarMTU" class="xref">Figure 32</a> shows an example of a transmission in ACK-on-Error mode of a SCHC Packet fragmented in
< 73 tiles, with N=5, WINDOW_SIZE=28, M=2, and three lost SCHC Fragments.<a href="#section-appendix.b-9" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-9"><a href="#Figure-Example-ACK-on-Error-VarMTU" class="auto internal xref">Figure 32</a> shows an example of a transmission in ACK-on-Error mode of a SCHC Packet fragmented in
> 73 tiles, with N=5, WINDOW_SIZE=28, M=2, and three lost SCHC Fragments.<a href="#appendix-B-9" class="pilcrow">¶</a></p>
4384c4487
<         <div class="artwork art-text alignLeft" id="section-appendix.b-10.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-10.1">
4431,4434c4534,4537
< <p id="section-appendix.b-11">In this example, the L2 MTU becomes reduced just before sending the "W=2, FCN=19" fragment, leaving space for only one tile in each forthcoming SCHC Fragment.
< Before retransmissions, the 73 tiles are carried by a total of 25 SCHC Fragments, the last nine being of smaller size.<a href="#section-appendix.b-11" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-12">Note: other sequences of events (e.g., regarding when ACKs are sent by the Receiver) are also allowed by this specification. Profiles may restrict this flexibility.<a href="#section-appendix.b-12" class="pilcrow">¶</a></p>
< <p id="section-appendix.b-13"><a href="#Fig-Example-Rel-Window-ACK-NoLoss" class="xref">Figure 33</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, with N=3, WINDOW_SIZE=7, and no loss.<a href="#section-appendix.b-13" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-11">In this example, the L2 MTU becomes reduced just before sending the "W=2, FCN=19" fragment, leaving space for only one tile in each forthcoming SCHC Fragment.
> Before retransmissions, the 73 tiles are carried by a total of 25 SCHC Fragments, the last nine being of smaller size.<a href="#appendix-B-11" class="pilcrow">¶</a></p>
> <p id="appendix-B-12">Note: other sequences of events (e.g., regarding when ACKs are sent by the Receiver) are also allowed by this specification. Profiles may restrict this flexibility.<a href="#appendix-B-12" class="pilcrow">¶</a></p>
> <p id="appendix-B-13"><a href="#Fig-Example-Rel-Window-ACK-NoLoss" class="auto internal xref">Figure 33</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, with N=3, WINDOW_SIZE=7, and no loss.<a href="#appendix-B-13" class="pilcrow">¶</a></p>
4437c4540
<         <div class="artwork art-text alignLeft" id="section-appendix.b-14.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-14.1">
4459c4562
< <p id="section-appendix.b-15"><a href="#Fig-Example-Rel-Window-ACK-Loss" class="xref">Figure 34</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7 and three lost SCHC Fragments.<a href="#section-appendix.b-15" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-15"><a href="#Fig-Example-Rel-Window-ACK-Loss" class="auto internal xref">Figure 34</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 11 tiles, with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7 and three lost SCHC Fragments.<a href="#appendix-B-15" class="pilcrow">¶</a></p>
4462c4565
<         <div class="artwork art-text alignLeft" id="section-appendix.b-16.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-16.1">
4489,4490c4592,4593
< <p id="section-appendix.b-17"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-A" class="xref">Figure 35</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
< with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7, three lost SCHC Fragments, and only one retry needed to recover each lost SCHC Fragment.<a href="#section-appendix.b-17" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-17"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-A" class="auto internal xref">Figure 35</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
> with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7, three lost SCHC Fragments, and only one retry needed to recover each lost SCHC Fragment.<a href="#appendix-B-17" class="pilcrow">¶</a></p>
4493c4596
<         <div class="artwork art-text alignLeft" id="section-appendix.b-18.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-18.1">
4513,4514c4616,4617
< <p id="section-appendix.b-19"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-B" class="xref">Figure 36</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
< with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7, three lost SCHC Fragments, and the second SCHC ACK lost.<a href="#section-appendix.b-19" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-19"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-B" class="auto internal xref">Figure 36</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
> with one tile per SCHC Fragment, N=3, WINDOW_SIZE=7, three lost SCHC Fragments, and the second SCHC ACK lost.<a href="#appendix-B-19" class="pilcrow">¶</a></p>
4517c4620
<         <div class="artwork art-text alignLeft" id="section-appendix.b-20.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-20.1">
4540,4541c4643,4644
< <p id="section-appendix.b-21"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-C" class="xref">Figure 37</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
< with N=3, WINDOW_SIZE=7, with three lost SCHC Fragments, and one retransmitted SCHC Fragment lost again.<a href="#section-appendix.b-21" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-21"><a href="#Fig-Example-Rel-Window-ACK-Loss-Last-C" class="auto internal xref">Figure 37</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in six tiles,
> with N=3, WINDOW_SIZE=7, with three lost SCHC Fragments, and one retransmitted SCHC Fragment lost again.<a href="#appendix-B-21" class="pilcrow">¶</a></p>
4544c4647
<         <div class="artwork art-text alignLeft" id="section-appendix.b-22.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-22.1">
4568,4569c4671,4672
< <p id="section-appendix.b-23"><a href="#Fig-Example-MaxWindFCN" class="xref">Figure 38</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 28 tiles,
< with one tile per SCHC Fragment, N=5, WINDOW_SIZE=24, and two lost SCHC Fragments.<a href="#section-appendix.b-23" class="pilcrow">¶</a></p>
---
> <p id="appendix-B-23"><a href="#Fig-Example-MaxWindFCN" class="auto internal xref">Figure 38</a> illustrates the transmission in ACK-Always mode of a SCHC Packet fragmented in 28 tiles,
> with one tile per SCHC Fragment, N=5, WINDOW_SIZE=24, and two lost SCHC Fragments.<a href="#appendix-B-23" class="pilcrow">¶</a></p>
4572c4675
<         <div class="artwork art-text alignLeft" id="section-appendix.b-24.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-B-24.1">
4618c4721
< <section id="section-appendix.c">
---
> <section id="appendix-C">
4620c4723
< <a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-fragmentation-state-machine" class="section-name selfRef">Fragmentation State Machines</a>
---
> <a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-fragmentation-state-machine" class="section-name selfRef">Fragmentation State Machines</a>
4622c4725
< <p id="section-appendix.c-1">The fragmentation state machines of the sender and the receiver, one for each of the different reliability modes, are described in the following figures:<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
---
> <p id="appendix-C-1">The fragmentation state machines of the sender and the receiver, one for each of the different reliability modes, are described in the following figures:<a href="#appendix-C-1" class="pilcrow">¶</a></p>
4625c4728
<         <div class="artwork art-text alignLeft" id="section-appendix.c-2.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-2.1">
4651c4754
<         <div class="artwork art-text alignLeft" id="section-appendix.c-3.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-3.1">
4673c4776
<         <div class="artwork art-text alignLeft" id="section-appendix.c-4.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-4.1">
4726c4829
<         <div class="artwork art-text alignLeft" id="section-appendix.c-5.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-5.1">
4789c4892
<         <div class="artwork art-text alignLeft" id="section-appendix.c-6.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-6.1">
4846,4848c4949,4951
< <p id="section-appendix.c-7">This is an example only. It is not normative.
< The specification in <a href="#ACK-on-Error-sender" class="xref">Section 8.4.3.1</a> allows for sequences of operations different from the one shown here.<a href="#section-appendix.c-7" class="pilcrow">¶</a></p>
< <div class="artwork art-text alignLeft" id="section-appendix.c-8">
---
> <p id="appendix-C-7">This is an example only. It is not normative.
> The specification in <a href="#ACK-on-Error-sender" class="auto internal xref">Section 8.4.3.1</a> allows for sequences of operations different from the one shown here.<a href="#appendix-C-7" class="pilcrow">¶</a></p>
> <div class="alignLeft art-text artwork" id="appendix-C-8">
4895c4998
<         set[cur_W,Bmp_n(FCN)]</pre><a href="#section-appendix.c-8" class="pilcrow">¶</a>
---
>         set[cur_W,Bmp_n(FCN)]</pre><a href="#appendix-C-8" class="pilcrow">¶</a>
4899c5002
<         <div class="artwork art-text alignLeft" id="section-appendix.c-9.1">
---
>         <div class="alignLeft art-text artwork" id="appendix-C-9.1">
4928c5031
< <section id="section-appendix.d">
---
> <section id="appendix-D">
4930c5033
< <a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-schc-parameters" class="section-name selfRef">SCHC Parameters</a>
---
> <a href="#appendix-D" class="section-number selfRef">Appendix D. </a><a href="#name-schc-parameters" class="section-name selfRef">SCHC Parameters</a>
4932,4934c5035,5037
< <p id="section-appendix.d-1">This section lists the information that needs to be provided in the LPWAN technology-specific documents.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.d-2.1">Most common uses cases, deployment scenarios.<a href="#section-appendix.d-2.1" class="pilcrow">¶</a>
---
> <p id="appendix-D-1">This section lists the information that needs to be provided in the LPWAN technology-specific documents.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="appendix-D-2.1">Most common uses cases, deployment scenarios.<a href="#appendix-D-2.1" class="pilcrow">¶</a>
4936c5039
< <li id="section-appendix.d-2.2">Mapping of the SCHC architectural elements onto the LPWAN architecture.<a href="#section-appendix.d-2.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-2.2">Mapping of the SCHC architectural elements onto the LPWAN architecture.<a href="#appendix-D-2.2" class="pilcrow">¶</a>
4938c5041
< <li id="section-appendix.d-2.3">Assessment of LPWAN integrity checking.<a href="#section-appendix.d-2.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-2.3">Assessment of LPWAN integrity checking.<a href="#appendix-D-2.3" class="pilcrow">¶</a>
4940c5043
< <li id="section-appendix.d-2.4">Various potential channel conditions for the technology and the corresponding recommended use of SCHC C/D and SCHC F/R.<a href="#section-appendix.d-2.4" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-2.4">Various potential channel conditions for the technology and the corresponding recommended use of SCHC C/D and SCHC F/R.<a href="#appendix-D-2.4" class="pilcrow">¶</a>
4943,4945c5046,5048
< <p id="section-appendix.d-3">This section lists the parameters that need to be defined in the Profile.<a href="#section-appendix.d-3" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.d-4.1">RuleID numbering scheme, fixed-size or variable-size RuleIDs, number of Rules, the way the RuleID is transmitted.<a href="#section-appendix.d-4.1" class="pilcrow">¶</a>
---
> <p id="appendix-D-3">This section lists the parameters that need to be defined in the Profile.<a href="#appendix-D-3" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="appendix-D-4.1">RuleID numbering scheme, fixed-size or variable-size RuleIDs, number of Rules, the way the RuleID is transmitted.<a href="#appendix-D-4.1" class="pilcrow">¶</a>
4947c5050
< <li id="section-appendix.d-4.2">maximum packet size that should ever be reconstructed by SCHC decompression (MAX_PACKET_SIZE). See <a href="#SecConsiderations" class="xref">Section 12</a>.<a href="#section-appendix.d-4.2" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-4.2">maximum packet size that should ever be reconstructed by SCHC decompression (MAX_PACKET_SIZE). See <a href="#SecConsiderations" class="auto internal xref">Section 12</a>.<a href="#appendix-D-4.2" class="pilcrow">¶</a>
4949c5052
< <li id="section-appendix.d-4.3">Padding: size of the L2 Word (for most LPWAN technologies, this would be a byte; for some technologies, a bit).<a href="#section-appendix.d-4.3" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-4.3">Padding: size of the L2 Word (for most LPWAN technologies, this would be a byte; for some technologies, a bit).<a href="#appendix-D-4.3" class="pilcrow">¶</a>
4951,4954c5054,5057
< <li id="section-appendix.d-4.4">
<           <p id="section-appendix.d-4.4.1">Decision to use SCHC fragmentation mechanism or not. If yes, the document must describe:<a href="#section-appendix.d-4.4.1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.d-4.4.2.1">reliability mode(s) used, in which cases (e.g., based on link channel condition).<a href="#section-appendix.d-4.4.2.1" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-4.4">
>           <p id="appendix-D-4.4.1">Decision to use SCHC fragmentation mechanism or not. If yes, the document must describe:<a href="#appendix-D-4.4.1" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="appendix-D-4.4.2.1">reliability mode(s) used, in which cases (e.g., based on link channel condition).<a href="#appendix-D-4.4.2.1" class="pilcrow">¶</a>
4956c5059
< <li id="section-appendix.d-4.4.2.2">RuleID values assigned to each mode in use.<a href="#section-appendix.d-4.4.2.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.2">RuleID values assigned to each mode in use.<a href="#appendix-D-4.4.2.2" class="pilcrow">¶</a>
4958c5061
< <li id="section-appendix.d-4.4.2.3">presence and number of bits for DTag (T) for each RuleID value, lifetime of DTag at the receiver.<a href="#section-appendix.d-4.4.2.3" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.3">presence and number of bits for DTag (T) for each RuleID value, lifetime of DTag at the receiver.<a href="#appendix-D-4.4.2.3" class="pilcrow">¶</a>
4960c5063
< <li id="section-appendix.d-4.4.2.4">support for interleaved packet transmission, to what extent.<a href="#section-appendix.d-4.4.2.4" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.4">support for interleaved packet transmission, to what extent.<a href="#appendix-D-4.4.2.4" class="pilcrow">¶</a>
4962c5065
< <li id="section-appendix.d-4.4.2.5">WINDOW_SIZE, for modes that use windows.<a href="#section-appendix.d-4.4.2.5" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.5">WINDOW_SIZE, for modes that use windows.<a href="#appendix-D-4.4.2.5" class="pilcrow">¶</a>
4964c5067
< <li id="section-appendix.d-4.4.2.6">number of bits for W (M) for each RuleID value, for modes that use windows.<a href="#section-appendix.d-4.4.2.6" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.6">number of bits for W (M) for each RuleID value, for modes that use windows.<a href="#appendix-D-4.4.2.6" class="pilcrow">¶</a>
4966c5069
< <li id="section-appendix.d-4.4.2.7">number of bits for FCN (N) for each RuleID value, meaning of the FCN values.<a href="#section-appendix.d-4.4.2.7" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.7">number of bits for FCN (N) for each RuleID value, meaning of the FCN values.<a href="#appendix-D-4.4.2.7" class="pilcrow">¶</a>
4968c5071
< <li id="section-appendix.d-4.4.2.8">what makes an All-0 SCHC Fragment and a SCHC ACK REQ distinguishable (see <a href="#NotLastFrag" class="xref">Section 8.3.1.1</a>).<a href="#section-appendix.d-4.4.2.8" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.8">what makes an All-0 SCHC Fragment and a SCHC ACK REQ distinguishable (see <a href="#NotLastFrag" class="auto internal xref">Section 8.3.1.1</a>).<a href="#appendix-D-4.4.2.8" class="pilcrow">¶</a>
4970c5073
< <li id="section-appendix.d-4.4.2.9">what makes an All-1 SCHC Fragment and a SCHC Sender-Abort distinguishable (see <a href="#LastFrag" class="xref">Section 8.3.1.2</a>).<a href="#section-appendix.d-4.4.2.9" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.9">what makes an All-1 SCHC Fragment and a SCHC Sender-Abort distinguishable (see <a href="#LastFrag" class="auto internal xref">Section 8.3.1.2</a>).<a href="#appendix-D-4.4.2.9" class="pilcrow">¶</a>
4972c5075
< <li id="section-appendix.d-4.4.2.10">for RuleIDs that use ACK-on-Error mode: when the last tile of a SCHC Packet is to be sent in a Regular SCHC Fragment, alone in an All-1 SCHC Fragment or with any of these two methods.<a href="#section-appendix.d-4.4.2.10" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.10">for RuleIDs that use ACK-on-Error mode: when the last tile of a SCHC Packet is to be sent in a Regular SCHC Fragment, alone in an All-1 SCHC Fragment or with any of these two methods.<a href="#appendix-D-4.4.2.10" class="pilcrow">¶</a>
4974c5077
< <li id="section-appendix.d-4.4.2.11">for RuleIDs that use ACK-on-Error mode: if the penultimate tile of a SCHC Packet is of the regular size only or if it can also be one L2 Word shorter.<a href="#section-appendix.d-4.4.2.11" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.11">for RuleIDs that use ACK-on-Error mode: if the penultimate tile of a SCHC Packet is of the regular size only or if it can also be one L2 Word shorter.<a href="#appendix-D-4.4.2.11" class="pilcrow">¶</a>
4976c5079
< <li id="section-appendix.d-4.4.2.12">for RuleIDs that use ACK-on-Error mode: times at which the sender must listen for SCHC ACKs.<a href="#section-appendix.d-4.4.2.12" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.12">for RuleIDs that use ACK-on-Error mode: times at which the sender must listen for SCHC ACKs.<a href="#appendix-D-4.4.2.12" class="pilcrow">¶</a>
4978c5081
< <li id="section-appendix.d-4.4.2.13">size of RCS and algorithm for its computation, for each RuleID, if different from the default CRC32. Byte fill-up with zeroes or other mechanism, to be specified. Support for UDP checksum elision.<a href="#section-appendix.d-4.4.2.13" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.13">size of RCS and algorithm for its computation, for each RuleID, if different from the default CRC32. Byte fill-up with zeroes or other mechanism, to be specified. Support for UDP checksum elision.<a href="#appendix-D-4.4.2.13" class="pilcrow">¶</a>
4980c5083
< <li id="section-appendix.d-4.4.2.14">Retransmission Timer duration for each RuleID value, if applicable to the SCHC F/R mode.<a href="#section-appendix.d-4.4.2.14" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.14">Retransmission Timer duration for each RuleID value, if applicable to the SCHC F/R mode.<a href="#appendix-D-4.4.2.14" class="pilcrow">¶</a>
4982c5085
< <li id="section-appendix.d-4.4.2.15">Inactivity Timer duration for each RuleID value, if applicable to the SCHC F/R mode.<a href="#section-appendix.d-4.4.2.15" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.15">Inactivity Timer duration for each RuleID value, if applicable to the SCHC F/R mode.<a href="#appendix-D-4.4.2.15" class="pilcrow">¶</a>
4984c5087
< <li id="section-appendix.d-4.4.2.16">MAX_ACK_REQUESTS value for each RuleID value, if applicable to the SCHC F/R mode.<a href="#section-appendix.d-4.4.2.16" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-4.4.2.16">MAX_ACK_REQUESTS value for each RuleID value, if applicable to the SCHC F/R mode.<a href="#appendix-D-4.4.2.16" class="pilcrow">¶</a>
4988c5091
< <li id="section-appendix.d-4.5">if L2 Word is wider than a bit and SCHC fragmentation is used, value of the padding bits (0 or 1).<a href="#section-appendix.d-4.5" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-4.5">if L2 Word is wider than a bit and SCHC fragmentation is used, value of the padding bits (0 or 1).<a href="#appendix-D-4.5" class="pilcrow">¶</a>
4991,4993c5094,5096
< <p id="section-appendix.d-5">A Profile may define a delay to be added after each SCHC message transmission for compliance with local regulations or other constraints imposed by the applications.<a href="#section-appendix.d-5" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.d-6.1">In some LPWAN technologies, as part of energy-saving techniques,
---
> <p id="appendix-D-5">A Profile may define a delay to be added after each SCHC message transmission for compliance with local regulations or other constraints imposed by the applications.<a href="#appendix-D-5" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="appendix-D-6.1">In some LPWAN technologies, as part of energy-saving techniques,
4999c5102
< in a L2 PDU that requires an L2 ACK) or it may be triggered from an upper layer. See <a href="#AsymLinks" class="xref">Appendix F</a>.<a href="#section-appendix.d-6.1" class="pilcrow">¶</a>
---
> in a L2 PDU that requires an L2 ACK) or it may be triggered from an upper layer. See <a href="#AsymLinks" class="auto internal xref">Appendix F</a>.<a href="#appendix-D-6.1" class="pilcrow">¶</a>
5001,5005c5104,5108
< <li id="section-appendix.d-6.2">
<           <p id="section-appendix.d-6.2.1">the following parameters need to be addressed in documents other than this one but not necessarily in
< the LPWAN technology-specific documents:<a href="#section-appendix.d-6.2.1" class="pilcrow">¶</a></p>
< <ul>
< <li id="section-appendix.d-6.2.2.1">The way the Contexts are provisioned.<a href="#section-appendix.d-6.2.2.1" class="pilcrow">¶</a>
---
>         <li class="normal" id="appendix-D-6.2">
>           <p id="appendix-D-6.2.1">the following parameters need to be addressed in documents other than this one but not necessarily in
> the LPWAN technology-specific documents:<a href="#appendix-D-6.2.1" class="pilcrow">¶</a></p>
> <ul class="normal">
> <li class="normal" id="appendix-D-6.2.2.1">The way the Contexts are provisioned.<a href="#appendix-D-6.2.2.1" class="pilcrow">¶</a>
5007c5110
< <li id="section-appendix.d-6.2.2.2">The way the Rules are generated.<a href="#section-appendix.d-6.2.2.2" class="pilcrow">¶</a>
---
>             <li class="normal" id="appendix-D-6.2.2.2">The way the Rules are generated.<a href="#appendix-D-6.2.2.2" class="pilcrow">¶</a>
5015c5118
< <section id="section-appendix.e">
---
> <section id="appendix-E">
5017c5120
< <a href="#section-appendix.e" class="section-number selfRef">Appendix E. </a><a href="#name-supporting-multiple-window-" class="section-name selfRef">Supporting Multiple Window Sizes for Fragmentation</a>
---
> <a href="#appendix-E" class="section-number selfRef">Appendix E. </a><a href="#name-supporting-multiple-window-" class="section-name selfRef">Supporting Multiple Window Sizes for Fragmentation</a>
5019c5122
< <p id="section-appendix.e-1">For ACK-Always or ACK-on-Error, implementers may opt to support a single window size or multiple window sizes.  The latter, when feasible, may provide performance optimizations.  For example, a large WINDOW_SIZE should be used for packets that need to be split into a large number of tiles. However, when the number of tiles required to carry a packet is low, a smaller WINDOW_SIZE and, thus, a shorter Bitmap, may be sufficient to provide reception status on all tiles. If multiple window sizes are supported, the RuleID signals what WINDOW_SIZE is in use for a specific packet transmission.<a href="#section-appendix.e-1" class="pilcrow">¶</a></p>
---
> <p id="appendix-E-1">For ACK-Always or ACK-on-Error, implementers may opt to support a single window size or multiple window sizes.  The latter, when feasible, may provide performance optimizations.  For example, a large WINDOW_SIZE should be used for packets that need to be split into a large number of tiles. However, when the number of tiles required to carry a packet is low, a smaller WINDOW_SIZE and, thus, a shorter Bitmap, may be sufficient to provide reception status on all tiles. If multiple window sizes are supported, the RuleID signals what WINDOW_SIZE is in use for a specific packet transmission.<a href="#appendix-E-1" class="pilcrow">¶</a></p>
5023c5126
< <section id="section-appendix.f">
---
> <section id="appendix-F">
5025c5128
< <a href="#section-appendix.f" class="section-number selfRef">Appendix F. </a><a href="#name-ack-always-and-ack-on-error" class="section-name selfRef">ACK-Always and ACK-on-Error on Quasi-Bidirectional Links</a>
---
> <a href="#appendix-F" class="section-number selfRef">Appendix F. </a><a href="#name-ack-always-and-ack-on-error" class="section-name selfRef">ACK-Always and ACK-on-Error on Quasi-Bidirectional Links</a>
5027,5029c5130,5132
< <p id="section-appendix.f-1">The ACK-Always and ACK-on-Error modes of SCHC F/R are bidirectional protocols:
< they require a feedback path from the reassembler to the fragmenter.<a href="#section-appendix.f-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-2">Some LPWAN technologies provide quasi-bidirectional connectivity,
---
> <p id="appendix-F-1">The ACK-Always and ACK-on-Error modes of SCHC F/R are bidirectional protocols:
> they require a feedback path from the reassembler to the fragmenter.<a href="#appendix-F-1" class="pilcrow">¶</a></p>
> <p id="appendix-F-2">Some LPWAN technologies provide quasi-bidirectional connectivity,
5031,5032c5134,5135
< right after an Uplink transmission by the Dev.<a href="#section-appendix.f-2" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-3">When using SCHC F/R to send fragmented SCHC Packets Downlink over these quasi-bidirectional links,
---
> right after an Uplink transmission by the Dev.<a href="#appendix-F-2" class="pilcrow">¶</a></p>
> <p id="appendix-F-3">When using SCHC F/R to send fragmented SCHC Packets Downlink over these quasi-bidirectional links,
5035,5036c5138,5139
< at the Network Infrastructure, waiting for a transmission opportunity.<a href="#section-appendix.f-3" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-4">There are many ways by which this deadlock can be avoided.
---
> at the Network Infrastructure, waiting for a transmission opportunity.<a href="#appendix-F-3" class="pilcrow">¶</a></p>
> <p id="appendix-F-4">There are many ways by which this deadlock can be avoided.
5039,5040c5142,5143
< However, these are out of the control of this generic SCHC specification.<a href="#section-appendix.f-4" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-5">In order to cope with quasi-bidirectional links, a SCHC-over-foo specification may want to amend
---
> However, these are out of the control of this generic SCHC specification.<a href="#appendix-F-4" class="pilcrow">¶</a></p>
> <p id="appendix-F-5">In order to cope with quasi-bidirectional links, a SCHC-over-foo specification may want to amend
5043,5046c5146,5149
< Because it is an example, <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> language is deliberately not used here.<a href="#section-appendix.f-5" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-6">For Downlink transmission of a fragmented SCHC Packet in ACK-Always mode, the SCHC Fragment receiver may support timer-based SCHC ACK retransmission. In this mechanism, the SCHC Fragment receiver initializes and starts a timer (the UplinkACK Timer) after the transmission of a SCHC ACK, except when the SCHC ACK is sent in response to the last SCHC Fragment of a packet (All-1 fragment). In the latter case, the SCHC Fragment receiver does not start a timer after transmission of the SCHC ACK.<a href="#section-appendix.f-6" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-7">If, after transmission of a SCHC ACK that is not an All-1 fragment, and before expiration of the corresponding UplinkACK timer, the SCHC Fragment receiver receives a SCHC Fragment that belongs to the current window (e.g., a missing SCHC Fragment from the current window) or to the next window, the UplinkACK timer for the SCHC ACK is stopped. However, if the UplinkACK timer expires, the SCHC ACK is resent and the UplinkACK timer is reinitialized and restarted.<a href="#section-appendix.f-7" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-8">The default initial value for the UplinkACK Timer, as well as the maximum number of retries for a specific SCHC ACK, denoted MAX_ACK_REQUESTS, is to be defined in a Profile.
---
> Because it is an example, <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> language is deliberately not used here.<a href="#appendix-F-5" class="pilcrow">¶</a></p>
> <p id="appendix-F-6">For Downlink transmission of a fragmented SCHC Packet in ACK-Always mode, the SCHC Fragment receiver may support timer-based SCHC ACK retransmission. In this mechanism, the SCHC Fragment receiver initializes and starts a timer (the UplinkACK Timer) after the transmission of a SCHC ACK, except when the SCHC ACK is sent in response to the last SCHC Fragment of a packet (All-1 fragment). In the latter case, the SCHC Fragment receiver does not start a timer after transmission of the SCHC ACK.<a href="#appendix-F-6" class="pilcrow">¶</a></p>
> <p id="appendix-F-7">If, after transmission of a SCHC ACK that is not an All-1 fragment, and before expiration of the corresponding UplinkACK timer, the SCHC Fragment receiver receives a SCHC Fragment that belongs to the current window (e.g., a missing SCHC Fragment from the current window) or to the next window, the UplinkACK timer for the SCHC ACK is stopped. However, if the UplinkACK timer expires, the SCHC ACK is resent and the UplinkACK timer is reinitialized and restarted.<a href="#appendix-F-7" class="pilcrow">¶</a></p>
> <p id="appendix-F-8">The default initial value for the UplinkACK Timer, as well as the maximum number of retries for a specific SCHC ACK, denoted MAX_ACK_REQUESTS, is to be defined in a Profile.
5049,5050c5152,5153
< One exception to this recommendation is the special case of the All-1 SCHC Fragment transmission.<a href="#section-appendix.f-8" class="pilcrow">¶</a></p>
< <p id="section-appendix.f-9">When the SCHC Fragment sender transmits the All-1 SCHC Fragment,
---
> One exception to this recommendation is the special case of the All-1 SCHC Fragment transmission.<a href="#appendix-F-8" class="pilcrow">¶</a></p>
> <p id="appendix-F-9">When the SCHC Fragment sender transmits the All-1 SCHC Fragment,
5058c5161
< (and possibly, the last SCHC ACK has been lost: this mechanism assumes that the Retransmission Timer for the All-1 SCHC Fragment is long enough to allow several SCHC ACK retries if the All-1 SCHC Fragment has not been received by the SCHC Fragment receiver, and it also assumes that it is unlikely that several ACKs become all lost).<a href="#section-appendix.f-9" class="pilcrow">¶</a></p>
---
> (and possibly, the last SCHC ACK has been lost: this mechanism assumes that the Retransmission Timer for the All-1 SCHC Fragment is long enough to allow several SCHC ACK retries if the All-1 SCHC Fragment has not been received by the SCHC Fragment receiver, and it also assumes that it is unlikely that several ACKs become all lost).<a href="#appendix-F-9" class="pilcrow">¶</a></p>
5062c5165
< <section id="section-appendix.g">
---
> <section id="appendix-G">
5066c5169
< <p id="section-appendix.g-1">Thanks to (in alphabetical order)
---
> <p id="appendix-G-1">Thanks to (in alphabetical order)
5097,5099c5200,5202
< for useful design considerations, reviews and comments.<a href="#section-appendix.g-1" class="pilcrow">¶</a></p>
< <p id="section-appendix.g-2"><span class="contact-name">Carles Gomez</span> has been funded in part by the Spanish Government (Ministerio de Educacion, Cultura y Deporte) through the Jose
< Castillejo grant CAS15/00336 and by the ERDF and the Spanish Government through project TEC2016-79988-P.  Part of his contribution to this work has been carried out during his stay as a visiting scholar at the Computer Laboratory of the University of Cambridge.<a href="#section-appendix.g-2" class="pilcrow">¶</a></p>
---
> for useful design considerations, reviews and comments.<a href="#appendix-G-1" class="pilcrow">¶</a></p>
> <p id="appendix-G-2"><span class="contact-name">Carles Gomez</span> has been funded in part by the Spanish Government (Ministerio de Educacion, Cultura y Deporte) through the Jose
> Castillejo grant CAS15/00336 and by the ERDF and the Spanish Government through project TEC2016-79988-P.  Part of his contribution to this work has been carried out during his stay as a visiting scholar at the Computer Laboratory of the University of Cambridge.<a href="#appendix-G-2" class="pilcrow">¶</a></p>
5103c5206
< <section id="section-appendix.h">
---
> <section id="appendix-H">
